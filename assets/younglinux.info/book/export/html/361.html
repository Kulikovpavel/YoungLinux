<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Урок 1. Типы данных и их вывод</title>
    <base href="" />
    <link type="text/css" rel="stylesheet" href="http://younglinux.info/misc/print.css" />
      </head>
  <body>
              <div class="section-1">
          
    <div id="node-361" class="section-2">
  <h1 class="book-heading">Урок 1. Типы данных и их вывод</h1>
  <p class="right">Особенности языка С. Учебное пособие</p>
<p>Эта тема не так проста как кажется. Точнее она проста, но достаточно объемна по количеству информации. Лучше в ней разобраться до конца и запомнить некоторые вещи наизусть.</p>
<p>На этом уроке мы познакомимся с особенностями функции <span class="geshifilter"><code class="python geshifilter-python">printf<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span></code></span> и типами данных: целыми и вещественными числами, символами, массивами и строками. Это далеко не все допустимые в <span class="blue">C</span> типы. Есть еще указатели, структуры, объединения, перечисления, также в <span class="blue">C</span> существует возможность определять собственные типы данных.</p>
<h3>Функция printf() и форматированный вывод</h3>
<p>Вывод символов на экран, а точнее в стандартный поток вывода, осуществляется в языке <span class="blue">C</span> помощью функции <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span>. Эта функция выводит на экран строку, переданную первым аргументом, предварительно заменив в ней специальные комбинации символов преобразованными в символы данными, переданными последующими аргументами. Следующие после первой строки данные могут быть строками, символами, целыми или вещественными числами, а также указателями. У каждого типа данных имеется свое обозначение — своя спецификация формата. </p>
<p>На прошлом уроке мы выводили строку "Hello World" вот так:<br />
<span class="geshifilter"><code class="c geshifilter-c">&nbsp; <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;Hello World<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></code></span><br />
Однако то же самое можно было получить так:<br />
<span class="geshifilter"><code class="c geshifilter-c">&nbsp; <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%s<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">&quot;Hello World&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></code></span><br />
Здесь <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #339933;">%</span>s</code></span> — это спецификация строкового формата, т.е. вместо <span class="geshifilter"><code class="python geshifilter-python"><span style="color: #66cc66;">%</span>s</code></span> будет подставлены последующие переданные в функцию данные, которые должны быть строкой. Вывод целого числа может выглядеть так:<br />
<span class="geshifilter"><code class="c geshifilter-c">&nbsp; <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%d<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> 5<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></code></span><br />
Вместо числа 5 может стоять переменная целочисленного типа. Функция <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span> может принимать произвольное число параметров:<br />
<span class="geshifilter"><code class="c geshifilter-c">&nbsp; <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%d %s, %d %s.<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000dd;">3</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">&quot;dogs&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000dd;">2</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">&quot;cats&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></code></span><br />
При выводе данные подставляются по очередности следования: 3 на место первой спецификации, dogs на место второй и т.д. Т.е. следует строго соблюдать соответствие форматов и последующих данных.</p>
<p>Под выводимые данные можно выделять больше знакомест, чем необходимо. Для этого между знаком % и буквой формата прописывается целое число, обозначающие ширину поля, например так: <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #339933;">%</span>10d</code></span>. По умолчанию выравнивание происходит по правому краю. Для выравнивания по левому краю перед числом ставится знак минус.</p>
<p><span class="blue"><strong>Задание</strong><br />
<img src="../../../img/c/printf.png" width="204" height="160" alt="Функция printf()" style="float:left;" />Напишите программу, которая выводила бы на экране данные примерно так, как на картинке. При этом используйте возможность задать ширину поля, а также выравнивание по левому и правому краям.</span><br />
<br /><br /></p>
<h3>Целые числа</h3>
<p>В языке <span class="blue">C</span> существует несколько типов целых чисел. Они различаются между собой объемом памяти, отводимым под переменную, а также возможностью присваивания положительных и отрицательных чисел. От объема памяти, т.е. от количества выделяемых байтов под переменную, зависит, каким может быть максимально возможное число, записанное в данную переменную. Так, если под переменную выделяется 2 байта и ей можно присваивать только положительные числа, то эти числа будут в диапазоне от 0 до 65535. (Если вы не знаете, почему это так, то спросите.)</p>
<p>Чаще всего используется тип <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">int</span></code></span>. Вот пример, где происходит объявление и определение (присваивание значений) целочисленных переменных, а также вывод их значений на экран:<br />
<div class="geshifilter"><pre class="c geshifilter-c" style="font-family:monospace;"><span style="color: #339933;">#include &lt;stdio.h&gt;</span>
&nbsp;
main<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
  <span style="color: #993333;">int</span> lines<span style="color: #339933;">,</span> i<span style="color: #339933;">;</span>
  <span style="color: #993333;">int</span> count <span style="color: #339933;">=</span> <span style="color: #0000dd;">0</span><span style="color: #339933;">;</span>
&nbsp;
  lines <span style="color: #339933;">=</span> <span style="color: #0000dd;">100</span><span style="color: #339933;">;</span>
  i <span style="color: #339933;">=</span> <span style="color: #339933;">-</span><span style="color: #0000dd;">1</span><span style="color: #339933;">;</span>
  <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%5d %5d %5d<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> i<span style="color: #339933;">,</span> count<span style="color: #339933;">+</span>10<span style="color: #339933;">,</span> lines<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span></pre></div></p>
<p>Обратите внимание, что присваивать значение можно при объявлении переменных.</p>
<p><span class="blue"><strong>Задание</strong><br />
Обычно под переменную типа int отводится 4 байта. Определите (узнайте, вспомните) максимально и минимально возможные значения для переменных такого типа. Объявите в программе переменную max типа int и присвойте ей значение на единицу больше максимально допустимого. Запрограммируйте вывод значения переменной на экран. Скомпилируйте программу и запустите. Чему равна переменная? Почему?</span></p>
<p><span class="blue">Что будет, если переменной присвоить значение на единицу меньше минимально допустимого ее типом?</span></p>
<p>Помимо типа <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">int</span></code></span> в языке программирования <span class="blue">C</span> существуют другие (модифицированные) целочисленные типы: </p>
<ul>
<li><span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">short</span></code></span> — отводится меньше байтов, чем на <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">int</span></code></span>;</li>
<li><span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">long</span></code></span> — отводится больше байтов, чем на <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">int</span></code></span> (не всегда, зависит от системы);</li>
<li><span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">unsigned</span></code></span> — столько же байт как у <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">int</span></code></span>, но без отрицательных чисел; в результате чего знаковый разряд освобождается, и количество положительных значений увеличивается;</li>
<li><span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">unsigned</span> shot</code></span>;</li>
<li><span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">unsigned</span> <span style="color: #993333;">long</span></code></span>.</li>
</ul>
<p>Вот по-моему и все. При выводе длинных чисел следует дополнять спецификацию формата буквой l перед буквой формата. Например:<br />
<div class="geshifilter"><pre class="c geshifilter-c" style="font-family:monospace;">  <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%ld<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span>i<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%15ld<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span>i<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div></p>
<h3>Символы </h3>
<p>Под символьный тип данных отводится 1 байт памяти. Также, как вам должно быть известно, у каждого символа есть соответствующее ему целое число по таблице символов (в данном случае, ASCII). </p>
<p>Тип <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">char</span></code></span> языка программирования <span class="blue">C</span> включает диапазон чисел от -128 до 127. Значения от 0 до 127 могут быть заданы или выведены на экран в виде соответствующих символов (на самом деле не все). Если значение переменной определяется в виде символа, то символ заключается в одиночные кавычки, например, так: 'w'. Также в языке существует тип <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">unsigned</span> <span style="color: #993333;">char</span></code></span> с диапазоном чисел от 0 до 255.</p>
<p>С другой стороны, если переменная задана как <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">int</span></code></span> или <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">short</span></code></span> и ей присвоено значение в диапазоне, где оно может быть представлено символом, то значение можно вывести как символ. Соответственно целочисленной переменной можно присвоить символ.</p>
<p>Если в программе вы будете использовать целые числа со значениями до 127 или 255 и  хотите сэкономить память, то объявите переменную как <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">char</span></code></span> или <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">unsigned</span> <span style="color: #993333;">char</span></code></span>.</p>
<p>Получается, что в программе символы — это числа, а числа — символы. Тогда как указать, что мы хотим видеть на экране: символ или число? Для вывода на экран символов используется спецификация формата вида <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #339933;">%</span>c</code></span>.</p>
<p><span class="blue"><strong>Задание</strong><br />
Спишите программу представленную ниже. Выполните ее, объясните результат. Самостоятельно поэкспериментируйте, изменяя значения переменных и их тип.</span><br />
<div class="geshifilter"><pre class="c geshifilter-c" style="font-family:monospace;"><span style="color: #339933;">#include &lt;stdio.h&gt;</span>
&nbsp;
main<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
  <span style="color: #993333;">char</span> ch <span style="color: #339933;">=</span> <span style="color: #0000dd;">63</span><span style="color: #339933;">;</span>
  <span style="color: #993333;">unsigned</span> <span style="color: #993333;">char</span> uch <span style="color: #339933;">=</span> <span style="color: #ff0000;">'r'</span><span style="color: #339933;">;</span>
  <span style="color: #993333;">short</span> j <span style="color: #339933;">=</span> <span style="color: #ff0000;">'b'</span><span style="color: #339933;">,</span> k <span style="color: #339933;">=</span> <span style="color: #0000dd;">99</span><span style="color: #339933;">;</span>
  <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%c == %d<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> ch<span style="color: #339933;">,</span> ch<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%c == %d<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> uch<span style="color: #339933;">,</span> uch<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%c, %c<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> j<span style="color: #339933;">,</span> k<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span></pre></div></p>
<h3>Вещественные числа</h3>
<p>В языке <span class="blue">C</span> существует три типа чисел с плавающей точкой: <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">float</span></code></span> и <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">double</span></code></span> (двойной точности) и <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">long</span> <span style="color: #993333;">double</span></code></span>. Также существует три формата вывода вещественных чисел, причем они не связаны с типом, а связаны с удобством представления числа. Вещественные числа могут иметь высокую точность, очень маленькое или очень большое значение. Если выполнить функции <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span> с такими параметрами:<br />
<div class="geshifilter"><pre class="c geshifilter-c" style="font-family:monospace;">  <span style="color: #993333;">double</span> a <span style="color: #339933;">=</span> <span style="color:#800080;">0.0005</span><span style="color: #339933;">;</span>
  <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%f<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> a<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%g<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> 0.0005<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%g<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> 0.00005<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%e<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> 0.0005<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div></p>
<p>, то на экране мы увидим следующее:</p>
<pre>
0.000500 
0.0005 
5e-05 
5.000000e-04 
</pre><p>
В первом случае (<span class="geshifilter"><code class="c geshifilter-c"><span style="color: #339933;">%</span>f</code></span>) выводится число в обычном виде. По умолчанию точность представления числа равна шести знакам после точки. </p>
<p>Во втором случае (<span class="geshifilter"><code class="c geshifilter-c"><span style="color: #339933;">%</span>g</code></span>) число выводится как обычно, если количество значащих нулей не больше четырех. Если количество значащих нулей четыре и больше, то число выводится в нормализованном виде (третий случай). Запись 5e-5 означает 5 * 10<sup>-5</sup>, что равно 0.00005. А, например, запись 4.325e+3 является экспоненциальной записью 4.325 * 10<sup>3</sup>, что равно 4325. Если с такой формой представления чисел вы сталкиваетесь первый раз, то почитайте дополнительные источники, например, статью в Википедии "Экспоненциальная запись".</p>
<p>Четвертый формат (<span class="geshifilter"><code class="c geshifilter-c"><span style="color: #339933;">%</span>e</code></span>) выведет число исключительно в нормализованном виде, каким бы это вещественное число ни было.</p>
<p>Если при выводе требуется округлить число до определенной точности, то перед буквой-форматом ставят точку и число-указатель точности. Например, <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%.2f&quot;</span><span style="color: #339933;">,</span> <span style="color:#800080;">0.23</span><span style="color: #009900;">&#41;</span></code></span> выведет на экран 0.23, а не 0.230000. Когда требуется указать еще и поле, то его ширину прописывают перед точкой, например, <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #339933;">%</span><span style="color:#800080;">10.3f</span></code></span>.</p>
<p><span class="blue"><strong>Задание</strong><br />
Напишите программу, в которой должны быть две переменные любых вещественных типов. Одной переменной присвойте достаточно маленькое, а другой — большое значение. Выведите на экран значения этих переменных с использованием различных форматов. При использовании форматов <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #339933;">%</span>f</code></span> и <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #339933;">%</span>e</code></span> округлите числа до трех знаков после точки.</span></p>
<h3>Массивы</h3>
<p>Переменные, содержащие массивы, в языке программирования <span class="blue">C</span> объявляются, например, так:<br />
<div class="geshifilter"><pre class="c geshifilter-c" style="font-family:monospace;">  <span style="color: #993333;">int</span> arr<span style="color: #009900;">&#91;</span>5<span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> nums<span style="color: #009900;">&#91;</span>N<span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span>
  <span style="color: #993333;">float</span> f_arr<span style="color: #009900;">&#91;</span>100<span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span>
  <span style="color: #993333;">char</span> str<span style="color: #009900;">&#91;</span>80<span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span></pre></div></p>
<p>При этом если используется константа, то она должна быть определена до своего использования следующим образом (чаще константы определяют вне функций):<br />
<span class="geshifilter"><code class="c geshifilter-c"><span style="color: #339933;">#define N 100</span></code></span></p>
<p>На самом деле <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #339933;">#define</span></code></span> является командой препроцессора, используемой не только для определения констант. Когда препроцессор обрабатывает исходный файл программы, он подставляет во все места, где была упомянута константа ее значение.</p>
<p>Запомните, индексация массивов в языке программирования C начинается с нуля.</p>
<p>Присваивание значений элементам массивов можно произвести сразу или в процессе выполнения программы. Например:<br />
<div class="geshifilter"><pre class="c geshifilter-c" style="font-family:monospace;">  <span style="color: #993333;">char</span> vowels<span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#123;</span><span style="color: #ff0000;">'a'</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">'e'</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">'i'</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">'o'</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">'u'</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">'y'</span><span style="color: #009900;">&#125;</span><span style="color: #339933;">;</span>
  <span style="color: #993333;">float</span> f_arr<span style="color: #009900;">&#91;</span>6<span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span>
&nbsp;
  f_arr<span style="color: #009900;">&#91;</span>0<span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color:#800080;">25.3</span><span style="color: #339933;">;</span>
  f_arr<span style="color: #009900;">&#91;</span>4<span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color:#800080;">34.2</span><span style="color: #339933;">;</span>
  <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%c, %.2f<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> vowels<span style="color: #009900;">&#91;</span>4<span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> f_arr<span style="color: #009900;">&#91;</span>0<span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div></p>
<p>Когда переменная-массив объявляется и сразу определяется (как в случае <span class="monoi">vowels</span>), то размер массива можно не указывать, т.к. он вычисляется по количеству элементов, переданных в фигурных скобках.</p>
<h3>Строки</h3>
<p>В языке программирования <span class="blue">С</span> нет такого типа данных как строки, хотя формат вывода строки есть (<span class="geshifilter"><code class="c geshifilter-c"><span style="color: #339933;">%</span>s</code></span>). Под словами "нет такого типа данных" я подразумеваю отсутствие специального ключевого слова, которое бы определяло переменную строкового типа (по аналогии с переменными типа <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">int</span></code></span> или <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">float</span></code></span>). Строки в языке программирования <span class="blue">C</span> интерпретируются как массивы символов, последний элемент которых является самым первым (с номером 0) символом в таблице ASCII. В этом месте в таблице стоит "ничто", имеющее символьное обозначение '\0'. </p>
<p>С другой стороны, строки — это необычные массивы в том смысле, что работа с ними в языке программирования <span class="blue">C</span> несколько отличается от работы с числовыми массивами. В этом мы убедимся позже. </p>
<p>Выше мы объявили и определили массив <span class="monoi">vowels</span>. Если бы мы его определили вот так:<br />
<span class="geshifilter"><code class="c geshifilter-c">&nbsp; <span style="color: #993333;">char</span> vowels<span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#123;</span><span style="color: #ff0000;">'a'</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">'e'</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">'i'</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">'o'</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">'u'</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">'y'</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">'<span style="color: #006699; font-weight: bold;">\0</span>'</span><span style="color: #009900;">&#125;</span><span style="color: #339933;">;</span></code></span><br />
или так:<br />
<span class="geshifilter"><code class="c geshifilter-c">&nbsp; <span style="color: #993333;">char</span> vowels1<span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #ff0000;">&quot;aeiouy&quot;</span><span style="color: #339933;">;</span></code></span><br />
то он бы был строкой. Во втором случае сами двойные кавычки "говорят" что это строка, и символ окончания строки '\0' записывается в память. </p>
<p>Массивы символов можно выводить на экран просто указав имя переменной, а вот с массивами чисел такой номер не пройдет:<br />
<div class="geshifilter"><pre class="c geshifilter-c" style="font-family:monospace;">  <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%s<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> vowels<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%f<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> f_arr<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">// ошибка</span></pre></div></p>
<h3>Функция sizeof()</h3>
<p>Функция <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">sizeof</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span> языка <span class="blue">C</span> принимает в качестве аргумента константу, тип данных или переменную и возвращает количество байт, которые отведено под этот объект в памяти ЭВМ. </p>
<p>При выводе на экран значения, возвращаемого <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">sizeof</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span> используется формат <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #339933;">%</span>lu</code></span> (длинное целое без знака). Примеры:<br />
<div class="geshifilter"><pre class="c geshifilter-c" style="font-family:monospace;">  <span style="color: #993333;">int</span> a <span style="color: #339933;">=</span> <span style="color: #0000dd;">10</span><span style="color: #339933;">;</span>
  <span style="color: #993333;">int</span> b<span style="color: #009900;">&#91;</span>100<span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span>
  <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;Integer: %lu <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> <span style="color: #993333;">sizeof</span><span style="color: #009900;">&#40;</span>a<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;Float: %lu <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> <span style="color: #993333;">sizeof</span><span style="color: #009900;">&#40;</span><span style="color: #993333;">float</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;Array of 100 integers: %lu <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> <span style="color: #993333;">sizeof</span><span style="color: #009900;">&#40;</span>b<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div></p>
<p><span class="blue"><strong>Задание</strong><br />
Напишите программу, выводящую информацию о количестве байтов, отводимых в памяти под типы данных, которые были изучены на данном уроке. При работе с массивами символов, определенными строковыми константами (в двойных кавычках), обратите внимание, что размер массива больше на единицу, чем количество видимых символов. Вспомните, почему?</span> </p>
<p><span class="blue">Если у вас на компьютере есть вторая операционная система, то скомпилируйте программу и там; сравните полученные результаты. Вот что получилось у меня в результате компиляции с помощью GCC в Xubuntu и Fedora:</span></p>
<div style="text-align:center;"><img src="../../../img/c/ubuntu_fedora.png" width="630" height="350" alt="Результат выполнения программы на C в Ubuntu и Fedora" /></div>
  </div>
    </div>
  </body>
</html>
