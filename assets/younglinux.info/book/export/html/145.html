<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Роль слоев в компьютерной анимации</title>
    <base href="" />
    <link type="text/css" rel="stylesheet" href="http://younglinux.info/misc/print.css" />
      </head>
  <body>
              <div class="section-1">
          
    <div id="node-145" class="section-2">
  <h1 class="book-heading">Роль слоев в компьютерной анимации</h1>
  <h2>1. Понятие слоя</h2>
<p>Слои в анимации можно представить как стопку просвечивающихся листов бумаги. На каждом таком листе может быть одно или несколько изображений (рис. 1). Такой механизм организации рисунка позволяет изменить одно изображение не затрагивая другое, а также упрощает математическую модель анимации. В результате размер готового файла становится меньше.</p>
<div style="text-align:center;"><img src="../../../sites/default/files/images/layer.preview.png" width="640" height="235" alt="Слои в компьютерной графике" /><br />
Рис. 1. Слои в графике</div>
<p>Еще одно неоспоримое преимущество слоев в компьютерной графике: их можно перемещать относительно друг друга, выдвигая на передний план то или иное изображение.</p>
<h2>2. Работа со слоями в Synfig</h2>
<p>Несмотря на то, что на одном слое можно разместить несколько изображений, в Synfig Studio поддерживается идея «каждому примитиву отдельный слой». Поэтому новый слой автоматически создается при рисовании любой фигуры. Это неудобно для сложных изображений, например, изображения человека, которое может состоять из множества примитивов, а анимировать его необходимо целиком. Однако в Synfig можно группировать слои, а затем перемещать группу уже как единое целое. </p>
<p>Панель слоев «по-умолчанию» располагается в нижней части правого «плавающего» окна. Если нарисовать на холсте несколько фигур, то на данной панели будет отображен список слоев (рис. 2).</p>
<div style="text-align:center;"><img src="../../../img/synfig/layers.png" width="460" height="341" alt="Панель Layers в Synfig" /><br />
Рис. 2. Панель Layers<br />
(а – обозначение панели, б — список слоев,<br />
в — кнопки управления слоями, г — имена слоев)</div>
<p>Имя слоя можно изменить. Для этого необходимо выделить слой, затем щелкнуть по названию, вписать новое имя и нажать Enter. Снятие флажка (слева) делает слой невидимым. Часто это бывает удобно при редактировании изображения. Кнопки в нижней части панели предназначены для управления слоями. Например, первые две (со стрелками) позволяют перемещать слои относительно друг друга.</p>
<p>Рассмотрим практическое применение слоев: допустим нам необходимо создать изображение, как на рисунке 3</p>
<p>.</p>
<div style="text-align:center;"><img src="../../../img/synfig/picture.png" width="485" height="275" alt="Рисунок, созданный в программе Synfig Studio" /><br />
Рис. 3. Изображение, созданное с помощью инструментов Circle, Rectangle и Polygon</div>
<p>Дом состоит из восьми прямоугольников, машина — из многоугольника и двух кругов, также на рисунке имеется изображение солнца в виде простого круга. После того, как данные изображения будут созданы, на панели Layers окажется двенадцать слоев (рис. 4.1). В таком виде понять, какой примитив, какому объекту принадлежит весьма затруднительно, а уж анимировать все это количество будет невероятно сложно. Поэтому объединим слои, формирующие дом в одну «капсулу», а машину — в другую. Для этого следует выделить слои всех «частей дома» (с помощью зажатой клавиши Shift или Ctrl) и выполнить команду Encapsulate (кнопка внизу панели Layers или через контекстное меню). Тоже самое необходимо сделать и по отношению к машине. Теперь картина слоев будет выглядеть немного лучше (рис. 4.2). Кроме того, неплохо бы переименовать слои (рис. 4.3). Следует иметь ввиду, что если щелкнуть по треугольнику слева от названия, то раскроется список слоев, входящих в объединение. Другими словами, фигуры все-равно сохраняют автономность, поэтому каждый элемент можно редактировать отдельно по-прежнему.</p>
<div style="text-align:center;"><img src="../../../sites/default/files/images/layers.preview.png" width="640" height="331" alt="Работа со слоями в Synfig Studio" /><br />
Рис. 4. Слои составного изображения<br />
(1 — множество слоев, 2 — объединенные слои, 3 — переименованные слои)</div>
<p>Задание. <em>Нарисуйте в Synfig Studio изображения солнца, дома и машины. Объедините и переименуйте слои.</em></p>
<p>Вопрос. <em>В чем будет заключаться разница в анимации, если слой «Дом» будет находиться над слоем «Машина»?</em> </p>
<h2>3. Перемещение объектов, состоящих из нескольких слоев</h2>
<p>В Synfig Studio существует одна особенность при перемещении составного изображения.</p>
<p>Когда мы выполняем инкапсуляцию несколько слоев, то у этого, нового слоя появляется «точка центра», за которую возможно переносить изображение (рис. 5). Эта точка всегда оказывается в центре холста. Однако само изображение может быть сбоку. В этом нет ничего страшного, но иногда бывает удобнее, чтобы центр был в центре самого изображения. Рассмотрим, как можно переместить «точку центра».</p>
<div style="text-align:center;"><img src="../../../img/synfig/pointcenter.png" width="338" height="165" alt="Метка для перемещения слоя в Synfig" /><br />
Рис. 5. Вид объекта на холсте при выделении составного слоя «Машина»<br />
(а — точка для перемещения слоя)</div>
<p>Сначала необходимо раскрыть список слоев составного изображения на панели Layers. Выделить все вложенные слои и составной слой (рис. 6.1). С помощью инструмента Normal выделить все метки (легче это сделать с помощью рамки выделения) (рис. 6.2). Взять изображение за любую метку и переместить на центральную точку (рис. 6.3). После этого, уже за центральную точку можно перемещать изображение в любую часть холста.</p>
<div style="text-align:center;"><img src="../../../sites/default/files/images/pointcenter.preview.png" width="640" height="189" alt="Этапы перемещения «точки центра» изображения" /><br />
Рис. 6. Этапы перемещения «точки центра» изображения</div>
<p>Задание. <em>Переместите центральные точки машины и дома в центр самих изображений.</em></p>
<h2>4. Анимация нескольких объектов</h2>
<p>Итак, все подготовительные мероприятия завершены и теперь следует приступить к самой анимации. Допустим, что по сценарию за 5 секунд машина должна переместиться от левой границы холста до правой, а солнце за это же время совершить путь от левой границе до центра. Причем машина пусть едет так, чтобы за 4 секунды доехать только до середины, а за последнюю одну секунду преодолеть весь оставшийся путь. Начальное положение объектов должно быть примерно таким, как на рисунке 3.</p>
<p>Этапы создания анимации:</p>
<ol>
<li>Включить режим анимации.</li>
<li>Создать ключевые кадры в начале 1-й и 5-й секунд. </li>
<li>Перейти в последний кадр.</li>
<li>Переместить изображение солнца в центр холста, а машины — на правую границу холста.</li>
<li>Создать ключевой кадр в начале 4-й секунды. </li>
<li>Переместить машину немного назад (в центр холста).</li>
</ol>
<p>Задание. <em>Создайте анимацию по плану описанному выше. Посмотрите ее с помощью команды File ? Preview.</em></p>
<h2>5. Выводы</h2>
<ul>
<li>Слои в компьютерной графике играют важную роль. Они позволяют менять одни объекты рисунка, не затрагивая другие. </li>
<li>Обычно для работы со слоями в графических и анимационных средах предусмотрена специальная панель.</li>
<li>Слои можно перемещать (поднимать и опускать). Верхний слой в списке образует передний план изображения. </li>
<li>Часто в программах компьютерной анимации допускается группировка слоев.</li>
<li>Каждый слой анимируется отдельно. Часть слоев может не содержать анимации.</li>
</ul>
<h2>6. Самостоятельная работа</h2>
<ol>
<li>Создайте мультфильм «Теннис» (рис. 7), в котором должны двигаться как ракетки, так и мяч.<br />
<div style="text-align:center;"><img src="../../../img/synfig/tennis.png" width="469" height="259" alt="Анимация в Synfig Studio" /><br />
Рис. 7. Изображение трех прямоугольников и круга</div>
</li>
<li>Создайте мультфильм «Светофор», где по сценарию должен сначала гореть красный свет 1,5 секунды, затем желтый — полсекунды и, наконец, зеленый — 1 секунду. </li>
<li>Самостоятельно придумайте сценарий какого-нибудь мультфильма и реализуйте его в Synfig Studio.</li>
</ol>
  </div>
    </div>
  </body>
</html>
