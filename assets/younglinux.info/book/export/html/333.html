<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Урок 3. Добавление материалов, их типы. Фильтры HTML</title>
    <base href="" />
    <link type="text/css" rel="stylesheet" href="http://younglinux.info/misc/print.css" />
      </head>
  <body>
              <div class="section-1">
          
    <div id="node-333" class="section-2">
  <h1 class="book-heading">Урок 3. Добавление материалов, их типы. Фильтры HTML</h1>
  <p class="right">Создание сайта на Drupal 6. Практический вводный курс</p>
<p>Отметим на будущее, что будем создавать web-сайт типа "блог". Блог представляет собой регулярно обновляемый сайт статей, отсортированных в хронологическом порядке, и предполагающий комментарии читателей.</p>
<p>Первая страница, которую мы создадим, будет называться "О сайте". Обычно все приличные сайты имеют такую страницу; на ней может содержаться информация о том,  какой теме посвящен данный сайт, его структура, принципы, цели, предположительная аудитория, авторские права, контакты и др.</p>
<p>Для того, чтобы добавить контент в Drupal, нажмите в меню <span class="monoi">Создать публикацию</span> (или <span class="monoi">Создать материал</span>). Материалы сайта бывают разным по своему назначению и содержанию. Это может быть запись, основное назначение которой информировать посетителей сайта, ставить их перед фактом; или это может быть запись, предполагающая коллективное обсуждение (запись блога, например); или материал, главной частью которого является изображение или видеозапись; также бывает материал, представляющий собой коллекцию ссылок на другие материалы, объединенные по тому или иному признаку. От типа материала зависит, какие части могут быть у содержимого страницы. Поэтому форма создания каждого типа материала может иметь свои нюансы и особенности, но не обязательно. По умолчанию  в системе Drupal включены только два типа материала: <span class="monoi">Page</span> (страница) и <span class="monoi">Story</span> (заметка, рассказ). По своей структуре эти материалы ничем не отличаются, но имеют разное смысловое назначение. Page предназначен для более "статичного" материала: того, который реже меняется. Такой тип как раза больше всего подходит для создания страницы "О сайте".</p>
<p>После выбора <span class="monoi">Page</span> перед вами откроется форма для заполнения. В поле <span class="monoi">Title</span> вписывается название статьи, в поле <span class="monoi">Body</span> – ее текст. Сочините и напишите два-три абзаца о вашем сайте. Теперь развернем раздел <span class="monoi">Параметры меню</span>. Название ссылки в меню может быть таким же, как ее заголовок, хотя может и отличаться (если заголовок статьи очень длинный, то ссылки в меню стараются сделать немного короче). Сложнее обстоит дело с выбором места расположения ссылки. На сайте может быть несколько меню. Есть те, которые уже созданы самой системой Drupal (Primary links, Secondary links), однако большинство меню вы будете создавать сами. Любое меню представляет собой блок, и как любой блок может быть отключено или расположено в любой области сайта. По умолчанию меню Primary links включено, его расположение зависит от темы (обычно где-нибудь вверху), а мы его не видим лишь потому, что на данный момент в нем нет ни одной ссылки. Оставим в списке Родительский пункт вариант <span class="monoi">Primary links</span> и сохраним материал.</p>
<p>После этого вы увидите, как выглядит готовая страница. Обратите внимание на адресную строку браузера, там будет значиться <span class="blue">developer.home/node/1</span>. Это адрес данной страницы. В системе Drupal принято статьи называть нодами (node). Не трудно догадаться, что следующая статься будет иметь адрес <span class="blue">developer.home/node/2</span>. Перейдите на главную страницу сайта (заметьте, что она осталась прежней) и затем щелкните по ссылке "О сайте", которая должна была появиться в верхней его части.</p>
<p>При написании статьи, скорее всего, вы создавали новые абзацы одним нажатием Enter. Так происходит во всех текстовых процессорах, но не в системе Drupal. Здесь один Enter означает разрыв строки (<span class="geshifilter"><code class="python geshifilter-python"><span style="color: #66cc66;">&lt;</span>br<span style="color: #66cc66;">&gt;</span></code></span>), а два Enter – формирование абзаца (<span class="geshifilter"><code class="python geshifilter-python"><span style="color: #66cc66;">&lt;</span>p<span style="color: #66cc66;">&gt;</span></code></span>).  Если вы посмотрите исходный код страницы, на которой расположена нода "О сайте", и найдете там свой текст, то увидите, что он весь обрамлен единственным контейнером <span class="geshifilter"><code class="python geshifilter-python"><span style="color: #66cc66;">&lt;</span>p<span style="color: #66cc66;">&gt;</span> … <span style="color: #66cc66;">&lt;</span>/p<span style="color: #66cc66;">&gt;</span></code></span>, внутри которого встречаются один-два тега <span class="geshifilter"><code class="python geshifilter-python"><span style="color: #66cc66;">&lt;</span>br/<span style="color: #66cc66;">&gt;</span></code></span>. Отредактируйте статью, нажав на кнопку <span class="monoi">Редактировать</span> (<span class="monoi">Изменить</span>) около ее названия: вставьте между абзацами пустые строки. Теперь снова посмотрите исходный код страницы, отметьте разницу.</p>
<p>Добавленная нами статья не появилась на главной странице сайта. Это связано с настройками типа материала Page: по умолчанию статьи туда не выводится. Но это вовсе не значит, что мы не может поместить на главную страницу какую-нибудь избранную статью. На странице редактирования материала раскройте раздел <span class="monoi">Параметры публикации</span> (он находится в конце). Установите флажок <span class="monoi">Помещать на главную</span> и сохраните материал. Теперь перейдите на главную страницу сайта; она изменилась: приглашение исчезло, появилась статья в урезанном виде (если конечно, она не слишком маленькая, тогда вы увидите ее целиком). Надо понимать, что это не сама нода, а лишь ее "представление", ссылка на нее. По мере добавления материала на сайт на главной странице сверху будут появляться ссылки и усеченные версии новых статей (если, конечно, для них установлен флажок Помещать на главную), а более старые будут опускаться вниз.<br />
Нода "О сайте" нам на главной странице не нужна, поэтому отредактируйте материал снова, убрав соответствующий флажок.</p>
<p>На странице <span class="monoi">Управление</span> в разделе <span class="monoi">Управление содержимым</span> выберите пункт <span class="monoi">Содержимое</span>. Перед вами откроется форма, позволяющая видеть, какие материалы есть на сайте, искать (фильтровать) материалы определенного типа, осуществлять с ним ряд действий. Эта страница бывает весьма полезна, если надо снять с публикации несколько статей или разместить их на главной странице. Редактировать каждую из них было бы достаточно трудоемко. Пока, как мы видим, на сайте существует только одна статья, так что пока нам здесь делать нечего.</p>
<p>Сайт будет блогом. Запись в блоге — это особый тип материала, это не Page и не Story. Включить тип материала <span class="monoi">Запись в блоге</span> можно на странице Модули (модуль Blog). Теперь при попытке создать материал, помимо страниц и историй, вам будет предложена возможность создать блоговую запись.</p>
<p>Создадим свою первую запись в блоге. В качестве материала можете взять статью "Краткая история языков программирования" (1). Поместите ее заголовок в поле <span class="monoi">Заголовок</span>, а все остальное в <span class="monoi">Содержимое</span>, разделите содержимое на абзацы и сохраните материал. Убедитесь, что усеченный материал статьи появился на главной странице, а адрес самой статьи — <span class="blue">developer.home/node/2</span>. </p>
<p>Статья получилась неоформленной, по-идее в ней должны быть подзаголовки (<span class="geshifilter"><code class="python geshifilter-python"><span style="color: #66cc66;">&lt;</span>h2<span style="color: #66cc66;">&gt;</span></code></span> или <span class="geshifilter"><code class="python geshifilter-python"><span style="color: #66cc66;">&lt;</span>h3<span style="color: #66cc66;">&gt;</span></code></span>) и выделение терминов курсивом (<span class="geshifilter"><code class="python geshifilter-python"><span style="color: #66cc66;">&lt;</span>em<span style="color: #66cc66;">&gt;</span></code></span>). Ничего нам не мешает отрыть статью на редактирование и прописать соответствующие теги. Однако сначала надо определиться с уровнем подзаголовков. Понятно, что они должны быть младше, чем основной заголовок статьи. Чтобы выяснить, какого он уровня, посмотрим исходный код страницы. Если заголовок статьи второго уровня, то логично будет выделять подзаголовки третьим уровнем. Заходим в редактирование, обрамляем подзаголовки в контейнер <span class="geshifilter"><code class="python geshifilter-python"><span style="color: #66cc66;">&lt;</span>h3<span style="color: #66cc66;">&gt;</span> … <span style="color: #66cc66;">&lt;</span>/h3<span style="color: #66cc66;">&gt;</span></code></span>, а термины — в <span class="geshifilter"><code class="python geshifilter-python"><span style="color: #66cc66;">&lt;</span>em<span style="color: #66cc66;">&gt;</span> … <span style="color: #66cc66;">&lt;</span>/em<span style="color: #66cc66;">&gt;</span></code></span>.</p>
<p>Сохранив статью, видим, что курсив сработал, а заголовки — нет. Об этом же свидетельствует и исходный код страницы: там нет тегов <span class="geshifilter"><code class="python geshifilter-python"><span style="color: #66cc66;">&lt;</span>h3<span style="color: #66cc66;">&gt;</span></code></span>. Почему? Давайте вернемся  на страницу редактирования и раскроем там раздел <span class="monoi">Формат ввода</span>. Здесь переключатель по умолчанию стоит на варианте <span class="monoi">Filter HTML</span>, а среди допустимых тегов нет тега <span class="geshifilter"><code class="python geshifilter-python"><span style="color: #66cc66;">&lt;</span>h3<span style="color: #66cc66;">&gt;</span></code></span>. Именно поэтому он не был интерпретирован. Переключитесь на вариант <span class="monoi">Full HTML</span> и сохраните изменения. Теперь заголовки третьего уровня есть. Хотя их вид может оставлять желать лучшего, но они все-таки есть.</p>
<p>Однако предпочтительнее использовать именно формат ввода Filter HTML, что связано с безопасностью сайта. Поэтому сделаем немного по-другому. Сначала снова включим вариант <span class="monoi">Filter HTML</span> для статьи, а затем перейдем на страницу <span class="monoi">Управление ? Форматы ввода</span> (находится в разделе <span class="monoi">Настройка сайта</span>). Здесь выберем <span class="monoi">Настроить</span> напротив <span class="monoi">Filter HTML</span>, а далее следует щелкнуть на кнопке <span class="monoi">Настройки</span> вверху. В поле <span class="monoi">Допускаются только следующие HTML теги</span> через пробел надо дописать тег <span class="geshifilter"><code class="python geshifilter-python"><span style="color: #66cc66;">&lt;</span>h3<span style="color: #66cc66;">&gt;</span></code></span> и сохранить изменения. Тем самым мы изменили сам фильтр.</p>
<p>Добавьте еще пару записей в блог: "Языки программирования. Общая характеристика" (2) и "Некоторые причины и тенденции развития языков программирования" (3). При этом   разметьте соответствующие части статей с помощью тегов HTML (списки - <span class="geshifilter"><code class="python geshifilter-python"><span style="color: #66cc66;">&lt;</span>ol<span style="color: #66cc66;">&gt;</span>, <span style="color: #66cc66;">&lt;</span>ul<span style="color: #66cc66;">&gt;</span></code></span>, усиление - <span class="geshifilter"><code class="python geshifilter-python"><span style="color: #66cc66;">&lt;</span>strong<span style="color: #66cc66;">&gt;</span></code></span>).</p>
<p>Посмотрите, как выглядит главная страница.</p>
  </div>
    </div>
  </body>
</html>
