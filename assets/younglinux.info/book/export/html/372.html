<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Урок 12. Массивы и функции</title>
    <base href="" />
    <link type="text/css" rel="stylesheet" href="http://younglinux.info/misc/print.css" />
      </head>
  <body>
              <div class="section-1">
          
    <div id="node-372" class="section-2">
  <h1 class="book-heading">Урок 12. Массивы и функции</h1>
  <p class="right">Особенности языка С. Учебное пособие</p>
<p>Массивы, также как остальные переменные, можно передавать в функции в качестве аргументов. Рассмотрим такую программу:<br />
<div class="geshifilter"><pre class="c geshifilter-c" style="font-family:monospace;"><span style="color: #339933;">#include &lt;stdio.h&gt;</span>
<span style="color: #339933;">#include &lt;time.h&gt;</span>
&nbsp;
<span style="color: #339933;">#define N 10</span>
&nbsp;
<span style="color: #993333;">void</span> arr_make<span style="color: #009900;">&#40;</span><span style="color: #993333;">int</span> arr<span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #993333;">int</span> min<span style="color: #339933;">,</span> <span style="color: #993333;">int</span> max<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
main <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
  <span style="color: #993333;">int</span> arrI<span style="color: #009900;">&#91;</span>N<span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> i<span style="color: #339933;">;</span>
&nbsp;
  arr_make<span style="color: #009900;">&#40;</span>arrI<span style="color: #339933;">,</span> 30<span style="color: #339933;">,</span> 90<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
  <span style="color: #b1b100;">for</span> <span style="color: #009900;">&#40;</span>i<span style="color: #339933;">=</span><span style="color: #0000dd;">0</span><span style="color: #339933;">;</span> i<span style="color: #339933;">&lt;</span>N<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span>
    <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%d &quot;</span><span style="color: #339933;">,</span> arrI<span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span>
&nbsp;
<span style="color: #993333;">void</span> arr_make<span style="color: #009900;">&#40;</span><span style="color: #993333;">int</span> arr<span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #993333;">int</span> min<span style="color: #339933;">,</span> <span style="color: #993333;">int</span> max<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
  <span style="color: #993333;">int</span> i<span style="color: #339933;">;</span>
&nbsp;
  srand<span style="color: #009900;">&#40;</span>time<span style="color: #009900;">&#40;</span>NULL<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
  <span style="color: #b1b100;">for</span> <span style="color: #009900;">&#40;</span>i<span style="color: #339933;">=</span><span style="color: #0000dd;">0</span><span style="color: #339933;">;</span> i<span style="color: #339933;">&lt;</span>N<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span>
    arr<span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> rand<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">%</span> <span style="color: #009900;">&#40;</span>max <span style="color: #339933;">-</span> min <span style="color: #339933;">+</span> 1<span style="color: #009900;">&#41;</span> <span style="color: #339933;">+</span> min<span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span></pre></div></p>
<p>В теле функции <span class="geshifilter"><code class="c geshifilter-c">main<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span> объявляется массив, состоящий из 10 элементов. Далее вызывается функция <span class="geshifilter"><code class="c geshifilter-c">arr_make<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span>, которой передаются в качестве аргументов имя массива и два целых числа. </p>
<p>Если посмотреть на функцию <span class="geshifilter"><code class="c geshifilter-c">arr_make<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span>, то можно заметить, что ее первый параметр выглядит немного странно. Функция принимает массив неизвестно какого размера. Если предположить, что массивы передаются по значению, т.е. передаются их копии, то как при компиляции будет вычислен необходимый объем памяти для функции <span class="geshifilter"><code class="c geshifilter-c">arr_make<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span>, если неизвестно какого размера будет один из ее параметров?</p>
<p>На прошлом уроке мы выяснили, что имя массива — это константный указатель на первый элемент массива; т.е. имя массива содержит адрес. Выходит, что мы передаем в функцию копию адреса, а не копию значения. Как мы уже знаем, передача адреса приводит к возможности изменения локальных переменных в вызывающей функции из вызываемой. Ведь на одну и ту же ячейку памяти могут ссылаться множество переменных, и изменение значения в этой ячейке с помощью одной переменной неминуемо отражается на значениях других переменных.</p>
<p>Описание вида <span class="geshifilter"><code class="c geshifilter-c">arr<span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span></code></span> в параметрах функций говорит о том, что в качестве значения мы получаем указатель на массив, а не обычную (скалярную) переменную типа int, char, float и т.п.</p>
<p><span class="blue"><strong>Задание</strong><br />
Проверьте как работает программа. Что происходит внутри тела функции <span class="geshifilter"><code class="c geshifilter-c">arr_make<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span>?</span></p>
<p>Продолжим рассуждения. Если в функцию передается только адрес массива, то в теле функции никакого массива не существует, и когда там выполняется выражение типа <span class="geshifilter"><code class="c geshifilter-c">arr<span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span></code></span>, то на самом деле <span class="monoi">arr</span> — это не имя массива, а переменная-указатель, к которой прибавляется смещение. Поэтому цикл в функции <span class="geshifilter"><code class="c geshifilter-c">arr_make<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span> можно переписать на такой:<br />
<div class="geshifilter"><pre class="c geshifilter-c" style="font-family:monospace;"><span style="color: #b1b100;">for</span><span style="color: #009900;">&#40;</span>i<span style="color: #339933;">=</span><span style="color: #0000dd;">0</span><span style="color: #339933;">;</span> i<span style="color: #339933;">&lt;</span>N<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span>
	<span style="color: #339933;">*</span>arr<span style="color: #339933;">++</span> <span style="color: #339933;">=</span> rand<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">%</span> <span style="color: #009900;">&#40;</span>max <span style="color: #339933;">-</span> min <span style="color: #339933;">+</span> 1<span style="color: #009900;">&#41;</span> <span style="color: #339933;">+</span> min<span style="color: #339933;">;</span></pre></div></p>
<p>В теле цикла результат выражения справа от знака присваивания записывается по адресу, на который указывает <span class="monoi">arr</span>. За это отвечает выражение <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #339933;">*</span>arr</code></span>. Затем указатель <span class="monoi">arr</span> начинает указывать на следующую ячейку памяти, т.к. к нему прибавляется единица (<span class="geshifilter"><code class="c geshifilter-c">arr<span style="color: #339933;">++</span></code></span>). Еще раз: сначала выполняется выражение записи значения по адресу, который содержится в <span class="monoi">arr</span>; после чего изменяется адрес, содержащийся в указателе (сдвигается на одну ячейку памяти определенного размера).</p>
<p>Поскольку мы можем изменять <span class="monoi">arr</span>, это доказывает, что <span class="monoi">arr</span> — обычный указатель, а не имя массива. Тогда зачем в заголовке функции такой гламур, как <span class="geshifilter"><code class="c geshifilter-c">arr<span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span></code></span>? Действительно, чаще  используют просто переменную-указатель:<br />
<span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">void</span> arr_make<span style="color: #009900;">&#40;</span><span style="color: #993333;">int</span> <span style="color: #339933;">*</span>arr<span style="color: #339933;">,</span> <span style="color: #993333;">int</span> min<span style="color: #339933;">,</span> <span style="color: #993333;">int</span> max<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></code></span></p>
<p>Хотя в таком случае становится не очевидно, что принимает функция - указатель на обычную переменную или все-таки на массив. В любом случае она будет работать.</p>
<p><span class="blue"><strong>Задание</strong><br />
Перепишите программу с использованием нотации указателей.</span></p>
<p>Часто при передаче в функцию массивов туда же передают и количество его элементов в виде отдельного параметра. В примере выше <span class="monoi">N</span> является глобальной константой, поэтому ее значение доступно как из функции <span class="geshifilter"><code class="c geshifilter-c">main<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span>, так и <span class="geshifilter"><code class="c geshifilter-c">arr_make<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span>. Иначе, более грамотно было бы написать функцию <span class="geshifilter"><code class="c geshifilter-c">arr_make<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span> так:<br />
<div class="geshifilter"><pre class="c geshifilter-c" style="font-family:monospace;"><span style="color: #993333;">void</span> arr_make<span style="color: #009900;">&#40;</span><span style="color: #993333;">int</span> <span style="color: #339933;">*</span>arr<span style="color: #339933;">,</span> <span style="color: #993333;">int</span> n<span style="color: #339933;">,</span> <span style="color: #993333;">int</span> min<span style="color: #339933;">,</span> <span style="color: #993333;">int</span> max<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
  <span style="color: #993333;">int</span> i<span style="color: #339933;">;</span>
&nbsp;
  srand<span style="color: #009900;">&#40;</span>time<span style="color: #009900;">&#40;</span>NULL<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
  <span style="color: #b1b100;">for</span> <span style="color: #009900;">&#40;</span>i<span style="color: #339933;">=</span><span style="color: #0000dd;">0</span><span style="color: #339933;">;</span> i<span style="color: #339933;">&lt;</span>n<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span>
    arr<span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> rand<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">%</span> <span style="color: #009900;">&#40;</span>max <span style="color: #339933;">-</span> min <span style="color: #339933;">+</span> 1<span style="color: #009900;">&#41;</span> <span style="color: #339933;">+</span> min<span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span></pre></div></p>
<p>В данном случае параметр <span class="monoi">n</span> — это количество обрабатываемых элементов массива.</p>
<p>Следует еще раз обратить внимание на то, что при передачи имени массива в функцию, последняя может его изменять. Однако такой эффект не всегда является желательным. Конечно, можно просто не менять значения элементов массива внутри функции, как в данном примере, где вычисляется сумма элементов массива; при этом сами элементы никак не изменяются:<br />
<div class="geshifilter"><pre class="c geshifilter-c" style="font-family:monospace;"><span style="color: #993333;">int</span> arr_sum<span style="color: #009900;">&#40;</span><span style="color: #993333;">int</span> <span style="color: #339933;">*</span>arr<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
  <span style="color: #993333;">int</span> i<span style="color: #339933;">,</span> s<span style="color: #339933;">=</span><span style="color: #0000dd;">0</span><span style="color: #339933;">;</span>
&nbsp;
  <span style="color: #b1b100;">for</span><span style="color: #009900;">&#40;</span>i<span style="color: #339933;">=</span><span style="color: #0000dd;">0</span><span style="color: #339933;">;</span> i<span style="color: #339933;">&lt;</span>N<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
	s <span style="color: #339933;">=</span> s <span style="color: #339933;">+</span> arr<span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span>
  <span style="color: #009900;">&#125;</span>
&nbsp;
  <span style="color: #b1b100;">return</span> s<span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span></pre></div></p>
<p>Но если вы хотите написать более надежную программу, в которой большинство функций не должны менять значения элементов массивов, то лучше в заголовках этих функций объявлять параметр-указатель как константу, например:<br />
<span class="geshifilter"><code class="c geshifilter-c"><span style="color: #993333;">int</span> arr_sum<span style="color: #009900;">&#40;</span><span style="color: #993333;">const</span> <span style="color: #993333;">int</span> <span style="color: #339933;">*</span>arr<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></code></span></p>
<p>В этом случае, любая попытка изменить значение по адресу, содержащемуся в таком константном указателе, будет приводить к ошибке и программист будет знать, что в функция пытается изменить массив.</p>
<p>Усовершенствуем программу, которая была приведена в начале этого урока:<br />
<div class="geshifilter"><pre class="c geshifilter-c" style="font-family:monospace;"><span style="color: #339933;">#include &lt;stdio.h&gt;</span>
<span style="color: #339933;">#include &lt;time.h&gt;</span>
&nbsp;
<span style="color: #339933;">#define N 10</span>
&nbsp;
<span style="color: #993333;">void</span> arr_make<span style="color: #009900;">&#40;</span><span style="color: #993333;">int</span> <span style="color: #339933;">*</span>arr<span style="color: #339933;">,</span> <span style="color: #993333;">int</span> min<span style="color: #339933;">,</span> <span style="color: #993333;">int</span> max<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #993333;">void</span> arr_inc_dec<span style="color: #009900;">&#40;</span><span style="color: #993333;">int</span> arr<span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #993333;">char</span> sign<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #993333;">void</span> arr_print<span style="color: #009900;">&#40;</span><span style="color: #993333;">int</span> <span style="color: #339933;">*</span>arr<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
main <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
  <span style="color: #993333;">int</span> arrI<span style="color: #009900;">&#91;</span>N<span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> i<span style="color: #339933;">,</span> minimum<span style="color: #339933;">,</span> maximum<span style="color: #339933;">;</span>
  <span style="color: #993333;">char</span> ch<span style="color: #339933;">;</span>
&nbsp;
  <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;Enter minimum &amp; maximum: &quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  scanf<span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%d %d&quot;</span><span style="color: #339933;">,</span> <span style="color: #339933;">&amp;</span>minimum<span style="color: #339933;">,</span> <span style="color: #339933;">&amp;</span>maximum<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  arr_make<span style="color: #009900;">&#40;</span>arrI<span style="color: #339933;">,</span> minimum<span style="color: #339933;">,</span> maximum<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  arr_print<span style="color: #009900;">&#40;</span>arrI<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
  scanf<span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%*c&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">// избавляемся от \n</span>
&nbsp;
  <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;Enter sign (+,-): &quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  scanf<span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%c&quot;</span><span style="color: #339933;">,</span> <span style="color: #339933;">&amp;</span>ch<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  arr_inc_dec<span style="color: #009900;">&#40;</span>arrI<span style="color: #339933;">,</span> ch<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  arr_print<span style="color: #009900;">&#40;</span>arrI<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>  
<span style="color: #009900;">&#125;</span>
&nbsp;
<span style="color: #993333;">void</span> arr_make<span style="color: #009900;">&#40;</span><span style="color: #993333;">int</span> <span style="color: #339933;">*</span>arr<span style="color: #339933;">,</span> <span style="color: #993333;">int</span> min<span style="color: #339933;">,</span> <span style="color: #993333;">int</span> max<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>  
      <span style="color: #993333;">int</span> i<span style="color: #339933;">;</span>
      srand<span style="color: #009900;">&#40;</span>time<span style="color: #009900;">&#40;</span>NULL<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
      <span style="color: #b1b100;">for</span><span style="color: #009900;">&#40;</span>i<span style="color: #339933;">=</span><span style="color: #0000dd;">0</span><span style="color: #339933;">;</span> i<span style="color: #339933;">&lt;</span>N<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span>
	    <span style="color: #339933;">*</span>arr<span style="color: #339933;">++</span> <span style="color: #339933;">=</span> rand<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">%</span> <span style="color: #009900;">&#40;</span>max <span style="color: #339933;">-</span> min <span style="color: #339933;">+</span> 1<span style="color: #009900;">&#41;</span> <span style="color: #339933;">+</span> min<span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span>
&nbsp;
<span style="color: #993333;">void</span> arr_inc_dec<span style="color: #009900;">&#40;</span><span style="color: #993333;">int</span> <span style="color: #339933;">*</span>arr<span style="color: #339933;">,</span> <span style="color: #993333;">char</span> sign<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>	
	<span style="color: #993333;">int</span> i<span style="color: #339933;">;</span>
	<span style="color: #b1b100;">for</span> <span style="color: #009900;">&#40;</span>i<span style="color: #339933;">=</span><span style="color: #0000dd;">0</span><span style="color: #339933;">;</span> i<span style="color: #339933;">&lt;</span>N<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
		<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span>sign <span style="color: #339933;">==</span> <span style="color: #ff0000;">'+'</span><span style="color: #009900;">&#41;</span> arr<span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span><span style="color: #339933;">++;</span>
		<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span>sign <span style="color: #339933;">==</span> <span style="color: #ff0000;">'-'</span><span style="color: #009900;">&#41;</span> arr<span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span><span style="color: #339933;">--;</span>
	<span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span>
&nbsp;
<span style="color: #993333;">void</span> arr_print<span style="color: #009900;">&#40;</span><span style="color: #993333;">int</span> <span style="color: #339933;">*</span>arr<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
	<span style="color: #993333;">int</span> i<span style="color: #339933;">;</span>
	<span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;The array is: &quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
	<span style="color: #b1b100;">for</span> <span style="color: #009900;">&#40;</span>i<span style="color: #339933;">=</span><span style="color: #0000dd;">0</span><span style="color: #339933;">;</span> i<span style="color: #339933;">&lt;</span>N<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span>
		<span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;%d &quot;</span><span style="color: #339933;">,</span> <span style="color: #339933;">*</span>arr<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
      <span style="color: #000066;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span></pre></div></p>
<p>Теперь у пользователя запрашивается минимум и максимум, затем создается массив из элементов, значения которых лежат в указанном диапазоне. Массив выводится на экран с помощью функции <span class="geshifilter"><code class="c geshifilter-c">arr_print<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span>. Далее у пользователя запрашивается знак + или -. Вызывается функция <span class="geshifilter"><code class="c geshifilter-c">arr_inc_dec<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span>, которая в зависимости от введенного знака увеличивает или уменьшает на единицу значения элементов массива.</p>
<p>В функциях <span class="geshifilter"><code class="c geshifilter-c">arr_make<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span> и <span class="geshifilter"><code class="c geshifilter-c">arr_print<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span> используется нотация указателей. Причем в теле функций значения указателей меняются: они указывают сначала на первый элемент массива, затем на второй и т.д. В функции <span class="geshifilter"><code class="c geshifilter-c">arr_inc_dec<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span> используется вид обращения к элементам массива. При этом значение указателя не меняется: к <span class="monoi">arr</span> прибавляется смещение, которое увеличивается на каждой итерации цикла. Ведь на самом деле запись <span class="geshifilter"><code class="c geshifilter-c">arr<span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span></code></span> означает <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #339933;">*</span><span style="color: #009900;">&#40;</span>arr<span style="color: #339933;">+</span>i<span style="color: #009900;">&#41;</span></code></span>.</p>
<p>При использовании нотации обращения к элементам массива программы получаются более ясные, а при использовании записи с помощью указателей они компилируются чуть быстрее. Это связано с тем, что когда компилятор встречает выражение типа <span class="geshifilter"><code class="c geshifilter-c">arr<span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span></code></span>, то он тратит время на  преобразование его к виду <span class="geshifilter"><code class="c geshifilter-c"><span style="color: #339933;">*</span><span style="color: #009900;">&#40;</span>arr<span style="color: #339933;">+</span>i<span style="color: #009900;">&#41;</span></code></span>. Однако лучше потратить лишнюю секунду при компиляции, но получить более читаемый код. </p>
<p><span class="blue"><strong>Задания</strong></span></p>
<ol>
<li><span class="blue">Переделайте программу, которая приведена выше таким образом, чтобы она работала с вещественными числами. Вместо функции <span class="geshifilter"><code class="c geshifilter-c">arr_inc_dec<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span> напишите другую, которая изменяет значения элементов массива на любое значение, которое указывает пользователь.</span></li>
<li><span class="blue">Напишите программу, в которой из одной функции в другую передается указатель не на начало массива, а на его середину.</span></li>
<li><span class="blue">Напишите программу, в которой из функции <span class="geshifilter"><code class="c geshifilter-c">main<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span> в другую функцию передаются два массива: "заполненный" и "пустой". В теле этой функции элементам "пустого" массива должны присваиваться значения, так или иначе преобразованные из значений элементов "заполненного" массива, который не должен изменяться.</span></li>
</ol>
  </div>
    </div>
  </body>
</html>
