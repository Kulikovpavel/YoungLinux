<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Операции с файлами в командной строке Linux. Урок</title>
    <base href="" />
    <link type="text/css" rel="stylesheet" href="http://younglinux.info/misc/print.css" />
      </head>
  <body>
              <div class="section-1">
          
    <div id="node-17" class="section-2">
  <h1 class="book-heading">Операции с файлами в командной строке Linux. Урок</h1>
  <div style="text-align:center;">
<h4>Методическая разработка урока по информатике<br />
Цикл уроков по информатике: Работа в режиме командной строки Linux<br />
Уровень: Linux для начинающих</h4>
</div>
<div style="text-align:center;"><a href="http://younglinux.info/presentations/cpmv.pdf" title="Операции с файлами в Linux. Презентация к уроку">Презентация к уроку (8 слайдов в pdf - 130 Kb)</a></div>
<p>Работая в любой графической оболочке (например, KDE или Gnome) мы часто выполняем такие операции как копирование, перемещение, переименование объектов (файлов и папок), также создаем файлы и каталоги. Все это изменяет файловую структуру (по крайней мере, ее "пользовательскую" часть). Очевидно что подобные операции (копирование, перемещение и др.) должны быть предусмотрены и в командной оболочке Linux.</p>
<h2>копирование</h2>
<p>Для копирования файлов в bash используется команда <strong>cp</strong> (от "copy"– копировать), которая имеет два обязательных аргумента: имя (адрес) исходного файла и имя (адрес) создаваемой копии или адрес каталога, куда помещается копия.</p>
<div style="text-align:center;"><img src="../../../img/bash/cpmv/cpmv.gif" width="510" height="115" alt="копирование в командной стоке Linux" /></div>
<p>Адрес может быть как абсолютным, так и относительным. Если операции с файлами выполняются в текущем каталоге, то адрес нет смысла указывать, а пишется только имя исходного файла и имя копии. При этом следует помнить, что файлов с одинаковыми именами и адресами не может быть, поэтому имя копии должно отличаться от имени исходного файла.</p>
<p>Рассмотрим несколько примеров.</p>
<div style="text-align:center;"><strong>cp readme readme2</strong></div>
<p>В данном случае создается копия файла readme, которая остается в той же директории под именем readme2. </p>
<div style="text-align:center;"><strong>cp readme Desktop/</strong></div>
<p>Создается копия на рабочем столе. Непосредственное имя копии в данном случае можно оставить прежним, т.к. полные имена (адрес + имя) файлов различны. Используется относительная адресация (каталог Desktop является дочерним по отношению к домашнему каталогу).</p>
<div style="text-align:center;"><strong>cp /home/irina/tux.png /mnt/D/pingvin.png</strong></div>
<p>Здесь копируется файл из домашнего каталога пользователя irina в каталог D, используются абсолютные адреса, имя копии изменяется. </p>
<p>Чтобы скопировать каталог необходимо после команды cp прописать ключ r: </p>
<div style="text-align:center;"><strong>cp -r ./letters ./oldletters</strong></div>
<h2>перемещение и переименование</h2>
<p>Для перемещения и переименования в bash-оболочки Linux используется одна команда – <strong>mv</strong> (от "move" – перемещать). Также как и с командой копирования обязательно наличие двух аргументов, а выбор того или иного действия (перемещения или переименования) зависит от того, что это за аргументы. При перемещении файл меняет свой адрес, следовательно, если в первом и втором аргументах указаны различные адреса, то произойдет перемещение, если одинаковые (а различны только имена) – переименование. </p>
<p>В случае перемещения во втором аргументе может быть указан только каталог (перемещение без переименования), куда требуется переместить файл.</p>
<div style="text-align:center;"><strong>mv document.txt Work
<p>mv document.txt Work/doc23.txt</p></strong></div>
<p>Здесь в первом случае файл document.txt перемещается в каталог Work, а во-втором случае одновременно происходит перемещение файла и его переименование: файл document.txt перемещается в директорию Work и получает новое имя doc23.txt.</p>
<p>При использовании команды mv для переименования в качестве второго аргумента указывается новое имя:</p>
<div style="text-align:center;"><strong>mv order.txt orderNew.txt
<p>mv Work/list.odt Work/names.odt</p></strong></div>
<h2>создание файлов и каталогов</h2>
<p>Новые директории создаются командой mkdir. Например, чтобы создать каталог Work в текущей директории необходимо выполнить следующую команду:</p>
<div style="text-align:center;"><strong>mkdir Work 
<p>или</p>
<p>mkdir ./Work</p></strong></div>
<p>Существует множество способов создания файлов. Один из них – это создание пустого файла с помощью команды touch. В качестве аргумента ей передается имя файла. Еще один способ – это перенаправление вывода какой-либо команды в файл. Пример:</p>
<div style="text-align:center;"><strong>cal > ./Work/January</strong></div>
<p>Здесь команда cal выводит календарь на текущий месяц, а поскольку стоит знак ">" (в данном случае обозначающий "направить результат выполнения команды в ..."), то вывод команды будет записан в файл January, находящийся в папке Work.</p>
<h2>удаление файлов и каталогов</h2>
<p>Для удаления каталогов используется команда rmdir. Удалять можно только пустые каталоги, т. е. не содержащие файлов и поддиректорий (вложенных папок). </p>
<p>Для удаления файлов используется команда rm. Например:</p>
<div style="text-align:center;"><strong>rm ghost.png</strong></div>
<p>Чтобы удалить не пустой каталог можно использовать команду rm с ключом -r. При этом при удаление каждого вложенного объекта будет требоваться подтверждения.</p>
<div style="text-align:center;"><img src="../../../img/bash/cpmv/rmr.png" width="541" height="84" alt="удаление не пустого каталога в командной строке Linux" /></div>
<p>Однако если добавить еще ключ -f, то вопросов на подтвержение уже возникать не будет:</p>
<div style="text-align:center;"><strong>rm -rf /mnt/save/alldocuments/</strong></div>
<h2>вопросы</h2>
<ol>
<li>Для чего предназначены команды <strong>cp, mv, rm, mkdir, rmdir</strong>?</li>
<li>Как скопировать каталог?</li>
<li>Можно ли удалить не пустой каталог?</li>
<li>В каком из приведенных ниже примерах происходит перемещение файла? его переименование? одновременно оба действия?<br />
<strong>а) mv ./work/tech/comp.png ./work/tech/my_car.png</strong></li>
<p>б) mv ./work/tech/comp.png ./Desktop
</p><p>в) mv ./work/tech/comp.png ./work/tech/computer.png
</p><p>
</p></ol>
<h2>практическая работа</h2>
<ol>
<li>В домашней директории создайте каталог <strong>folder</strong> и переместитесь в него.</li>
<li>Создайте в нем три файла любыми известными вам способами, а также вложенный каталог <strong>inside</strong>.</li>
<li>Скопируйте один файл из каталога <strong>folder</strong> в каталог <strong>inside</strong>, а два оставшихся — переместите в <strong>inside</strong>. Файл, оставшийся в каталоге folder, переименуйте.</li>
<li>Создайте копию каталога <strong>inside</strong> на рабочем столе (<strong>Desktop</strong>).</li>
<li>Удалите каталог <strong>folder</strong>.</li>
</ol>
  </div>
    </div>
  </body>
</html>
