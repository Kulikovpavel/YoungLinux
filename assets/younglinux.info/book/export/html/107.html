<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Переходы между сценами при работе с игровым движком Blender. Урок 7</title>
    <base href="" />
    <link type="text/css" rel="stylesheet" href="http://younglinux.info/misc/print.css" />
      </head>
  <body>
              <div class="section-1">
          
    <div id="node-107" class="section-2">
  <h1 class="book-heading">Переходы между сценами при работе с игровым движком Blender. Урок 7</h1>
  <div style="text-align:center;">
<h4>Уроки по Blender Game Engine</h4>
</div>
<p>Обычно игры, создаваемые в Blender, состоят из нескольких сцен.</p>
<div style="text-align:center;"><img src="../../../img/bge/addscene.gif" width="542" height="145" alt="Добавление сцен в Blender" /></div>
<p>Blender Game Engine включает возможность настройки перехода на другую сцену в режиме игры. На панели Logic для этих целей предназначен активатор  <strong>Scene</strong> -> <strong>Set Scene</strong>. В качестве значения <strong>SCE</strong> («установить сцену») указывается имя сцены, на которую требуется перейти.</p>
<div style="text-align:center;"><img src="../../../img/bge/setscene.gif" width="700" height="119" alt="Контроллер Set Scene в Blender Game Engine" /></div>
<p>События, которые могут приводить к переходу на другие сцены, различны: щелчки мышью, нажатия клавиш, касание материала и др.</p>
<p>Приведем простой пример. Допустим, мы создаем заготовку будущей «виртуальной лаборатории», состоящей из четырех сцен, на каждой из которых будет возможно проводить и демонстрировать какой-нибудь виртуальный эксперимент. С главной сцены можно будет на графическом меню указать с помощью щелчка левой кнопкой мыши желаемую сцену. С любой другой сцены можно будет вернуться на главную сцену. Опишем примерную последовательность шагов.</p>
<p><strong>1. Подготовим сцены</strong></p>
<p>На главной сцене у нас будет меню. Его можно создать из плоскостей, на которые наложить текстуры изображений с текстом или объект Text Блендера. В последнем случае Text следует преобразовать в меш-объект (<strong>Alt+C</strong> -> <strong>Mesh</strong>) и объединить с плоскостью (<strong>Ctrl+J</strong>).</p>
<p>Для добавления новых сцен, следует выбрать пункт <strong>ADD NEW</strong> в выпадающем списке окна пользовательских настроек (вверху) – посмотрите на первое изображение в данном уроке. При добавлении сцены предлагается список из четырех вариантов. Лучше выбрать <strong>Full Copy</strong> (чтобы не иметь головной боли с установкой камеры и лампы), а все лишние объекты потом удалить. Далее можно переименовать сцену. </p>
<p>Добавив вторую сцену, не будем спешить с добавлением других сцен. Пока разместим на второй сцене «кнопку» возврата на главную. Далее уже будем копировать эту сцену. В результате должна получиться примерно такая схема сцен как на рисунке ниже.</p>
<div style="text-align:center;"><img src="../../../img/bge/allscene.gif" width="500" height="398" alt="Схема сцен в Blender" /></div>
<p><strong>2. Отобразим курсор мыши</strong></p>
<p><a href="http://younglinux.info/bgemouse">Урок 5. Сенсор Mouse</a></p>
<p><strong>3. Установим возможность перехода между сценами в режиме игры</strong></p>
<p>См. второй рисунок в данном уроке. Каждая кнопка на главной  сцене должна переключать на соответствующую ей сцену (one, two, three или four). Кнопка “main” на остальных сценах должна переключать игру на главную сцену. </p>
<h2>Практическая работа </h2>
<p>Создайте небольшую игру по следующему описанию. </p>
<p>Цель игры: прокатить шар до конца извилистой узкой поверхности.</p>
<p>Если шар падает с плоскости, то пользователь может нажать R и игра должна начаться сначала. </p>
<div style="text-align:center;"><img src="../../../img/bge/restart.gif" width="664" height="113" alt="Настойка restart (перезапуска) игры в BGE" /></div>
<p>Если шар докатывается до конца плоскости, то следует переход на другую сцену с еще более изощренной дорожкой. Чтобы переход происходил «автоматически», можно поставить на конец поверхности объект Empty (пустышка) и добавить к нему сенсор <strong>Near</strong>, связанный с активатором <strong>Scene</strong> -> <strong>Set Scene</strong>.</p>
<div style="text-align:center;"><img src="../../../img/bge/near.gif" width="700" height="86" alt="Сенсор Near" /></div>
<p>Камера должна «следить» за шаром.</p>
<p>Желательно, чтобы игра состояла из трех игровых сцен и сцены «конец игры», которую может увидеть только игрок, прошедший все уровни. </p>
  </div>
    </div>
  </body>
</html>
