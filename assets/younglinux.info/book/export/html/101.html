<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Сенсоры, контроллеры и активаторы. Урок 2</title>
    <base href="" />
    <link type="text/css" rel="stylesheet" href="http://younglinux.info/misc/print.css" />
      </head>
  <body>
              <div class="section-1">
          
    <div id="node-101" class="section-2">
  <h1 class="book-heading">Сенсоры, контроллеры и активаторы. Урок 2</h1>
  <div style="text-align:center;">
<h4>Уроки по Blender Game Engine</h4>
</div>
<p>Панель Logic (F4) можно условно разбить на четыре части настроек: свойства объекта (рассмотренные на прошлом уроке), сенсоры, контроллеры и активаторы. <strong>Сенсоры</strong> объекта позволяют ему воспринимать различные внешние «раздражители», такие как нажатие клавиши, движение мыши, касание другого объекта и др. <strong>Контроллеры</strong> в основном предназначены для связывания определенным образом сенсоров и активаторов. <strong>Активаторы</strong> могут выполнять различные действия над данным объектом или другими. Некоторые настройки активаторов могут различаться у разных типов объектов.<br />
Для того чтобы добавить очередной сенсор, контроллер и активатор нужно нажать на кнопку <strong>ADD</strong>. Связь между ними обозначается линиями, которые создаются, если зажав ЛК мыши потянуть ей от одного узелка к другому (линию можно удалить, если навести мышь и нажать клавишу Del). У объекта может быть множество групп сенсоров, контроллеров и активаторов.</p>
<div style="text-align:center;"><img src="../../../img/bge/blocks.gif" width="830" height="308" alt="Сенсоры, контроллеры и активаторы в BGE" /></div>
<p>На этом уроке будет описано, как управлять объектом <strong>Static</strong> с помощью клавиатуры. Роль объекта сыграет стрелка, поворачивающаяся по двум осям и двигающаяся указателем вперед.</p>
<h2>1. Создание объекта</h2>
<p>Сначала создадим объект. Можно  использовать любой меш-объект, но желательно, чтобы он был ассиметричен, т.к. в этом случае легче будет наблюдать его повороты. </p>
<div style="text-align:center;"><img src="../../../img/bge/arrow.gif" width="340" height="191" alt="Модель стрелки в Blender" /></div>
<p>Такую стрелку можно получить множеством способов. Ниже описан один из них:</p>
<ol>
<li>Вид сверху.</li>
<li>Добавить плоскость.</li>
<li>Перейти в режим редактирования. Удалить нижнюю правую вершину. Выделить три оставшиеся, нажать F (получиться треугольная плоскость). Далее, не снимая выделения, повернуть плоскость по оси Z на 450, таким образом, чтобы будущий указатель «смотрел» вверх (вдоль оси Y).</li>
<li>Не выходя из режима редактирования, добавить еще одну плоскость ниже. Сжать ее по оси X, переместить под указатель; – это ножка стрелки.</li>
<li>Вид из камеры.</li>
<li>Выбрать режим выделения граней и выдавить (экструдировать), тем самым придав стрелке объем. </li>
<li>Выйти из режима редактирования.</li>
</ol>
<h2>2. Движение вперед</h2>
<p>Заставим нашу стрелку двигаться указателем вперед при нажатии на клавишу <em>Пробел</em>.<br />
Выделив стрелку (которая должна быть static-объектом), добавьте сенсор, контроллер и активатор и соедините их между собой.</p>
<div style="text-align:center;"><img src="../../../img/bge/move.gif" width="769" height="148" alt="Добавление сенсора, контроллера и активатора в Blender" /></div>
<p>По умолчанию в качестве сенсора выступает <strong>Always</strong> (всегда). Такой сенсор будет действовать постоянно. Нам это не подходит. В выпадающем списке выбираем <strong>Keyboard</strong> (клавиатура). Нажимаем в поле <strong>Key</strong> мышью, затем нажимаем клавишу <em>Пробел</em> (Space).</p>
<div style="text-align:center;"><img src="../../../img/bge/sensor.gif" width="322" height="228" alt="Сенсор Keyboard" /></div>
<p>Теперь настроим активатор. Активаторы бывают разные (это на будущее). По умолчанию стоит <strong>Motion</strong> (движение). В нижней части есть две строки: <strong>Loc</strong> (location – положение) и <strong>Rot</strong> (rotation – вращение). В каждой строке по три поля: в них задаются величины изменений по оси X, Y или Z при воздействии.</p>
<div style="text-align:center;"><img src="../../../img/bge/axis.gif" width="464" height="216" alt="Активатор Motion" /></div>
<p>Поскольку наша стрелка должна двигаться вперед и для нее это ось Y, то следует изменить значение в первой строке во втором столбце. Щелкните по нулям там и пропишите значение в 0.05.<br />
Теперь при запуске режима игры (P) и нажатии на клавишу пробел стрелка будет двигаться вперед.</p>
<h2>3. Повороты</h2>
<p>Для того, чтобы стрелка при движении могла оказаться в любой точке трехмерного пространства достаточно настроить ее поворот только по двум осям: X (повороты вверх и вниз) и Z (налево и направо). Поворачиваться стрелка будет при нажатии на стрелки на клавиатуре. Требуется добавить еще четыре группы сенсоров, контроллеров и активаторов.</p>
<div style="text-align:center;"><img src="../../../img/bge/rotation.gif" width="971" height="663" alt="Управление объектом Static в Blender Game Engine" /></div>
<p>Теперь, запустив режим игры, можно передвинуть стрелку в любое место 3D-окна, предварительно повернув ее с помощью стрелок  на клавиатуре.</p>
<h2>4. Локальные и глобальные оси</h2>
<p>В конце строк настроек <strong>Loc</strong> и <strong>Rot</strong> есть переключатели <strong>L</strong>. По умолчанию эти кнопки нажаты и обозначают локальную привязку осей. Это означает, что оси X, Y и Z как бы находятся внутри объекта и при его повороте поворачиваются вместе с ним. Поэтому-то у нас стрелка все время двигается указателем вперед, как ее не поверни.<br />
Если выключить кнопку <strong>L</strong> напротив <strong>Loc</strong> в блоке, отвечающем за движение по оси Y, то стрелка будет двигаться только в одном направлении (по глобальной оси Y) не зависимо от поворота своего указателя. Глобальные оси в 3D-окне обозначаются красной (X), зеленой (Y) и синей (Z) линиями. </p>
<h2>5. Практическая работа</h2>
<ol>
<li>Создайте модель стрелки и задайте ей возможность движения и поворота с помощью Blender Game Engine так, как описано в уроке. </li>
<li>Исследуйте влияние на движение стрелки включенной и отключенной Local Transformation (кнопка <strong>L</strong>).</li>
<li>Добавьте на сцену плоскость и пару других меш-объектов, расположив их над плоскостью. Исключая плоскость и стрелку, задайте для объектов тип <strong>Rigid body</strong>. Запустите режим игры и попробуйте столкнуть объекты с плоскости с помощью стрелки.</li>
</ol>
<div style="text-align:center;"><img src="../../../img/bge/scene.gif" width="492" height="337" alt="Управление объектом Static в Blender Game Engine" /></div>
  </div>
    </div>
  </body>
</html>
