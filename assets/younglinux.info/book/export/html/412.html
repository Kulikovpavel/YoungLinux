<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>QML. Анимация градиета</title>
    <base href="" />
    <link type="text/css" rel="stylesheet" href="http://younglinux.info/misc/print.css" />
      </head>
  <body>
              <div class="section-1">
          
    <div id="node-412" class="section-2">
  <h1 class="book-heading">QML. Анимация градиета</h1>
  Пример взят <script type="text/javascript">document.write('<a href="http://antyadev.blogspot.com/2012/02/qml-creating-animated-button.html" target="_blank">')</script>отсюда<script type="text/javascript">document.write('</a>')</script>. Добавлен mouseExitAnim. Одним файлом *.qml код выглядит так:
<div class="geshifilter"><pre class="c geshifilter-c" style="font-family:monospace;">import QtQuick 1.1
&nbsp;
Rectangle <span style="color: #009900;">&#123;</span>
    property <span style="color: #993333;">string</span> rsGradientStop0<span style="color: #339933;">:</span> <span style="color: #ff0000;">&quot;#FF7C7C7C&quot;</span> <span style="color: #666666; font-style: italic;">// свойство для хранения цвета</span>
    property <span style="color: #993333;">string</span> rsGradientStop1<span style="color: #339933;">:</span> <span style="color: #ff0000;">&quot;#FF4E4E4E&quot;</span>
    id<span style="color: #339933;">:</span> greyButton
    width<span style="color: #339933;">:</span> <span style="color: #0000dd;">85</span>
    height<span style="color: #339933;">:</span> <span style="color: #0000dd;">23</span>
    border.<span style="color: #202020;">color</span><span style="color: #339933;">:</span> <span style="color: #ff0000;">&quot;Wheat&quot;</span>
    gradient<span style="color: #339933;">:</span> Gradient <span style="color: #009900;">&#123;</span> <span style="color: #666666; font-style: italic;">// добавление градиента</span>
        GradientStop <span style="color: #009900;">&#123;</span>
            id<span style="color: #339933;">:</span> gradientStop0
            position<span style="color: #339933;">:</span> <span style="color: #0000dd;">0</span>
            color<span style="color: #339933;">:</span> rsGradientStop0
        <span style="color: #009900;">&#125;</span>
        GradientStop <span style="color: #009900;">&#123;</span>
            id<span style="color: #339933;">:</span> gradientStop1
            position<span style="color: #339933;">:</span> <span style="color: #0000dd;">1</span>
            color<span style="color: #339933;">:</span> rsGradientStop1
        <span style="color: #009900;">&#125;</span>
    <span style="color: #009900;">&#125;</span>
    Text <span style="color: #009900;">&#123;</span>
        id<span style="color: #339933;">:</span> text
        color<span style="color: #339933;">:</span> <span style="color: #ff0000;">&quot;Wheat&quot;</span>
        text<span style="color: #339933;">:</span> qsTr<span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;Ok&quot;</span><span style="color: #009900;">&#41;</span>
        font.<span style="color: #202020;">underline</span><span style="color: #339933;">:</span> <span style="color: #000000; font-weight: bold;">false</span>
        font.<span style="color: #202020;">bold</span><span style="color: #339933;">:</span> <span style="color: #000000; font-weight: bold;">false</span>
        font.<span style="color: #202020;">pixelSize</span><span style="color: #339933;">:</span> <span style="color: #0000dd;">12</span>
        anchors.<span style="color: #202020;">centerIn</span><span style="color: #339933;">:</span> parent
    <span style="color: #009900;">&#125;</span>
    ParallelAnimation <span style="color: #009900;">&#123;</span>
        id<span style="color: #339933;">:</span> mouseEnterAnim
        PropertyAnimation <span style="color: #009900;">&#123;</span>
            target<span style="color: #339933;">:</span> gradientStop0 <span style="color: #666666; font-style: italic;">// id градиента</span>
            properties<span style="color: #339933;">:</span> <span style="color: #ff0000;">&quot;color&quot;</span>
            to<span style="color: #339933;">:</span> rsGradientStop1
            duration<span style="color: #339933;">:</span> <span style="color: #0000dd;">300</span>
        <span style="color: #009900;">&#125;</span>
        PropertyAnimation <span style="color: #009900;">&#123;</span>
            target<span style="color: #339933;">:</span> gradientStop1
            properties<span style="color: #339933;">:</span> <span style="color: #ff0000;">&quot;color&quot;</span>
            to<span style="color: #339933;">:</span> rsGradientStop0
            duration<span style="color: #339933;">:</span> <span style="color: #0000dd;">300</span>
        <span style="color: #009900;">&#125;</span>
    <span style="color: #009900;">&#125;</span>
    ParallelAnimation <span style="color: #009900;">&#123;</span>
        id<span style="color: #339933;">:</span> mouseExitAnim
        PropertyAnimation <span style="color: #009900;">&#123;</span>
            target<span style="color: #339933;">:</span> gradientStop0
            properties<span style="color: #339933;">:</span> <span style="color: #ff0000;">&quot;color&quot;</span>
            to<span style="color: #339933;">:</span> rsGradientStop0
            duration<span style="color: #339933;">:</span> <span style="color: #0000dd;">300</span>
        <span style="color: #009900;">&#125;</span>
        PropertyAnimation <span style="color: #009900;">&#123;</span>
            target<span style="color: #339933;">:</span> gradientStop1
            properties<span style="color: #339933;">:</span> <span style="color: #ff0000;">&quot;color&quot;</span>
            to<span style="color: #339933;">:</span> rsGradientStop1
            duration<span style="color: #339933;">:</span> 300
        <span style="color: #009900;">&#125;</span>
    <span style="color: #009900;">&#125;</span>
    MouseArea <span style="color: #009900;">&#123;</span>
        id<span style="color: #339933;">:</span> mouse
        anchors.<span style="color: #202020;">fill</span><span style="color: #339933;">:</span> greyButton
        hoverEnabled<span style="color: #339933;">:</span> <span style="color: #000000; font-weight: bold;">true</span>
        onEntered<span style="color: #339933;">:</span> mouseEnterAnim.<span style="color: #202020;">start</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>
        onExited<span style="color: #339933;">:</span> mouseExitAnim.<span style="color: #202020;">start</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>
    <span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span></pre></div>

Другими словами, у объекта GradientStop при событии анимируется изменение свойства color к определенному значению.  </div>
    </div>
  </body>
</html>
