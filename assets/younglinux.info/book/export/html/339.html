<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Урок 7. Таксономия и облако тегов</title>
    <base href="" />
    <link type="text/css" rel="stylesheet" href="http://younglinux.info/misc/print.css" />
      </head>
  <body>
              <div class="section-1">
          
    <div id="node-339" class="section-2">
  <h1 class="book-heading">Урок 7. Таксономия и облако тегов</h1>
  <p class="right">Создание сайта на Drupal 6. Практический вводный курс</p>
<h3>Таксономия</h3>
<p>Навигацию по сайту можно организовать и через так называемую таксономию. Вообще таксономия — это учение, которое занимается классификацией и систематикой; изначально оно никак не связано с web, но термин и его значение прижились во Всемирной паутине.</p>
<p>Любую статью можно отнести к какой-нибудь теме. Если на сайте предусмотрена таксономия, то при создании статьи (например, записи в блог) пользователь обязан (или ему предлагается) выбрать из уже существующих или вписать новую тему, которой будет принадлежать данная запись. Для статей каждой темы движок Drupal формирует отдельные страницы, после чего на них можно устанавливать ссылки из меню. Т.е. если на прошлом занятии мы пытались классифицировать материал по месяцу публикации, то на этом уроке будем классифицировать по темам. В принципе правильно на сайтах-блогах предусмотреть обе классификации, т.к. в определенных случаях бывает удобнее искать материал по дате публикации, а в иных — по теме.</p>
<p>Допустим, на нашем сайте освещаются следующие темы: программирование, Python, Linux, web-технологии. Бывает строгая таксономия, когда статья может принадлежать только одной теме, но пусть у нас любая запись в блог может принадлежать или одной или сразу нескольким темам. При этом запись обязательно должна принадлежать хотя бы одной теме.</p>
<p>Также следует определиться с тем, может или нет пользователь (блогер, в нашем случае) сам добавлять новые термины таксономии при создании материала, если ему недостаточно существующих. Пусть у нас будет так, что он не может этого делать; термины таксономии будет создавать только администратор сайта.</p>
<p>Итак, перейдите на страницу <span class="monoi">Управление содержимым ? Таксономия</span>, нажмите кнопку <span class="monoi">Добавить словарь</span>. Заполните открывшуюся форму следующим образом:</p>
<ul>
<li><span class="monoi">Название словаря:</span> Темы</li>
<li><span class="monoi">Типы содержимого:</span> Запись в блог</li>
<li><span class="monoi">Настройки:</span> Множественный выбор, Обязательный</li>
</ul>
<p>Сохраните изменения. Теперь кликните по ссылке <span class="monoi">Добавить термины</span> напротив только что созданного словаря. По очереди добавьте термины (программирование, Python, Linux, web-технологии). После чего щелкните по кнопке <span class="monoi">Список</span> вверху, вы должны увидеть список созданных терминов.</p>
<p>Наведите мышку на термины и посмотрите их адреса URL в строке состояния внизу. Там значится примерно следующее: <span class="blue">developer.home/taxonomy/term/1</span>. Номера в конце адреса не очень информативны, поэтому назначим адресам страниц синонимы, заменив цифры на ключевое слово темы. Чтобы было удобно переименовывать, откройте несколько вкладок в браузере. Адреса страниц должны выглядеть так:</p>
<ul>
<li><span class="blue">developer.home/taxonomy/term/linux</span></li>
<li><span class="blue">developer.home/taxonomy/term/python</span></li>
<li><span class="blue">developer.home/taxonomy/term/programming</span></li>
<li><span class="blue">developer.home/taxonomy/term/web</span></li>
</ul>
<p>Если вы перейдете на любую из этих страниц, то увидите сообщение "В этой категории нет материалов". Когда мы добавляли статьи, то словаря таксономии еще не существовало, поэтому уже добавленные материалы не принадлежат ни одному термину словаря. Это несложно исправить. Поочередно откройте статьи на редактирование и выберите в списке Темы один или несколько терминов, которым может принадлежать заметка. Чтобы выбрать несколько тем, следует зажать Ctrl. Большинство ранее добавленных статей относятся к теме "Программирование". Чтобы перейти на эту страницу и посмотреть, как она выглядит щелкните по ссылке "программирование" внизу страницы любой из статей, которая принадлежит этой теме. Вы окажетесь на странице <span class="blue">taxonomy/term/programming</span>.</p>
<h3>Облако тегов</h3>
<p>Далее можно создать меню и привязать к нему страницы терминов, но мы поступим по-другому. Воспользуемся специальным модулем, который создает так называемое облако тегов. Облако тегов - это тоже меню, но своеобразного вида. Понятие "тег" совпадает или очень близко по значению с понятиями "термин, тема" и т.п.</p>
<p>С сайта <span class="blue">drupal.org</span> загрузите модуль Tagadelic и распакуйте его в каталог <span class="blue">sites/all/modules</span> системы Drupal. На странице модулей включите его. Если на сайте существуют словари таксономии, то Tagadelic автоматически создает блоки для них. Перейдите на страницу <span class="monoi">Блоки</span> и разместите блок <span class="monoi">Tags in Темы</span> в правой колонке сайта.</p>
<p>Скорее всего результат будет выглядеть не очень красиво. Облако тегов подразумевает, что термины, у которых больше статей, имеют более крупный шрифт. Поскольку у нас пока терминов мало, то "программирование" будет выглядеть гипертрофированно. Кроме того, как-то странно выглядит надпись над блоком (Tags in Темы). Кликните по ссыке <span class="monoi">настроить</span> напротив блока и впишите в поле <span class="monoi">Заголовок блока</span> одно слово — Темы.</p>
<p>Добавим еще ряд статей от имен двух блогеров. Это может сделать и под администратором сайта: при редактировании материала в разделе <span class="monoi">Информация об авторе</span> следует вписывать имя одного из существующих блогеров. При оформлении материала встречающийся программыный код помещайте в контейнер code, используйте таблицу там, где это необходимо (вспомните, мы создали кнопку в BUEditor для добавления табличных тегов; пользуйтесь ей; кроме того, следует добавить теги <span class="geshifilter"><code class="python geshifilter-python"><span style="color: #66cc66;">&lt;</span>table<span style="color: #66cc66;">&gt;</span>, <span style="color: #66cc66;">&lt;</span>tr<span style="color: #66cc66;">&gt;</span></code></span> и <span class="geshifilter"><code class="python geshifilter-python"><span style="color: #66cc66;">&lt;</span>td<span style="color: #66cc66;">&gt;</span></code></span> в формат ввода Filter HTML). Примеры статей для добавления:</p>
<ul>
<li>Направления развития и "эры" технологий Web (8)</li>
<li>Всемирная паутина и язык HTML (9)</li>
<li>Данные и операции над ними (10)</li>
<li>Условный оператор (11)</li>
<li>Права доступа к файлам в Unix-подобных операционных системах (12)</li>
</ul>
<p>При добавлении материала вы должны были заметить, что облако тегов не обновилось (новые термины не появились). Чтобы исправить ситуацию, достаточно запустить крон (например, со страницы <span class="monoi">Отчет о состоянии</span>).</p>
  </div>
    </div>
  </body>
</html>
