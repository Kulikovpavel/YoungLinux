<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Введение в Blender Game Engine (BGE). Урок 1</title>
    <base href="" />
    <link type="text/css" rel="stylesheet" href="http://younglinux.info/misc/print.css" />
      </head>
  <body>
              <div class="section-1">
          
    <div id="node-98" class="section-2">
  <h1 class="book-heading">Введение в Blender Game Engine (BGE). Урок 1</h1>
  <h2>1. Что такое BGE</h2>
<p>Уникальной особенностью Blender является встроенный в него так называемый "игровой движок" (англ. game engine). Это программный компонент, который позволяет создавать небольшие игры, не выходя из среды трехмерного моделирования Blender.</p>
<p>Game engine:</p>
<ol>
<li>придает объектам "физические" свойства; объекты начинают вести себя так, как в реальном мире: падают под действием силы тяжести, сталкиваются и т.д. (возможно следует отметить, что в этом смысле движок еще "сыроват");</li>
<li>позволяет наблюдать поведение объектов в реальном времени и воздействовать на них; </li>
<li>записывает происходящее в режиме игры в анимацию;</li>
<li>позволяет визуально настраивать (программировать) поведение и взаимодействие объектов;</li>
<li>а также встраивать скрипты на языке программирования Python.</li>
</ol>
<p>Режим игры – это режим действия игрового движка. Он запускается при нажатии клавиши P на клавиатуре. Выход из него – клавиша Esc. Лучше перед запуском игры переключиться в режим отображения текстур (Alt+Z).</p>
<p><strong>Задание.</strong> <em>Расположите на сцене плоскость и любой другой меш-объект над ней. Включите режим отображения текстур, затем режим игры. После выйдите из режима игры.</em></p>
<p>Для настройки поведения объектов для режима игры предназначена панель кнопок Logic (F4). На этом уроке мы рассмотрим ее левую часть – настойки объекта.</p>
<h2>2. Типы объектов</h2>
<p>В реальном мире объекты сделаны из различных материалов и, естественно, обладают различными свойствами.<br />
Игровой движок (BGE), конечно, не позволяет симулировать такое разнообразие, но кое-что может. К тому же, BGE позволяет манипулировать и "нефизическими объектами", т.е. теми для которых как бы нет влияющего окружающего мира (в реальном мире таких объектов не существует).</p>
<p>Тип выбранного объекта (например, куба) задается с помощью меню Object Type.</p>
<div style="text-align:center;"><img src="../../../img/bge/typeob.gif" alt="Типы объектов в Blender Game Engine" title="Типы объектов в Blender Game Engine" style="width:350px; height:218px;" /></div>
<p><strong>Occluder</strong> (occlude – закрывать, преграждать). В определенных условиях увеличивает производительность путем исключения объектов, расположенных за объектом-«окклюдером». Уместно использовать в сложных сценах.</p>
<p><strong>No collision</strong> (collision - столкновение). Отключает у объекта возможность столкновения с другими объектами. Т.е. если dynamic-объект встретит на своем пути no_collision-объект, то пройдет сквозь него, как будто его нет. Рекомендуется использовать для объектов, которые никогда ни с чем не столкнуться: выбор этого типа объекта увеличивает производительность игры.</p>
<p><strong>Sensor</strong> (датчик). Предназначен для более сложного управления столкновениями.</p>
<p><strong>Static</strong> (статический, неподвижный). Такой тип объекта может участвовать во взаимодействиях с физическими объектами (играть роль препятствий), хотя на него не влияют никакие виртуальные физические силы. В режиме игры он может быть перемещен за счет изменения своего положения, но не под влиянием сил. Два static-объекта при пересечении их путей не сталкиваются, а проходят сквозь друг друга.</p>
<p><strong>Dynamic</strong> (динамический). Объект, на который "действуют" законы физики: сила тяжести, масса, воздействие внешних сил, ускорение и др.</p>
<p><strong>Rigid body</strong> (твердое тело). Более реально ведущий себя по сравнению с Dynamic "физический" объект.</p>
<p><strong>Soft body</strong> (мягкое тело). "Физический" объект, который ведет себя подобно резиновому мячу или мягкой игрушке, т.е деформируется (изменяет свою форму) при столкновениях с другими объектами.</p>
<p>Опыт 1. <strong>Типы объектов</strong><br />
Для того, чтобы сразу протестировать как ведут себя некоторые типы объектов в режиме игры, расположим несколько сфер над плоскостью и нажмем P. Вот что мы увидим по прошествии нескольких секунд:</p>
<div style="text-align:center;"><img src="../../../img/bge/sphere.gif" alt="Поведение объектов в Blender в режиме игры (P)" title="Поведение объектов в Blender в режиме игры (P)" style="width:800px; height:164px;" /></div>
<p>Видно, что с объектов типа Static ничего не произошло, Dynamic, Rigid Body и Soft Body упали под действием виртуальной силы тяжести. Причем Soft Body упал и слегка «размазался», как и положено мягкому телу, но почему-то меш-объект остался прежнего размера (это недоработка Blender или как-нибудь настраивается отдельно? Примечание: если при создании сферы сразу указать небольшой размер, то она будет мелкой при создании из нее мягкого тела).</p>
<p>Опыт 2. <strong>Dynamic и Rigid body</strong><br />
Чтобы заметить разницу между Rigid body и Dynamic, развернем плоскость на 50 по оси Y или X. Теперь можно наблюдать, что при падении Rigid Body продолжает свое движение как естественный объект (также ведет себя и Soft Body), а Dynamic остается спокойно лежать на плоскости. Конечно, если наклон плоскости сделать больше, то вниз покатится и динамический объект.</p>
<div style="text-align:center;"><img src="../../../img/bge/rigidbody.gif" alt="Отличие между объектами Dynamic и Rigid Body в Blender" title="Отличие между объектами Dynamic и Rigid Body в Blender" style="width:500px; height:263px;" /></div>
<h2>3. Настройки</h2>
<p>В предыдущем опыте можно заметить, что при смене типа объектов меняются кнопки настоек ниже. Здесь основная часть настроек свойств объекта. Рассмотрим некоторые.</p>
<div style="text-align:center;"><img src="../../../img/bge/properties.gif" alt="Настройки объектов Rigid Body и Soft Body в Blender" title="Настройки объектов Rigid Body и Soft Body в Blender" style="width:800px; height:198px;" /></div>
<h4>Общие:</h4>
<p><strong>Actor</strong> (актер). Для версии 2.49 осталось непонятным, на что влияет данных параметр.<br />
<strong>Ghost</strong> (призрак). Объект будет проходить сквозь другие объекты при столкновении с ними, при этом никак на них не влияя.<br />
<strong>Invisible</strong> (невидимый). Объект становится невидимым, но присутствует на сцене. Объект-невидимка может взаимодействовать с другими объектами.<br />
<strong>Mass</strong> (масса). Виртуальная масса объекта. Настройка данного параметра имеет большое значение для "физических" объектов при воздействии на них той или иной силы. Чем больше масса, тем больше нужно приложить силы для ее перемещения.</p>
<h4>Rigid body:</h4>
<p><strong>Radius</strong> (радиус). Влияет на площадь взаимодействия с объектом. Радиус виден как розовая пунктирная окружность в 3D окне. Если не виден, то увеличьте значение. Фактически границы окружности и определяют размер взаимодействующей области (объекта).<br />
<strong>No sleeping</strong> (не спящий). При включении-отключении данной опции в версии 2.49 изменений в поведении объекта при применении к нему силы замечено не было.<br />
Остальные настройки пока опустим, т.к. они достаточно специфичны и требуют начальных знаний физики.</p>
<h4>Soft body:</h4>
<p><strong>Shape Match</strong> (shape – форма, match – выравнивать, противостоять и др.). Если кнопка будет выключена, то объект не сохранит свою форму, а сложится как тряпка (при достаточном количестве вершин).<br />
<strong>Bending Const</strong> (bending – сгибание, constraints – ограничения). Если отключить данную кнопку, то объект при столкновении будет сильнее изменять свою форму.<br />
<strong>kMT</strong>. Влияет на упругость объекта, связана с Shape Match. Увеличив данное значение, например, у сферы, вы получите объект поведением похожий на мяч.</p>
<h2>4. Практическая работа</h2>
<ol>
<li>Разместите на сцене плоскость, увеличьте ее. Над плоскостью друг над другом расположите три одинаковых куба, каждый куб должен быть<br />
объектом Rigid body. Запустив режим игры, отметьте, как упали кубики. </li>
<li>У среднего куба увеличьте Radius до значения 1.5. Снова запустите игру и отметьте изменения. </li>
<li>Включите для среднего куба кнопку Invisible и снова запустите режим игры. Участвует ли невидимый куб во взаимодействии объектов?</li>
<li>Удалите со сцены все три куба. Добавьте сферу с 16-тью сегментами и кольцами (уменьшение частей меш-объектов влияет на производительность),<br />
расположив ее над плоскостью. Сделайте ее объектом Soft body и продублируйте по оси X четыре раза (все пять объектов должны быть над плоскостью,<br />
увеличьте плоскость при необходимости). Желательно развернуть камеру таким образом, чтобы она "смотрела" прямо на ось X.</li>
<li>Для первого объекта Soft body оставьте значения настроек по умолчанию. У второго – увеличьте значение kMT почти до единицы.<br />
У третьего – отключите Shape Match, у четвертого – Bending Const, а у пятого – обе кнопки.</li>
<li>Запустите режим игры. Отметьте изменения каждой из сфер. Если разница между первой и четвертой сферой? В чем она заключается?</li>
</ol>
  </div>
    </div>
  </body>
</html>
