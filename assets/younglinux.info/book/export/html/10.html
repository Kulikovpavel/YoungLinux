<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Работа в режиме командной строки Linux. Цикл уроков по информатике</title>
    <base href="" />
    <link type="text/css" rel="stylesheet" href="http://younglinux.info/misc/print.css" />
      </head>
  <body>
        
    <div id="node-10" class="section-1">
  <h1 class="book-heading">Работа в режиме командной строки Linux. Цикл уроков по информатике</h1>
  <p><img src="../../../bg/bash.gif" width="50" height="50" align="left" style="padding:10px;" /></p>
<p>Цикл уроков "Работа в режиме командной строки Linux" ориентирован на начинающих пользователей Linux и знакомит с основными принципами работы в режиме командной строки.</p>
<p>
</p><p>Дается определение интерфейса командной строки, описывается оболочка bash и основные принципы работы в ней; даются представления о параметрах команд, справочной системе, навигации и управлении файловой структурой.</p>

<p>Место данных уроков в составе образовательной программы дополнительного образования детей "Лаборатория юного линуксоида" — начало второго года обучения.</p>
  <div id="node-11" class="section-2">
  <h1 class="book-heading">СLI – интерфейс командной строки</h1>
  <div style="text-align:center;">
<h4>Методическая разработка урока по информатике<br />
Цикл уроков по информатике: Работа в режиме командной строки Linux<br />
Уровень: Linux для начинающих</h4>
</div>
<p>Возможно, до сих пор, вы были знакомы с единственным видом взаимодействия (т.е. интерфейсом) между человеком и компьютером — GUI – графическим пользовательским интерфейсом. В этом случае команды компьютеру отдавались с помощью нажатий мышью на различные графические изображения на экране (кнопки, значки, пункты меню и др. картинки). На самом деле такие щелчки запускают различные системные программы, которые скрыты за графическим пользовательским интерфейсом.</p>
<p>Однако давать команды компьютеру можно не только с помощью разных кнопок и меню. Можно вызывать команды с помощью записи слова-вызова в специальной программе-интерпретаторе (переводчике) команд. Такой способ взаимодействия между человеком и компьютером называется интерфейсом командной строки (CLI – command line interface). Следует отметить, что в компьютерной истории командная строка появилась намного раньше, чем графический интерфейс.<br />
<img src="../../../img/bash/gui_cli.png" width="798" height="447" alt="Сравнение графического интерфейса пользователя и режима командной строки" /><br />
Проанализируйте схему, а затем попытайтесь ответить на вопросы:</p>
<ol>
<li>Совсем неподготовленный пользователь садится за компьютер. В каком интерфейсе он сможет хоть как-то освоится без посторонней помощи и литературы, используя древний метод научного тыка: в графическом или командной строке? Почему?</li>
<li>Допустим в операционной системе реализована возможность архивировать файлы. Однако фирма-разработчик забыла сделать кнопку запуска для данной программы. Как теперь воспользоваться системным архиватором? Какой интерфейс (графический или командная строка) открывает большие возможности при работе с компьютером?</li>
</ol>
<p>В операционной системе Linux наиболее распространенной программой, обеспечивающей пользователю интерфейс командной строки, является bash. Программы подобные <strong>bash</strong> называют <strong>командными оболочками</strong>, основное назначение которых интерпретация (на машинный язык) инструкций (строк), вводимых человеком.</p>
<p>В Linux доступ к командной оболочке осуществляется через программу-консоль или эмулятор терминала. Запуск консоли можно осуществить через главное меню, а для перехода в терминал следует нажать комбинацию клавиш <strong>Ctrl+Alt+F1</strong> (вместо единицы могут быть числа до 6). В любом случае вы увидите однотонный черный (или другого цвета) экран (в случае консоли: часть экрана), вверху которого будет так называемое приглашение.</p>
<p>В отличие от запуска программы-консоли, переход в терминал совершает с экраном что-то глобальное. Мы оказываемся в совершенно другой среде — текстовой. Здесь абсолютно нет графики, к которой мы привыкли в графическом интерфейсе, а мышь оказывается достаточно бесполезным существом: все манипуляции совершаются с помощью команд, набранных с клавиатуры. Таким образом работали компьютерные специалисты еще задолго до появления графического интерфейса пользователя.</p>
<p>Откуда взялись такие понятия как "терминал" и "консоль"? Терминалами называли комплекты "монитор+клавиатура", удаленные от компьютера. Компьютер мог иметь определенное количество терминалов, подсоединенных к нему с помощью модемов или последовательных портов. Таким образом осуществлялся многопользовательский режим доступа к ресурсам компьютера. Терминальный доступ используется и по сей день, хотя компьютеры стали уже совсем другими. Консоль — это также комплект "клавиатура+монитор" (ввод+вывод), однако присоединенный непосредственно к компьютеру.</p>
<p>Несмотря на древность текстового метода взаимодействия с компьютером, он широко распространен и сегодня. Для этого есть причины, например:</p>
<ol>
<li>Командная строка обеспечивает более быстрый доступ к некоторым возможностям операционной системы, а иногда — это единственный способ запустить тот или иной процесс.</li>
<li>Текстовый интерфейс менее требовательный к ресурсам компьютера, чем графический.</li>
<li>Бывает, что графический интерфейс просто не нужен (например, на части серверов).</li>
<li>Программируемость работы операционной системы и программ. Командная оболочка позволяет загружать файл с последовательностью команд и, затем, выполняет их. Т.е. от человека не требуется постоянного ввода команд.</li>
</ol>
<h2>Задание.</h2>
<ol>
<li>Переключитесь в текстовый режим работы (например, Ctrl+Alt+F3).</li>
<li>Вверху вы увидите приглашение для ввода логина (имени пользователя). Введите свой логин, нажмите Enter.</li>
<li>Затем будет предложено ввести пароль. Введите пароль (он не отображается при вводе, поэтому может показаться, что вы ничего не вводите, но это не так), нажмите Enter.</li>
<li>Далее вы должны увидеть пару строк сообщения (о времени входа и наличию писем) и приглашение примерно следующего формата [строка@строка ~]$.</li>
</ol>
<p>Что это значит и как работать с командной оболочкой, разберем на следующем уроке.</p>
  </div>
<div id="node-12" class="section-2">
  <h1 class="book-heading">Командная оболочка Linux. Введение для начинающих</h1>
  <div style="text-align:center;">
<h4>Методическая разработка урока по информатике<br />
Цикл уроков по информатике: Работа в режиме командной строки Linux<br />
Уровень: Linux для начинающих</h4>
</div>
<h2>1 Консоль и терминал</h2>
<p>Термины "консоль" и "терминал" связаны с историческим развитием компьютерной техники и близки по смыслу. Грубо говоря, оба понятия обозначают точку доступа человека к ресурсам компьютера, с той лишь разницей, что консоль находится непосредственно рядом с компьютером, а терминал на удаленном расстоянии. В настоящее время, в связи с повсеместным распространением персональных компьютеров, терминальный доступ не распространен. Несмотря на это, в операционных системах на базе ядра Linux (возможно и в других) реализована эмуляция (подобие) нескольких терминалов. И это не только дань истории, в большей степени в этом есть практическое значение.</p>
<p>В Linux терминал обеспечивает доступ к специальной программе — <strong>командной оболочке</strong> (чаще всего <strong>bash</strong>). Она занимается интерпретацией (переводом на машинный язык) команд пользователя. Почему "оболочка"? Наверное потому, что она как бы обволакивает операционную систему, позволяя человеку не вдаваться в подробности реализации функций системы, и, тем самым, облегчает работу. </p>
<p>Итак, через терминал (или консоль) мы получаем доступ к командной оболочке.</p>
<p>В операционной системе Linux работать с командной оболочкой можно двумя способами: в графическом режиме и текстовом. </p>
<p>Запустить эмулятор терминала в среде KDE (часто тут употребляют название "консоль") можно через главное меню. Для работы в текстовом режиме следует выполнить комбинацию клавиш <strong>Ctrl+Alt+F1</strong> (или Ctrl+Alt+F2, или Ctrl+Alt+F3, или Ctrl+Alt+F4, или Ctrl+Alt+F5, или Ctrl+Alt+F6). Комбинация клавиш Ctrl+Alt+F7 переключает экран в графический режим. Другими словами, в Linux эмулируется семь терминалов.</p>
<h2>2 Работа с нескольких терминалах и вход в систему</h2>
<p>Когда операционная система (Linux) загружена, то работать с ней могут только люди, с которыми система "знакома". Для начала работы человеку нужно войти в систему ("сказать" ей кто он и подтвердить, что это действительно он). </p>
<p>В графическом режиме мы обычно видим красочное окно для входа (хотя говорят, что лазить в окна плохо, поэтому возможно - это дверь), в которое вводим свой логин (электронное имя) и пароль (электронный паспорт, удостоверяющий личность). Теперь, если мы захотим работать с командной оболочкой в графическом режиме, то запустим программу под названием "Консоль" (возможно в названии будет значиться слово "Терминал") и сразу увидим так называемое приглашение оболочки. </p>
<p>Если же мы переключаемся в текстовый режим работы (например, нажав Ctrl+Alt+F3), то первое, что мы увидим будет далеко не приглашение, а текстовое требование на ввод логина и пароля. Зачем, ведь мы уже вошли?! Вспомним, что Linux эмулирует работу нескольких терминалов, а терминал с древних времен — это удаленная точка входа (кстати, мобильник - это тоже терминал доступа, только к другой системе). Можно представить, что мы не нажимали Ctrl+Alt+F3, а пошли пообщаться в другое помещение, но так и остались там. Однако работа не дремлет, поэтому пришлось сесть за тамошний терминал (клавиатура+монитор), соединенный с нашим компьютером. Как операционная система должна определить, что это вы вернулись, а не сел другой человек (возможно с неадекватными целями). Системе ничего не остается как снова спросить логин и пароль. Конечно, установка в здании множества терминалов, чтобы кому-то там было удобно работать с компьютером из любой точки — бред (особенно для 70-x годов XX века). Множество терминалов было вынужденной мерой того времени, т. к. компьютер нужен был многим, но стоил он очень дорого и был слишком громоздким. Поэтому доступ множества людей к одному ресурсу через терминалы был выходом, т. к. создавалось впечатление что у каждого есть свой компьютер. Говорят, что некоторые граждане роняли фразы типа "Опять монитор повис!"; возможно они думали, что все вычисления творятся в мониторе (ну не в клавиатуре же).</p>
<div style="text-align:center;"><img src="../../../img/bash/terminal/terminals.gif" width="780" height="547" alt="Терминальный доступ к ресурсам компьютера" /></div>
<p>Теперь обратим внимание на следующее: с компьютером работают разные люди одновременно. У каждого есть свой логин и пароль, каждый запускает свои программы и процессы. (Если бы все входили с одного логина, то это создало бы проблемы с безопасностью.) Это важно: операционная система поддерживает многопользовательский режим работы с компьютером, кроме того создается впечатление, что процессор выполняет множество разных задач параллельно (одновременно).</p>
<p>Хотя терминалы сейчас заменены персональными компьютерами, в операционной системе (Linux) наличие нескольких терминалов может иметь практическое значение. Например, человек работает в одном виртуальном терминале, а параллельно в другом запущен процесс архивации данных (хотя можно делать все в одном, но иногда работа в нескольких терминалах бывает удобней — так легче следить за тем, что происходит).</p>
<p>Итак, вернемся к тому с чего начали. Переключившись в текстовый режим мы увидим приблизительно следующее: приветствие, название дистрибутива, дата его выпуска, текущий терминал (tty2). Во второй строке — имя компьютера в сети (в данном случае five) и предложение ввести логин.</p>
<div style="text-align:center;"><img src="../../../img/bash/terminal/welcome.gif" width="780" height="130" alt="Приветствие терминала в Linux" /></div>
<p>Следует снова ввести логин и пароль. Ввод пароля не отображается (в целях безопасности). Далее вы должны увидеть что-то вроде этого:</p>
<div style="text-align:center;"><img src="../../../img/bash/terminal/bash.gif" width="780" height="160" alt="Приглашение командной строки" /></div>
<p>В первой строке сообщается когда и где был последний вход (в данном случае с терминала ":0" - это графический режим). Во второй строке — сообщение о том, что пользователь имеет письмо в папке /var/mail/pupil6. Далее — приглашение командной оболочки.</p>
<h2>3 Структура приглашения и текущий каталог</h2>
<p><strong>[pupil6@six ~]$</strong> - это приглашение командной оболочки. Но это не просто "здрасьте", оно несет в себе информацию об имени пользователя (pupil6), имени компьютера (six) и текущем каталоге (~). Тильда (~) обозначает домашний каталог.</p>
<p>Еcли на том же компьютере зайдет другой пользователь, то изменится первая строка (до знака @), при работе на другом компьютере изменится также строка после @. А если поменять текущий каталог, то знак тильды будет заменен на имя нового текущего каталога. Примеры приглашений командной оболочки: <strong>[test@six Documents]$</strong>, <strong>[YaKreveDko@five ~]$</strong> и т. д.</p>
<p><strong>Текущий каталог</strong> — это каталог, в котором мы как бы находимся.</p>
<h2>4 Примеры простейших команд</h2>
<p>Какие же команды существуют? Для чего они и как их отдавать? Команд множество, они позволяют выполнить прикладные задачи (получать информацию, работать с текстом, программировать и др.), управлять операционной системой и компьютером (железом). </p>
<p>Чтобы выполнить команду ее надо записать после приглашения и нажать Enter. Например, если захочется узнать, сколько времени, то следует записать слово <strong>date</strong> (от англ. "дата") и нажать Enter. В итоге получим сообщение о сегодняшней дате и текущем времени. </p>
<div style="text-align:center;"><img src="../../../img/bash/terminal/date.gif" width="780" height="96" alt="Команда date" /></div>
<p><strong>ls</strong> выдает содержимое текущего каталога (т. е. список файлов и папок каталога, в котором мы находимся).</p>
<div style="text-align:center;"><img src="../../../img/bash/terminal/ls.gif" width="780" height="92" alt="Команда ls" /></div>
<p>Команда <strong>who</strong> выдает список находящихся в системе пользователей.</p>
<div style="text-align:center;"><img src="../../../img/bash/terminal/who.gif" width="780" height="122" alt="Команда who" /></div>
<p>В данном случае в системе работает один пользователь, но с двух терминалов (tty2 и :0). А вот в примере ниже уже два пользователя (test и pupil6).</p>
<div style="text-align:center;"><img src="../../../img/bash/terminal/who2.gif" width="780" height="147" alt="Команда who" /></div>
<p><strong>date</strong>, <strong>ls</strong> и <strong>who</strong> - это примеры очень простых команд. На самом деле большинство команд состоят не из одного слова, а имеют параметры. Пока оставим это до следующего урока.</p>
<p>Еще один момент. Если написать строку, которая не является командой, то оболочка сообщит, что "команда не найдена".</p>
<div style="text-align:center;"><img src="../../../img/bash/terminal/error.gif" width="780" height="94" alt="Ответ командной оболочки на несуществующую команду" /></div>
<h2>5 Практическая работа</h2>
<ol>
<li>Зайдите в операционную систему в графическом режиме, затем с двух терминалов, работающих в текстовом режиме.</li>
<li>Выясните сколько пользователей работают в системе и где.</li>
<li>Узнайте содержимое текущего каталога, работая в текстовом режиме. Переключитесь в графический режим и удостоверьтесь в правильности ответа командной оболочки.</li>
<li>Дайте команду date два-три раза с небольшим перерывом между вызовами. Отметьте изменение времени.</li>
<li>Спросите у оболочки чая (tea). Что она вам ответит?</li>
</ol>
<h2>6 Вопросы</h2>
<ol>
<li>Что такое терминал?</li>
<li>Сколько терминалов эмулируется в Linux? Какие комбинации клавиш позволяют переключаться из одного терминала в другой?</li>
<li>Может ли один человек работать с двух терминалов?</li>
<li>Могут ли два человека одновременно работать с одного терминала?</li>
<li>Могут ли два человека одновременно работать с двух терминалов?</li>
<li>Как получить доступ к командной оболочке? Зачем к ней получать доступ?</li>
<li>Какие команды оболочки bash вы знаете?</li>
</ol>
  </div>
<div id="node-13" class="section-2">
  <h1 class="book-heading">Параметры команд bash-оболочки Linux</h1>
  <div style="text-align:center;">
<h4>Методическая разработка урока по информатике<br />
Цикл уроков по информатике: Работа в режиме командной строки Linux<br />
Уровень: Linux для начинающих</h4>
</div>
<div style="text-align:center;"><a href="http://younglinux.info/presentations/commands.pdf" title="Презентация к уроку (11 слайдов в pdf - 150 Kb)">Презентация к уроку (11 слайдов в pdf - 150 Kb)</a></div>
<h2>Зачем нужны параметры?</h2>
<p>Большинство команд, которые дают в оболочке Linux, состоят не из одного слова (сокращения слова). Чаще команды дополняются специальными параметрами (аргументами и ключами). Таким образом происходит конкретизация и модификация команды. Если провести аналогию между поведением командной оболочки и поведением человека, то можно сказать, что для человека слово "иди" - это команда, а слова "на остановку" - это параметр. Параметры позволяют более точно сформулировать то, что мы хотим. </p>
<p>Например, команда <strong>cal</strong> без параметров выдает календарь на текущий месяц. </p>
<div style="text-align:center;"><img src="../../../img/bash/commands/cal.png" width="700" height="173" alt="Команда cal без параметров" /></div>
<p>Однако может потребоваться получить календарь на весь год. Тогда следует дать команду <strong>cal 2009</strong>. В данном случае "2009" - это аргумент (операнд). Кроме того, можно получить календарь абсолютно любого месяца; в этом случае команде передаются два аргумента: номер месяца и год.</p>
<div style="text-align:center;"><img src="../../../img/bash/commands/cal92008.png" width="700" height="177" alt="Команда cal с параметрами" /></div>
<p>Обратите внимание, что в ответе командной оболочки неделя начинается с воскресенья. Это как-то не по русски. Для того, чтобы неделя начиналась с понедельника необходимо использовать ключ (опцию) <strong>-m</strong> (от англ. Monday – понедельник). Ключи предназначены для изменения поведения команды.</p>
<div style="text-align:center;"><img src="../../../img/bash/commands/calm.png" width="700" height="358" alt="Использование ключа -m с командой cal" /></div>
<h2>Команда echo</h2>
<p>Команда <strong>echo</strong> (эхо) выводит строку, переданную ей в качестве аргумента. Если написать команду без параметра, то она выдаст пустую строку. </p>
<div style="text-align:center;"><img src="../../../img/bash/commands/echo.png" width="700" height="223" alt="Команда echo" /></div>
<p>В последнем вызове команды используется ключ <strong>-n</strong>, который запрещает переход на новую строку, поэтому приглашение командной оболочки выводится в той же строке, что и вывод команды <strong>echo</strong>.</p>
<h2>Параметры команды ls</h2>
<p>Рассмотрим некоторые ключи и параметры уже знакомой нам команды <strong>ls</strong>, которая выдает список файлов и папок текущего каталога (однако, как мы узнаем далее, не обязательно текущего).</p>
<div style="text-align:center;"><img src="../../../img/bash/commands/ls.png" width="700" height="59" alt="Команда ls без параметров" /></div>
<p>Если команду <strong>ls</strong> использовать с ключом <strong>-l</strong>, то вывод будет более информативным.</p>
<div style="text-align:center;"><img src="../../../img/bash/commands/lsl.png" width="700" height="241" alt="Команда ls с ключом -l" /></div>
<p>В первой строке (итого 17736) содержится информация об общем размере всех файлов в списке. Далее в каждой строке сообщается о правах доступа к файлу, количестве ссылок на файл, имени владельца, имени группы, размере, времени последнего изменения и имени (файла или каталога). При добавлении ключа <strong>-t</strong> произойдет сортировка по времени. Ключи записываются друг за другом.</p>
<div style="text-align:center;"><img src="../../../img/bash/commands/lslt.png" width="700" height="241" alt="Команда ls с ключами -l и t" /></div>
<p>Команда <strong>ls</strong> часто применяется для просмотра содержимого разных каталогов файловой структуры. Для этого следует уметь адресовать команду к конкретному каталогу, т. е. передать интересующий нас каталог в качестве аргумента команде <strong>ls</strong>. Пока оставим адресацию в командной строке на потом и просто просмотрим содержимое каталога, который находится в текущем (домашнем каталоге). Например, чтобы узнать что находится в каталоге Desktop, следует написать <strong>ls Desktop</strong> и нажать Enter.</p>
<div style="text-align:center;"><img src="../../../img/bash/commands/lsdesktop.png" width="700" height="65" alt="Просмотр вложенного каталога с помощью команды ls" /></div>
<h2>Команда sleep</h2>
<p>До сих пор мы рассматривали команды, которые можно использовать без параметров. Однако существует ряд команд, которые без переданных им аргументов теряют всякий смысл и поэтому требуют обязательного наличия аргумента. Одной из таких команд является <strong>sleep</strong> (сон). Эта команда заставляет оболочку bash выполнить задержку перед следующей командой. А параметр, передающийся <strong>sleep</strong>, указывает какую именно задержку (сколько секунд, минут и т. д.). При интерактивной работе с bash данная команда особого смысла не имеет; однако часто для командной оболочки пишут сценарии (файлы с командами), и вот там иногда требуется выполнить задержку. </p>
<div style="text-align:center;"><img src="../../../img/bash/commands/sleep.png" width="700" height="141" alt="Команда sleep" /></div>
<p>В приведенном примере сначала команда записана без аргумента, поэтому получено соответствующее сообщение. Далее два вызова делают одно и тоже (задерживают на 3 секунды). Если вместо суффикса s использовать <strong>m</strong>, то задержка будет измеряться в минутах.</p>
<h2>Вопросы</h2>
<ol>
<li>Для чего необходимы параметры к командам? </li>
<li>Что передается в качестве аргумента команде <strong>cal</strong>? Как можно модифицировать выполнение этой команды?</li>
<li>Что делает команда <strong>echo</strong>?</li>
<li>Что следует записать в командной оболочке, чтобы получить данные о файлах (правах, размере и др.) текущего каталога?</li>
<li>Стоит ли писать <strong>sleep 1000m</strong> в командной оболочке Linux, если вы не знаете как прервать выполнение команд?</li>
</ol>
<h2>Практическая работа</h2>
<ol>
<li>В командной оболочке Linux выведите календарь на текущий месяц, затем на целый год и на любой нетекущий месяц.</li>
<li>"Заставьте" командную оболочку Linux повторить введенную вами строку.</li>
<li>Получите сведения о файлах вашего домашнего каталога.</li>
</ol>
<div style="text-align:center;"><a href="http://younglinux.info/presentations/commands.pdf" title="Презентация к уроку (11 слайдов в pdf - 150 Kb)">Презентация к уроку (11 слайдов в pdf - 150 Kb)</a></div>
  </div>
<div id="node-14" class="section-2">
  <h1 class="book-heading">Как работать в командной строке Linux</h1>
  <div style="text-align:center;">
<h4>Методическая разработка урока по информатике<br />
Цикл уроков по информатике: Работа в режиме командной строки Linux<br />
Уровень: Linux для начинающих</h4>
</div>
<div style="text-align:center;"><a href="http://younglinux.info/presentations/input.pdf" title="Презентация к уроку (Работа в режиме командной строки Linux)">Презентация к уроку (9 слайдов в pdf - 160 Kb)</a></div>
<h2>1 прерываение</h2>
<p>Помните команду <strong>sleep</strong> из предыдущего урока? Если ввести что-то наподобие <strong>sleep 100</strong>, то может понадобиться прервать выполнение команды. Сделать это можно с помощью сочетания клавиш <strong>Ctrl + C</strong>. Есть много процессов командной оболочки, прерывание которых обеспечивается сочетанием клавиш <strong>Ctrl + D</strong> или <strong>Ctrl + C</strong> или <strong>Ctrl + Z</strong>.</p>
<div style="text-align:center;"><img src="../../../img/bash/input/sleep.png" width="518" height="129" alt="Прерывание в командной строке Linux" /></div>
<p>Другой пример, где может понадобиться прерывание, — это команда <strong>cat</strong>. Когда она используется без параметров, то выводит на экран то, что вводит пользователь.</p>
<div style="text-align:center;"><img src="../../../img/bash/input/cat.png" width="283" height="288" alt="Команда cat" /></div>
<h2>2 история команд</h2>
<p>Работая в командной строке, очень часто требуется повторить ранее введенную команду. Набирать ее снова не слишком рационально. Для повтора ранее введенных команд в командной оболочке Linux возможна прокрутка команд с помощью стрелок вверх и вниз на клавиатуре. Происходит прокрутка команд назад или вперед. Когда появится нужная команда следует нажать Enter и команда будет повторена. Понятно, что при этом можно видоизменить команду (например, изменить параметр).</p>
<h2>3 автозавершение</h2>
<p>Автозавершение позволяет при нажатии определенной клавиши автоматически дописывать начатую команду. Это очень удобное свойство командной оболочки, т.к позволяет не знать команды и параметры наизусть и экономит время при вводе. Автозавершение в командной оболочке Linux срабатывает при нажатии клавиши Tab (табуляция). При этом автозавершение сработает лишь в том случае, если команда (параметр) определяется однозначно.</p>
<p>Например, для просмотра содержимого рабочего стола не обязательно писать <strong>ls Desktop</strong>. Достаточно написать <strong>ls De</strong> и нажать клавишу Tab — оболочка допишет слово сама. Однако если написать <strong>ls D</strong> и нажать Tab, то ничего не произойдет, т. к. обычно в домашнем каталоге пользователя есть два каталога, начинающиеся с буквы <strong>D</strong>, и какой из них имеется ввиду командная оболочка определить не может.</p>
<p>Бывает что мы не знаем что вводить далее после нескольких букв и командная оболочка после одиночного нажатия клавиши табуляции ничего не дополняет. В таком случае может помочь двойное нажатие Tab, после которого на экране появляется перечень всех возможных вариантов. Например, мы можем забыть как правильно писать команду <strong>echo</strong>. Но если введем букву e и нажмем два раза Tab, то увидим перечень команд, в котором можем узнать требуемую нам команду. </p>
<div style="text-align:center;"><img src="../../../img/bash/input/echo.png" width="438" height="464" alt="Двойное нажатие табуляции в командной строке Linux" /></div>
<p>Тоже самое можно использовать в случае <strong>ls D</strong>. В этом случае выведется список каталогов, начинающихся с буквы <strong>D</strong>.</p>
<div style="text-align:center;"><img src="../../../img/bash/input/lsd.png" width="282" height="54" alt="Выбор каталога" /></div>
<h2>4 ctrl + u</h2>
<p><strong>Ctrl + U</strong> отменяет введенную в текущей строке команду. Если команда длинная, то использовать <strong>Ctrl + U</strong> куда удобнее, чем стирать буквы по порядку с помощью клавиши Backspace.</p>
<p>Есть и другие сочетания клавиш, облегчающие работу с командной строкой (например, <strong>Ctrl + W</strong> – удаление слова).</p>
<h2>5 ввод данных в файл и вывод из файла</h2>
<p>Когда мы работаем в командной оболочке, то работаем в интерактивном режиме: спрашиваем и получаем ответ. При этом ответы оболочки не сохраняются, но что делать, если результат работы команды требуется сохранить? На этот случай командная оболочка поддерживает такие функции как перенаправление стандартного ввода и вывода. Ввод можно направить не на экран, а в файл. </p>
<p>Аналогично, данные можно ввести не с помощью клавиатуры, а получить из файла. </p>
<p>Перенаправление осуществляется с помощью знаков <strong>&lt;</strong> и <strong>></strong>. Угол указывает куда направить, а обратная сторона (широкая) — откуда взять. Например, команда <strong>cat > fileX</strong> запишет все, что введет пользователь в процессе работы программы cat, в файл с именем fileX. А вот команда <strong>cat &lt; fileY</strong> сделает обратное — выведет на экран содержимое файла <strong>fileY</strong>.</p>
<p>Рассмотрим пример более практического использования перенаправления. Допустим нам надо оставить на потом сведения о содержимом домашнего каталога. Для этого мы перенаправим вывод команды <strong>ls</strong> в файл (например, <strong>ls > myhome</strong>). Еще хорошо бы, чтобы в этом файле содержалась дата когда был взят этот "срез". Для этого допишем в файл результат команды date, которая позволяет получить дату и время (<strong>date >> myhome</strong>). Обратите внимание, что для дополнения файла используется два знака <strong>></strong>; если использовать один знак, то произойдет перезапись (старые данные сотрутся и заменятся новыми). Теперь предположим, что через какое-то время потребовалось узнать, что же было в папке ранее: для этого достаточно выполнить команду <strong>cat &lt; myhome</strong>.</p>
<div style="text-align:center;"><img src="../../../img/bash/input/input.png" width="404" height="339" alt="перенаправление в командной строке Linux" /></div>
<h2>вопросы</h2>
<ol>
<li>Как прервать выполнение какой-либо команды?</li>
<li>Каким образом можно просматривать ранее введенные команды?</li>
<li>Что такое автозавершение? Как им пользоваться в командной оболочке bash?</li>
<li>Для чего предназначена комбинация клавиш <strong>Ctrl + U</strong>?</li>
<li>Что произойдет в результате выполнения следующих команд: <strong>cat > text333, cal > yest, date >> yest</strong>?</li>
</ol>
<h2>практическая работа</h2>
<ol>
<li>Выполните в командной оболочке bash команду <strong>cat</strong> без параметров. Введите несколько строк, а затем прервите выполнение данной команды.</li>
<li>Выполните в командной строке несколько команд, которые вы знаете. Повторите некоторые из них без записи самих команд.</li>
<li>Напишите в командной строке <strong>ls -l Do</strong>, нажмите Tab, затем Enter. Объясните поведение оболочки.</li>
<li>Узнайте какие команды есть на букву <strong>z</strong>.</li>
<li>Создайте файл, содержащий сведения о вашем имени, фамилии и возрасте. Выведите содержимое этого файла на экран.</li>
</ol>
  </div>
<div id="node-15" class="section-2">
  <h1 class="book-heading">Документация Linux</h1>
  <div style="text-align:center;">
<h4>Методическая разработка урока по информатике<br />
Цикл уроков по информатике: Работа в режиме командной строки Linux<br />
Уровень: Linux для начинающих</h4>
</div>
<div style="text-align:center;"><a href="http://younglinux.info/presentations/man.pdf" title="Документация Linux. Презентация к уроку.">Презентация к уроку (8 слайдов в pdf - 260 Kb)</a></div>
<h2>man и info</h2>
<p>Выполняя ту или иную команду в bash-оболочке, мы запускаем какую-либо программу. Количество этих небольших программ-утилит в операционных системах на базе ядра Linux очень большое. В связи с этим невозможно запомнить весь перечень команд с их параметры. Поэтому каждая команда в Linux имеет описание в виде так называемых man-страниц. Man (в данном случае) – это сокращение от слова manual (руководство).</p>
<p>Чтобы посмотреть документацию к той или иной программе (команде) необходимо в оболочке Linux написать <strong>man <em>имя_команды</em></strong>. Например, если дать команду <strong>man sleep</strong>, то увидим справочную информацию по команде <strong>sleep</strong>.</p>
<div style="text-align:center;"><img src="../../../img/bash/man/mansleep.jpg" width="750" height="450" alt="man-документ по команде sleep" /></div>
<p>Поскольку команда <strong>sleep</strong> весьма специфична, то имеет достаточно короткое описание. На самом деле большинство man-документов не умещаются в пределах экрана. Для их просмотра можно использовать следующие клавиши:<br />
Стрелки вверх и вниз – построчная прокрутка;<br />
Page_Up и Page_Down – постраничная прокрутка;<br />
Home и End – перемещение в начало и конец документа.</p>
<p>Покинуть руководство позволяет клавиша Q.</p>
<p>Следует отметить, что все man-документы написаны на английском языке и лишь малая доля переведена (локализована). Выход тут один – учить английский. </p>
<p>Помимо man-страниц есть другая версия документации – это info-страницы. В отличие от первых они не являются строгой документацией, их легче понять начинающим пользователям Linux, могут содержать примеры и ссылки. Ниже представлен info-документ команды sleep (<strong>info sleep</strong>).</p>
<div style="text-align:center;"><img src="../../../img/bash/man/infosleep.png" width="580" height="564" alt="info-документ по команде sleep" /></div>
<h2>структура man-страниц</h2>
<p>При первом взгляде на man-документ его бывает трудно понять, т.к. он не похож на простой текст-объяснение (он им и не является). Маны всегда строго структурированы и разбиты на разделы. Некоторые из разделов присутствуют обязательно, другие по необходимости:</p>
<ol>
<li>NAME (ИМЯ) – команда и то, что она делает.</li>
<li>SYNOPSIS (ОБЗОР) – синтаксис команды. Параметры без скобок являются обязательными, а в квадратных скобках – нет (обычно это ключи).</li>
<li>DESCRIPTION (ОПИСАНИЕ) – подробное описание как использовать команду.</li>
<li>OPTIONS (ОПЦИИ) – перечень возможных ключей и их описание.</li>
<li>... </li>
</ol>
<h2>как найти команду?</h2>
<p>Может возникнуть ситуация, когда требуется выполнить какую-нибудь задачу, а как ее выполнить не знаешь. Всегда можно предположить, что такая задача возникала перед другими людьми ранее и, возможно, уже создана программа (утилита) решающая ее. Следовательно, в bash-оболочке Linux есть команда, позволяющая выполнить возникшую задачу. Но как найти эту команду? Может быть мы даже готовы почитать маны про эту команду, но не знаем и с какой буквы она начинается. Что делать? Книги и Интернет? Однако есть еще один вариант - это команда <strong>apropos</strong>. Она выводит на экран описание команд, содержащих слово, переданное ей в качестве аргумента. Допустим возникла потребность объединить пару файлов. Чтобы узнать какими способами это можно сделать, достаточно дать команду <strong>apropos объедин</strong> (окончание недописано, т.к. неизвесто как слово "объединение" используется в описании команды – может быть и "объединяет" и "объединяюся" ...).</p>
<div style="text-align:center;"><img src="../../../img/bash/man/apropos.png" width="690" height="113" alt="Команда apropos" /></div>
<p>Полученный список позволяет оценить, какая команда больше всего нам подходит. <strong>Но это только полпути: далее следует почитать man-страницу к данной команде, чтобы выяснить, как ее следует использовать.</strong> Только вот одно существенное примечание: аргумент команде apropos мы передали на русском языке, поэтому поиск осуществлялся только в части документов (причем довольно малой). Обычно следует использовать русские и английские слова, чтобы найди требуемую команду.</p>
<div style="text-align:center;"><img src="../../../img/bash/man/apropos2.png" width="684" height="161" alt="Поиск команд bash-оболочки Linux" /></div>
<p>И еще одно примечание: для поиска команд вместо <strong>аpropos</strong> можно использовать <strong>man</strong> с ключом <strong>-k</strong> (<strong>man -k</strong> строка) – будет тоже самое.</p>
<div style="text-align:center;"><img src="../../../img/bash/man/apropos3.png" width="741" height="192" alt="Работают одинаково: apropos и man -k" /></div>
<h2>практическая работа</h2>
<ol>
<li>Выясните, для чего предназначена команда <strong>cat</strong>. Используя данную команду, создайте два файла с данными, а затем объедините их в один.</li>
<li>С помощью команды <strong>apropos</strong> найдите команду для удаления файлов. Прочитайте к ней man-документ. Удалите какой-нибудь файл.</li>
<li>Дайте команду <strong>info bash</strong>. Прочитайте информацию о данном командном интерпретаторе. Если она на английском языке, переведите пару абзацев.</li>
</ol>
  </div>
<div id="node-16" class="section-2">
  <h1 class="book-heading">Абсолютная и относительная адресация. Команда cd</h1>
  <div style="text-align:center;">
<h4>Методическая разработка урока по информатике<br />
Цикл уроков по информатике: Работа в режиме командной строки Linux<br />
Уровень: Linux для начинающих</h4>
</div>
<div style="text-align:center;"><a href="http://younglinux.info/presentations/cd.pdf" title="Абсолютная и относительная адресация. Презентация к уроку">Презентация к уроку (9 слайдов в pdf - 130 Kb)</a></div>
<p>Очень частой задачей в командной строке Linux является просмотр содержимого того или иного каталога. Для этого используется команда <strong>ls</strong>. Однако, используя данную команду без аргументов, можно увидеть содержимое только текущего каталога. Обычно в Linux по-умолчанию текущим каталогом является домашний каталог пользователя. Как быть, если требуется узнать содержимое других каталогов? Для этого в качестве аргумента команде ls следует передать адрес каталога.</p>
<p>Вспомним, что адресация бывает абсолютной и относительной. В случае абсолютной адресации путь к каталогу (или файлу) указывается, <strong>начиная с корневого каталога</strong> и далее вглубь по дереву папок до требуемого каталога. Например, все следующие записи являются абсолютными адресами:</p>
<p><strong>/home/sv/Desktop<br />
/boot<br />
/etc/vim </strong></p>
<p>Первый знак / (слеш) - это обозначение корневого каталога.</p>
<p>При относительной адресации путь к каталогу указывается, <strong>начиная с текущего каталога</strong> (другими словами, относительно текущего каталога). При этом используются следующие обозначения:</p>
<p>. или ничего - текущий каталог;<br />
.. - каталог на уровень выше (родительский по отношению к текущему).</p>
<p>При относительной адресации нужно хорошо представлять картину взаимного расположения директорий.</p>
<p>Примеры относительных адресов:</p>
<p><strong>./Documents/images/<br />
Documents/images/<br />
../test</strong> – в родительском каталоге по отношению к текущему есть папка test:</p>
<div style="text-align:center;"><img src="../../../img/bash/cd/address.gif" width="557" height="175" alt="относительная адресация" /></div>
<p>Уместность использования относительного или абсолютного адреса зависит от ситуации. Так, например, если требуется просмотреть корневой каталог, то проще написать / (т. е. абсолютный адрес); если необходимо узнать содержимое каталога, вложенного в текущий, то можно просто написать его название (относительная адресация).</p>
<p>Можно выделить еще один способ адресации — это адресация относительно домашнего каталога пользователя. Обозначается домашний каталог знаком тильды (~). Например, из любого каталога адрес ~/Documents, заставит обратиться в папку <strong>Documents</strong>, находящуюся в домашнем каталоге.</p>
<p>Пример просмотра различных каталогов с помощью команды <strong>ls</strong>:</p>
<div style="text-align:center;"><img src="../../../img/bash/cd/ls.png" width="553" height="161" alt="Использование команды ls для просмотра содержимого различных каталогов" /></div>
<p>Обратите внимание, на команду ls /. Она выдает список вложенных директорий корневого каталога. Для операционных систем на базе ядра Linux этот список относительно стандартен. Например,</p>
<p><strong>root </strong>– это домашний каталог суперпользователя;<br />
<strong>bin</strong> – содержит программы, необходимые во время старта системы, а также часто используемые команды;<br />
<strong>boot</strong> – содержит файлы для загрузки и ядро операционной системы. </p>
<p>Использование адреса с командой <strong>ls</strong> – лишь частный случай. Например, можно направить вывод в файл в другой каталог, отличный от текущего:</p>
<div style="text-align:center;"><img src="../../../img/bash/cd/cat.png" width="589" height="126" alt="Перенаправление в другой каталог" /></div>
<p>Когда мы используем команду <strong>ls</strong>, то можем увидеть содержимое почти любого каталога, но не переходим в него (текущий каталог не меняется). Мы как бы смотрим из одного помещения в другое, оставаясь по-прежнему в первом. Однако бывают случаи, когда требуется изменить текущий каталог.</p>
<p>Для перемещения по дереву каталогов в командной оболочке Linux используется команда cd. В качестве аргумента передается адрес каталога, куда нужно перейти. Примеры:</p>
<div style="text-align:center;"><img src="../../../img/bash/cd/cd.png" width="361" height="140" alt="Команда cd" /></div>
<p>Обратите внимание на изменения в приглашении командной оболочки. Теперь вместо знака тильды, который обозначает домашний каталог, появились названия каталогов куда был осуществлен переход.</p>
<p>Если требуется выполнить множество различных операций в какой либо папке, то лучше перейти в нее, чем пытаться манипулировать объектами из других каталогов. Это позволит не писать длинные адреса при обращении к объектам (каталогам и файлам).</p>
<p>Следует помнить одну полезную особенность — это автозавершение при нажатии клавиши Tab. Для адресов оно работает также как и при записи команд. Например, желая перейти из домашнего каталога на рабочий стол, достаточно набрать cd De, нажать Tab, затем Enter.</p>
<h2>вопросы</h2>
<ol>
<li>Как обозначается корневой каталог?</li>
<li>Чем отличается относительная адресация от абсолютной? Приведите примеры адресов обоих типов.</li>
<li>Что означают следующие записи: <strong>ls /, cd ../../, cd ~</strong>?</li>
<li>Какую адресацию уместнее использовать в следующих случаях: переход из Desktop в каталог, вложенный в корневой; просмотр содержимого каталога, вложенного в текущий?</li>
<li>Для чего предназначена команда <strong>cd</strong>?</li>
<li>Как в командной оболочке Linux можно определить, какой каталог является текущим?</li>
</ol>
<h2>практическая работа</h2>
<ol>
<li>Просмотрите содержимое нескольких каталогов, вложенных в корневой.</li>
<li>Директория <strong>/home</strong> содержит домашние папки пользователей системы. Узнайте какие пользователи зарегистрированы в вашей операционной системе.</li>
<li>Измените текущий каталог, а затем снова вернитесь в домашний.</li>
</ol>
  </div>
<div id="node-17" class="section-2">
  <h1 class="book-heading">Операции с файлами в командной строке Linux. Урок</h1>
  <div style="text-align:center;">
<h4>Методическая разработка урока по информатике<br />
Цикл уроков по информатике: Работа в режиме командной строки Linux<br />
Уровень: Linux для начинающих</h4>
</div>
<div style="text-align:center;"><a href="http://younglinux.info/presentations/cpmv.pdf" title="Операции с файлами в Linux. Презентация к уроку">Презентация к уроку (8 слайдов в pdf - 130 Kb)</a></div>
<p>Работая в любой графической оболочке (например, KDE или Gnome) мы часто выполняем такие операции как копирование, перемещение, переименование объектов (файлов и папок), также создаем файлы и каталоги. Все это изменяет файловую структуру (по крайней мере, ее "пользовательскую" часть). Очевидно что подобные операции (копирование, перемещение и др.) должны быть предусмотрены и в командной оболочке Linux.</p>
<h2>копирование</h2>
<p>Для копирования файлов в bash используется команда <strong>cp</strong> (от "copy"– копировать), которая имеет два обязательных аргумента: имя (адрес) исходного файла и имя (адрес) создаваемой копии или адрес каталога, куда помещается копия.</p>
<div style="text-align:center;"><img src="../../../img/bash/cpmv/cpmv.gif" width="510" height="115" alt="копирование в командной стоке Linux" /></div>
<p>Адрес может быть как абсолютным, так и относительным. Если операции с файлами выполняются в текущем каталоге, то адрес нет смысла указывать, а пишется только имя исходного файла и имя копии. При этом следует помнить, что файлов с одинаковыми именами и адресами не может быть, поэтому имя копии должно отличаться от имени исходного файла.</p>
<p>Рассмотрим несколько примеров.</p>
<div style="text-align:center;"><strong>cp readme readme2</strong></div>
<p>В данном случае создается копия файла readme, которая остается в той же директории под именем readme2. </p>
<div style="text-align:center;"><strong>cp readme Desktop/</strong></div>
<p>Создается копия на рабочем столе. Непосредственное имя копии в данном случае можно оставить прежним, т.к. полные имена (адрес + имя) файлов различны. Используется относительная адресация (каталог Desktop является дочерним по отношению к домашнему каталогу).</p>
<div style="text-align:center;"><strong>cp /home/irina/tux.png /mnt/D/pingvin.png</strong></div>
<p>Здесь копируется файл из домашнего каталога пользователя irina в каталог D, используются абсолютные адреса, имя копии изменяется. </p>
<p>Чтобы скопировать каталог необходимо после команды cp прописать ключ r: </p>
<div style="text-align:center;"><strong>cp -r ./letters ./oldletters</strong></div>
<h2>перемещение и переименование</h2>
<p>Для перемещения и переименования в bash-оболочки Linux используется одна команда – <strong>mv</strong> (от "move" – перемещать). Также как и с командой копирования обязательно наличие двух аргументов, а выбор того или иного действия (перемещения или переименования) зависит от того, что это за аргументы. При перемещении файл меняет свой адрес, следовательно, если в первом и втором аргументах указаны различные адреса, то произойдет перемещение, если одинаковые (а различны только имена) – переименование. </p>
<p>В случае перемещения во втором аргументе может быть указан только каталог (перемещение без переименования), куда требуется переместить файл.</p>
<div style="text-align:center;"><strong>mv document.txt Work
<p>mv document.txt Work/doc23.txt</p></strong></div>
<p>Здесь в первом случае файл document.txt перемещается в каталог Work, а во-втором случае одновременно происходит перемещение файла и его переименование: файл document.txt перемещается в директорию Work и получает новое имя doc23.txt.</p>
<p>При использовании команды mv для переименования в качестве второго аргумента указывается новое имя:</p>
<div style="text-align:center;"><strong>mv order.txt orderNew.txt
<p>mv Work/list.odt Work/names.odt</p></strong></div>
<h2>создание файлов и каталогов</h2>
<p>Новые директории создаются командой mkdir. Например, чтобы создать каталог Work в текущей директории необходимо выполнить следующую команду:</p>
<div style="text-align:center;"><strong>mkdir Work 
<p>или</p>
<p>mkdir ./Work</p></strong></div>
<p>Существует множество способов создания файлов. Один из них – это создание пустого файла с помощью команды touch. В качестве аргумента ей передается имя файла. Еще один способ – это перенаправление вывода какой-либо команды в файл. Пример:</p>
<div style="text-align:center;"><strong>cal > ./Work/January</strong></div>
<p>Здесь команда cal выводит календарь на текущий месяц, а поскольку стоит знак ">" (в данном случае обозначающий "направить результат выполнения команды в ..."), то вывод команды будет записан в файл January, находящийся в папке Work.</p>
<h2>удаление файлов и каталогов</h2>
<p>Для удаления каталогов используется команда rmdir. Удалять можно только пустые каталоги, т. е. не содержащие файлов и поддиректорий (вложенных папок). </p>
<p>Для удаления файлов используется команда rm. Например:</p>
<div style="text-align:center;"><strong>rm ghost.png</strong></div>
<p>Чтобы удалить не пустой каталог можно использовать команду rm с ключом -r. При этом при удаление каждого вложенного объекта будет требоваться подтверждения.</p>
<div style="text-align:center;"><img src="../../../img/bash/cpmv/rmr.png" width="541" height="84" alt="удаление не пустого каталога в командной строке Linux" /></div>
<p>Однако если добавить еще ключ -f, то вопросов на подтвержение уже возникать не будет:</p>
<div style="text-align:center;"><strong>rm -rf /mnt/save/alldocuments/</strong></div>
<h2>вопросы</h2>
<ol>
<li>Для чего предназначены команды <strong>cp, mv, rm, mkdir, rmdir</strong>?</li>
<li>Как скопировать каталог?</li>
<li>Можно ли удалить не пустой каталог?</li>
<li>В каком из приведенных ниже примерах происходит перемещение файла? его переименование? одновременно оба действия?<br />
<strong>а) mv ./work/tech/comp.png ./work/tech/my_car.png</strong></li>
<p>б) mv ./work/tech/comp.png ./Desktop
</p><p>в) mv ./work/tech/comp.png ./work/tech/computer.png
</p><p>
</p></ol>
<h2>практическая работа</h2>
<ol>
<li>В домашней директории создайте каталог <strong>folder</strong> и переместитесь в него.</li>
<li>Создайте в нем три файла любыми известными вам способами, а также вложенный каталог <strong>inside</strong>.</li>
<li>Скопируйте один файл из каталога <strong>folder</strong> в каталог <strong>inside</strong>, а два оставшихся — переместите в <strong>inside</strong>. Файл, оставшийся в каталоге folder, переименуйте.</li>
<li>Создайте копию каталога <strong>inside</strong> на рабочем столе (<strong>Desktop</strong>).</li>
<li>Удалите каталог <strong>folder</strong>.</li>
</ol>
  </div>
<div id="node-18" class="section-2">
  <h1 class="book-heading">Виды ссылок в Linux. Теория</h1>
  <div style="text-align:center;">
<h4>Статья<br />
Цикл уроков по информатике: Работа в режиме командной строки Linux<br />
Уровень: Linux для начинающих</h4>
</div>
<h2>что такое индексный дескриптор?</h2>
<p>Мы знаем, что файл – это область данных на диске, которую можно найти по имени. Однако в операционных системах на базе ядра Linux вся информация о файле привязана не к имени, а так называемому <strong>индексному дескриптору</strong>. У каждого файла есть свой уникальный (единственный и неповторимый) индексный дескриптор, который содержит сведения о файле: в каких блоках диска хранится содержимое файла, размер файла, время его создания и др.</p>
<p>Пронумерованные индексные дескрипторы файлов содержатся в специальной таблице. Каждый логический и физический диск имеет собственную таблицу индексных дескрипторов. </p>
<p>Именно <strong>номер индексного дескриптора является истинным именем файла в системе</strong>. </p>
<h2>Какие ссылки бывают жесткими?</h2>
<p>Поскольку индексные дескрипторы представляют собой номера, а файлов в операционной системе обычно очень много, то искать файл по номеру его дескриптора очень неудобно: человеку работать с осмысленными словами куда удобнее, чем с огромными числами. Поэтому любому файлу в системе обычно дается осмысленное имя (обычно словесное), которое не содержит информации о файле, а лишь указывает (ссылается) на его дескриптор.</p>
<p><strong>Имя файла, ссылающееся на его индексный дескриптор, называется жесткой ссылкой</strong>. Механизм жестких ссылок – это основной способ обращаться к файлу по имени в операционных системах, основанных на ядре Linux.</p>
<h2>сколько имен у файла?</h2>
<p>Файл в системе идентифицирует (определяет) номер его индексного дескриптора, а имя файла содержит лишь указатель на него. Естественно, что таких указателей можно создать множество, хотя все они будут направлять на один объект. Для образного сравнения, можно представить придорожные указатели на какую-нибудь бензоколонку: их много, они находятся в разных местах трассы, но указывают на одну и туже точку. Другими словами, у файла в Linux может быть несколько имен.</p>
<p>Но почему бывает недостаточно одного имени файла? Все дело в удобстве доступа (а также предоставлении доступа).</p>
<p>Например, человек работает над проектом и постоянно обращается к файлу, местоположение которого предусмотрено во вложенном каталоге. Чтобы открыть этот файл в графическом режиме, придется по крайней мере открыть последовательно два каталога. Но куда удобнее будет поместить еще одно имя файла на Desktop (Рабочий стол).</p>
<p>Или предположим такую ситуацию. Администратор системы (человек, управляющий операционной системой) в одном каталоге создал файл, доступ к которому должен быть обеспечен и рядовому пользователю. Однако открывать этот каталог пользователь не имеет права, а переместить файл в каталог пользователя тоже нельзя, т.к он необходим и в данном каталоге. В такой ситуации единственным выходом будет создать еще одну жесткую ссылку на файл и поместить ее в каталог пользователя.</p>
<p>Также, из механизма жестких ссылок вытекает и следующее утверждение: удаление одной жесткой ссылки на файл не приводит к его удалению их системы при наличии у него других жестких ссылок (имен). И это понятно, если учесть, что все жесткие ссылки равны между собой, независимо от времени создания, местонахождения в структуре каталогов и др. Файл будет доступен системе, пока будет существовать хоть одна жесткая ссылка на него. В случае удаления всех ссылок, файл удалится из системы, т.к. станет просто недоступен ей.</p>
<h2>в чем "мягкость" мягких ссылок?</h2>
<p>Несмотря на всю прелесть жестких ссылок, у них есть и ограничения: их можно создавать только на файлы, но не на каталоги. Также жесткую ссылку нельзя создать с одного диска на другой. Последнее означает, что нельзя создать жесткую ссылку на файл находящийся, например, на съемном носителе (дискеты, флэш-память, CD-R и др.) или другом разделе жесткого диска.</p>
<p>В такой ситуации на помощь приходят мягкие ссылки. Часто их также называют <strong>символьными ссылками</strong>. Они представляют собой файлы, указывающие не на индексные дескрипторы, а на имена файлов. </p>
<p>Следует понимать, что понятия жесткой и мягкой ссылки, несмотря на их созвучность, различны по сути. Жесткая ссылка указывает непосредственно на индексный дескриптор, а мягкая указывает на жесткую ссылку. Если удалить все жесткие ссылки файла, то ни одна мягкая ссылка "не сработает".</p>
<div style="text-align:center;"><img src="../../../img/bash/links.gif" width="346" height="346" alt="Связь индексного дескриптора файла, имени файла и символьных ссылок" /></div>
<p>На рисунке изображена односторонняя связь между символьными ссылками и именами файла, а также между именами и индексным дескриптором. Верхний квадрат соответствует индексному дескриптору файла, квадраты со скругленными углами – именам файла, а круги – символьным ссылкам. Индексный дескриптор файла всегда один, а имен может быть множество. Также может существовать неограниченное количество символьных ссылок на каждое имя файла. При удалении жесткой ссылки, на имя которой имелась мягкая ссылка, последняя не наследует связь с дескриптором и утрачивает свою "работоспособность". Если в данном примере удалить жесткую ссылку с именем logotip, то файлы pic1 и tux станут бесполезны, т.к. открыть файл 555795 с их помощью уже будет нельзя. Такие ссылки часто называют "битыми".</p>
<h2>ссылка – это не копия!</h2>
<p>Кому-то может показаться, что копирование файлов и создание ссылок почти одно и то же, т.к. в итоге получаются вроде бы два файла. Однако это абсолютно разные операции, приводящие к совершенно разным результатам.</p>
<p>При копировании файла создается новый файл, данные которого записываются в свободное место на диске, и который имеет собственный индексный дескриптор. В случае же создания жесткой ссылки, файл по-прежнему остается в единственном числе, появляется лишь дополнительный указатель на него.</p>
<p>Практически это имеет следующие последствия. При внесении изменений в файл, обращение к которому было под одним именем, эти изменения обнаружатся и тогда, когда обращение к файлу произойдет под другим именем. При создании копии файла и последующем изменении данных этой копии, данные первоначального файла не изменятся.</p>
<p>В случае мягких ссылок, хоть и создается новый файл (с собственным индексным дескриптором), но он не содержит данных файла-оригинала, а лишь ссылается на жесткую ссылку.</p>
  </div>
<div id="node-19" class="section-2">
  <h1 class="book-heading">Создание ссылок в Linux</h1>
  <div style="text-align:center;">
<h4>Методическая разработка урока по информатике<br />
Цикл уроков по информатике: Работа в режиме командной строки Linux<br />
Уровень: Linux для начинающих</h4>
</div>
<div style="text-align:center;"><a href="http://younglinux.info/presentations/link.pdf" title="Создание ссылок в Linux. Презентация к уроку">Презентация к уроку (6 слайдов в pdf - 130 Kb)</a></div>
<p>В командной оболочке Linux для того, чтобы добавить файлу еще одно имя (создать еще одну жесткую ссылку на файл) необходимо выполнить команду <strong>ln</strong> (от "link" - ссылка, связывать). В качестве первого параметра указывается существующее имя файла, второго - имя новой ссылки.</p>
<div style="text-align:center;"><strong>ln file1 file2</strong></div>
<p>В данном случае, в текущем каталоге была создана еще одна жесткая ссылка на файл с именем <strong>file1</strong>. Созданная ссылка находится в том же каталоге, что и первая. Далее можно переместить ссылку в другой каталог при помощи команды <strong>mv</strong>.</p>
<p>Можно сразу указать место назначения ссылки с помощью адреса. Например:</p>
<div style="text-align:center;"><strong>ln list ./Desktop/l_class
<p>ln /root/list /home/vasy/Desktop/l_class</p></strong></div>
<p>В последнем варианте указаны полные имена исходного и нового имен файла.</p>
<p>Число жестких ссылок на файл (т. е. разных имен файла) можно узнать, выполнив команду <strong>ls</strong> с параметром <strong>-l</strong>, которая построчно выводит на экран подробные сведения о каждом объекте каталога. </p>
<div style="text-align:center;"><img src="../../../img/bash/link/ln.png" width="559" height="240" alt="Создание жесткой ссылки на файл" /></div>
<p>В данном примере создаются две ссылки на файд <strong>cp_mv_7.odt</strong>: одна ссылка помещается в папку <strong>Documents</strong>, а вторая на рабочий стол. Далее выполняется команда <strong>ls</strong> по отношению к этим двум каталогам. Сразу за перечислением прав доступа (<strong>-rwxrwxrwx</strong>) к файлу следует число, которое и обозначает количество жестких ссылок на файл. В данном случае их три (не забывайте про ту, что была исходной). То, что все ссылки указывают на один и тот же файл, говорит идентичность информации о файле. </p>
<p>Символьную ссылку можно создать при помощи команды <strong>ln</strong> с ключом <strong>-s</strong> (от "symbolic"). В качестве первого параметра пишется АБСОЛЮТНЫЙ АДРЕС и имя исходного файла, в качестве второго – адрес и имя мягкой ссылки. Например:</p>
<div style="text-align:center;"><img src="../../../img/bash/link/lns.png" width="848" height="104" alt="Создание символьной ссылки на файл" /></div>
<p>В примере создана символьная ссылка на файл <strong>text</strong>, находящийся в каталоге <strong>Documents</strong>. Ссылка размещена на рабочем столе. При просмотре содержимого каталога <strong>Desktop</strong>, мы можем видеть, что файл<strong> link_text</strong> является символьной ссылкой на объект находящийся по адресу <strong>/home/sveta/Documents/text</strong>. </p>
<p>В отличие от жестких ссылок, символьные ссылки можно создавать и на каталоги. В принципе, в этом и можно усмотреть их главное практическое назначение. В примере ниже создается ссылка на каталог, находящийся на другом разделе жесткого диска. После этого доступ к нему можно осуществлять непосредственно с рабочего стола (что намного удобнее).</p>
<div style="text-align:center;"><img src="../../../img/bash/link/lnscatalog.png" width="926" height="144" alt="Создание ссылки на каталог" /></div>
<h2>Практическая работа</h2>
<ol>
<li>Создайте файл с текстовыми данными, путем перенаправления результата команды <strong>cat</strong> в файл (<strong>cat > myfile</strong>).</li>
<li>Далее скопируйте файл, создайте на него жесткую и символьную ссылки. Все объекты оставьте в том же каталоге, что и файл-оригинал. </li>
<li>Выполните команду <strong>ls -l</strong>, затем сделайте выводы о том, какие имена указывают на один и тот же объект, а какие на разные.</li>
<li>Создайте символьную ссылку на рабочем столе на любой глубоко вложенный каталог файловой структуры.</li>
</ol>
<h2>Вопросы</h2>
<ol>
<li>В чем заключаются различия между жесткой и мягкой ссылками?</li>
<li>Сколько имен может быть у файла?</li>
<li>Есть ли разница между созданием дополнительной ссылки на файл и его копированием? Если "да", то в чем она заключается?</li>
</ol>
<h2>Выводы</h2>
<ul>
<li>Вся существенная информация о файле привязана к его индексному дескриптору, который представляет собой номер. </li>
<li>Обратиться к файлу можно по его имени, связанному с индексным дескриптором.</li>
<li>Количество имен не ограничено. </li>
<li>Файл останется доступен операционной системе до тех пор, пока не будут удалены все его имена.</li>
<li>Символьная (мягкая) ссылка – это особый тип файла, ссылающийся на жесткую ссылку.</li>
</ul>
  </div>
<div id="node-129" class="section-2">
  <h1 class="book-heading">Команда chmod. Изменение значений прав доступа к файлам</h1>
  <h2>Пояснение</h2>
<p>Задача этого урока — изучить, как значения прав на файлы для разных категорий влияют на возможные действия с ним. Придется действовать от имен разных пользователей, поэтому необходимо, чтобы в системе было несколько пользователей.</p>
<p>По умолчанию, когда создается новый пользователь в Linux, он входит только в свою собственную группу. Чтобы увидеть как члены одной группы могут работать с файлом, требуется создать новую группу и добавить туда пару пользователей (или одного пользователя добавить в группу другого).</p>
<p>Поскольку в процессе урока происходит постоянное переключение между пользователями, необходимы элементарные навыки работы в текстовом режиме операционных систем GNU/Linux.</p>
<p>Положительное право исполнять имеет смысл не для всех файлов. Поэтому в уроке предусмотрена подготовка файла с кодом на языке C и его последующая компиляция в бинарный файл.</p>
<p>Данная методическая разработка может быть практической частью <a href="http://younglinux.info/rwx" title="Права доступа к файлам в Unix-подобных операционных системах (GNU/Linux)">к уроку о правах пользователей</a>.</p>
<p>Для того, чтобы перейти на страницу с описанием команды chmod, щелкните по рисунку ниже.</p>
<div style="text-align:center;"><a href="http://younglinux.info/chmodimg" title="Схема синтаксиса команды chmod"><img src="../../../sites/default/files/images/chmod.preview.png" width="640" height="338" alt="Изменение прав доступа к файлам. Команда chmod" /></a></div>
<h2>Подготовка к уроку</h2>
<p>Под <strong>администратором системы</strong> сделать следующее:</p>
<ol>
<li>Создать двух новых пользователей, если в системе их недостаточно. Потребуется три пользователя. Например: sv, pupil7, test.</li>
<li>Создать новую группу. Например: real.<br />
 <div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">groupadd real</pre></div></li>
<li>Добавить двух пользователей в только что созданную группу.<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">gpasswd -a sv real
gpasswd -a pupil7 real</pre></div></li>
<li>Создать общедоступный разделяемый каталог в каталоге /home. Например lesson.<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">mkdir /home/lesson
chmod a+wt /home/lesson</pre></div></li>
<li>Перейти в каталог<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;"><span style="color: #dc143c;">cd</span> /home/lesson</pre></div></li>
<li>В каталоге /home/lesson/ создать файл hello.c<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">vim hello.<span style="color: black;">c</span></pre></div><br />
Нажать клавишу Insert. И ввести программный код:<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;"><span style="color: #808080; font-style: italic;">#include &lt;stdio.h&gt;</span>
main<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: black;">&#123;</span>
     printf<span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;hello world!<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">;</span>
<span style="color: black;">&#125;</span></pre></div><br />
Нажать Esc. Затем комбинацию :wq (двоеточие и две буквы). Нажать Enter.</li>
<li>Скомпилировать файл.<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">gcc hello.<span style="color: black;">c</span></pre></div><br />
В результате в каталоге должен появиться исполняемый файл a.out</li>
<li>Изменить пользователя и группу файлов.<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">chown sv:real hello.<span style="color: black;">c</span>
chown sv:real a.<span style="color: black;">out</span></pre></div></li>
</ol>
<h2>Инструкционная карта ученика</h2>
<p><strong>Примечание:</strong> данную инструкционную карту необходимо отредактировать в соответствие с пользователями в вашей системе.</p>
<ol>
<li>Перейдите в текстовый режим (терминал tty2). Войдите в систему под пользователем sv. Перейдите в каталог /home/lesson.<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;"><span style="color: #dc143c;">cd</span> /home/lesson</pre></div></li>
<li>Сделайте тоже самое для пользователей pupil7 и test (терминалы соответственно tty3 и tty4).</li>
<li>Вернитесь к пользователю sv.</li>
<li>sv. Просмотрите содержимое каталога:<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">ls -l</pre></div><br />
Опишите кто является владельцем файлов a.out и hello.c, какой группе они принадлежат.<br />
_____________________________________________________<br />
_____________________________________________________</li>
<li>sv. Запретите «остальным» исполнять файл a.out:<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">chmod o-x a.<span style="color: black;">out</span></pre></div></li>
<li>pupil7. Выполните файл a.out:<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">./a.<span style="color: black;">out</span></pre></div></li>
<li>test. Попытайтесь выполнить файл a.out также. Что произошло? Объясните разницу между пользователями test и pupil7 по отношению к данному файлу.<br />
Что произошло?_________________________________________<br />
Причина: ______________________________________________</li>
<li>pupil7. Попытайтесь переименовать файл hello.c:<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">mv hello.<span style="color: black;">c</span> hi.<span style="color: black;">c</span></pre></div><br />
Что произошло? ________________________________________<br />
Причина: ______________________________________________</li>
<li>pupil7. Попытайтесь установить разрешение на изменение файла hello.c для группы:<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">chmod g+w hello.<span style="color: black;">c</span></pre></div><br />
Что произошло? ________________________________________</li>
<li>sv. Выполните предыдущую команду в роли данного пользователя. Почему пользователь sv может менять значения прав файла hello.c, а pupil7 — нет?<br />
_______________________________________________________</li>
<li>pupil7. Переименуйте файл hello.c:<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">mv hello.<span style="color: black;">c</span> hi.<span style="color: black;">c</span></pre></div></li>
<li>test. Создайте файл:<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">cat <span style="color: #66cc66;">&gt;</span> filetest</pre></div><br />
Напишите несколько строчек, затем нажмите Ctrl + C.</li>
<li>test. Просмотрите каталог:<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">ls -l</pre></div><br />
Просмотрите файл:<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">cat filetest</pre></div></li>
<li>test. Разрешите запись группе и запретите всё для «остальных»:<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">chmod <span style="color: #ff4500;">660</span> filetest</pre></div></li>
<li>sv. Попытайтесь прочитать файл:<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">cat filetest</pre></div><br />
Почему отказано в доступе? ___________________________________</li>
</ol>
  </div>
</div>
    
  </body>
</html>
