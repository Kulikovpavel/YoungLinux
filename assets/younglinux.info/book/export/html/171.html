<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>5. Основы Dia</title>
    <base href="" />
    <link type="text/css" rel="stylesheet" href="http://younglinux.info/misc/print.css" />
      </head>
  <body>
              <div class="section-1">
          
    <div id="node-171" class="section-2">
  <h1 class="book-heading">5. Основы Dia</h1>
  <h2>5.1. Startup (Запуск)</h2>
<p>После установки приложение запускается с помощью команды <strong>dia</strong>. <em>ПП: с помощью такой команды программа запустится в виде пары плавающих окон.</em></p>
<p><em>ПП. Dia в виде одного окна (с зафиксированными окнами) выглядит так:</em></p>
<div style="text-align:center;"><img src="../../../img/dia/dia.png" width="500" height="418" alt="Программа для создания диаграмм Dia" /></div>
<p>Для начала стоит зайти в меню <strong>File ? Параметры</strong> и проверить личные настройки. Они сохраняются в вашем домашнем каталоге по адресу .dia/diarc (<em>ПП: мне такой скрытый каталог найти не удалось</em>). Большинство настроек можно оставить по-умолчанию, обратив внимание на следующее:</p>
<ul>
<li>Настройка диаграммы по умолчанию...
<ul>
<li>Если вас не беспокоит экономия места на диске, то снимите флажок <strong>Сжимать сохраняемые файлы</strong>. Это позволит без труда манипулировать UML моделями позже.</li>
</ul>
</li>
<li>Линии сетки
<ul>
<li>Видимый … да</li>
<li>Выравнивать по … да</li>
</ul>
</li>
</ul>
<p>После щелчка на кнопке OK окна параметров, вы можете приступать к созданию диаграмм.</p>
<h2>	5.2. New diagram (Новая диаграмма)</h2>
<p><em>ПП. При запуске программы Dia уже открывается один новый документ. Если планируется работать с несколькими, то следует выполнить команду <strong>Файл ? Создать</strong>. После этого в рабочей области появится вторая вкладка. </em></p>
<p>Диалоговое окно <strong>Настройка страницы</strong> (запускается из меню <strong>Файл</strong>) позволяет установить следующие свойства):</p>
<ul>
<li>Размер бумаги</li>
<li>Ориентация. Используется портрет (книга) для большинства web-страниц и пейзаж (альбом) для просмотра пленки.</li>
<li>Отступы. Оставьте как есть. Их размер соответствует бумажному формату.</li>
<li>Масштабирование. Оставьте <strong>Масштаб</strong> … 100. Тем не менее, мы вернемся к этому позже. </li>
</ul>
<div style="text-align:center;"><img src="../../../img/dia/page_options.png" width="416" height="393" alt="Настройка параметров страницы в Dia" /></div>
<p>После нажатия кнопки OK, окно параметров страницы исчезает, и вы готовы к созданию диаграммы.</p>
<h2>	5.3. Draw an Organization Chart (Создание организационной карты, схемы и т.п.)</h2>
<p>При создании некой организационной структуры обычно требуется некоторое количество боксов (<em>ПП: боксами будем иногда называть все прямоугольно-квадратное</em>), сплошных и пунктирных линий. Все это может быть сделано базовыми инструментами. Так как же использовать базовые инструменты?</p>
<p>Обратите внимание на план (<em>пп: это описание интерфейса программы, которое мы видим с левой стороны</em>):</p>
<div style="text-align:center;"><img src="../../../img/dia/interface.png" width="477" height="220" alt="Интерфейс Dia" /></div>
<p>При задержке на значках курсора мыши будет показана подсказка. После щелчка на значке-кнопке инструмент будет активирован. После этого клик левой кнопкой мыши в рабочей области создает копию выбранной базовой формы. После размещения экземпляра фигуры автоматически происходит переключение на первый базовый инструмент (черная стрелка в левом верхнем углу), с помощью которого можно перемещать и изменять полученную фигуру.</p>
<p>Самый простой способ работы заключается в следующем:</p>
<ol>
<li>Выберите форму</li>
<li>Щелкните по рабочей области.</li>
<li>Создайте надпись в ней. (Это касается не базовых элементов, а большинство фигур из библиотек. Большинство библиотечных фигур может допускать текстовые метки внутри них).</li>
<li>Переместите форму в место ее размещения.</li>
<li>Соедините фигуры линиями. Убедитесь, что линии действительно связаны с метками формы.</li>
<li>Создайте метки для линий в случае необходимости.</li>
<li>Если надо, переместите фигуры и линии. Также можно добавить дополнительные точки соединения, чтобы разместить линии более точно.</li>
<li>Добавляйте и изменяйте другие фигуры и линии.</li>
</ol>
<h2>	5.4. Boxes and text (Боксы и текст)</h2>
<p>На самом деле можно изначально использовать бокс, который включает текст, а также изменяется, если текст превышает границы бокса. Боксы из библиотеки Блок-схема (например, квадрат) позволяют легко включать в себя текст. К тому же можно создать собственную форму, которая "знает" о тексте.</p>
<p>Однако в данный момент выберем более сложный путь, а именно создадим прямоугольники с текстом, пользуясь исключительно базовыми инструментами. </p>
<p>После создания надписи можно настроить ее свойства через диалоговое окно, доступ к которому можно получить либо через двойной клик по надписи либо щелкнув на ней правой кнопкой мыши и выбрав <strong>Свойства</strong>.<br />
После размещения прямоугольника выбираем базовый инструмент <strong>Текст</strong> и щелкаем в центр бокса. Курсор появляется в его центре и мы можем ввести текст. При этом текст не выровнен как надо. Чтобы решить эту проблему следует вызвать окно свойств текста и выбрать выравнивание по середине как по горизонтали так и вертикали.</p>
<p>Если после этих манипуляций вы попробуете переместить бокс, то текст окажется к нему привязанным и переместится вместе с ним. Однако, если попытаться сдвинуть текст с места, то он отсоединиться от бокса.<br />
Чтобы затем точно выровнять текст в боксе можно воспользоваться стрелками на клавиатуре. </p>
<p>Для того, чтобы текст и бокс в дальнейшем все-время «путешествовали» вместе, их можно сгруппировать, например, выделив с помощью рамки выделения и нажав Ctrl + G.</p>
<p>Если в дальнейшем потребуется редактировать какую-либо часть группы, то сначала придется разгруппировать составной объект (Ctrl + Shift + G). <em>ПП: в Windows XP горячие клавиши не работают, поэтому все приходится делать через меню.</em></p>
<p>Таким образом можно создать что-то наподобие этого:</p>
<div style="text-align:center;"><img src="../../../img/dia/boxes_text.png" width="500" height="347" alt="Пример схемы" /></div>
<p><em>ПП. Удобнее копировать боксы с текстом, предварительно выделив группу, чем настраивать текст для каждого прямоугольника. Для редактирования текста следует его выделить и нажать F2.</em></p>
<h2>	5.5. Lines (Линии)</h2>
<p>Теперь мы можем добавить несколько линий. Мы будем использовать линии «Зигзаг». Рисуем их примерно от одного объекта к другому, а затем с помощью указателя перетаскиваем концы линии точно на метки соединяемых объектов. Когда конец линии фиксируется на метке, то становится красным.</p>
<p>Мы хотим сделать линии более интересными.</p>
<p>Свойства линий устанавливаются с помощью настроек главного окна:</p>
<ol>
<li>Цвет линии - с помощью иконок цвета переднего плана и фона. </li>
<li>Ширина линии - определяется вертикальными линиями различной ширины. </li>
<li>Стиль линии (например, пунктирная, штриховая) - по середине внизу. </li>
<li>Форма концов линии — внизу слева и справа.</li>
</ol>
<p>Вид линий, которые будут нарисованы, как раз определяются этими настройками. Но всегда можно изменить уже нарисованную линии. Для этого ее следует выделить с помощью указателя, затем открыть диалоговое окно ее свойств (двойной клик или через контекстное меню). </p>
<p>Таким образом, для изменения настроек уже существующих линии выполним следующие действия. Для каждой линии следует вызвать ее окно свойств и изменить ширину линии с 0,1 на 0,2. Сделайте линию, соединяющую «менеджера проектов» с «системным архитектором», пунктирной. Но длина штриха может оказаться слишком большой, чтобы линия выглядела адекватно. Поэтому изменим интервал на 0,5. Конечный результат должен быть примерно таким:</p>
<div style="text-align:center;"><img src="../../../img/dia/lines.png" width="450" height="355" alt="Работа с линиями в Dia" /></div>
<p>Скажем, «системный архитектор» на самом деле докладывает «исполнительному директору» (через длинную цепочку менеджеров среднего звена, конечно). Мы хотим это отметить, но не предавать большого значения. Поэтому нарисуем тонкую линию:</p>
<div style="text-align:center;"><img src="../../../img/dia/cio.png" width="500" height="528" alt="Соединительные линии на схеме" /></div>
<p>Эх. Мы хотим, чтобы линия находилась снаружи. Но нам не хватает еще одной точки изгиба на линии. Для ее добавления следует выделить линию, щелкнуть в определенном ее месте правой кнопкой мыши и выбрать Добавить сегмент. После добавления одного двух сегментов, можно расположить линию так, чтобы схема выглядела более приятно:</p>
<div style="text-align:center;"><img src="../../../img/dia/cio_right.png" width="500" height="469" alt="Соединительная линия в Dia" /></div>
<h2>	5.6. Saving (Сохранение)</h2>
<p>Ok, схема выглядит довольно хорошо. Настало время для ее сохранения. Во-первых, мы хотим сохранить саму диаграмму для того, чтобы в дальнейшем иметь возможность изменять ее. Во-вторых, мы хотим, экспортировать полученную схему в какой-нибудь специальный графический формат.</p>
<p>Для сохранения можно воспользоваться командой меню <strong>Файл ? Сохранить</strong>. Вводим имя, например, org.dia и нажимаем кнопку ОК. Если требуется сохранить целый ряд файлов для одной и той же работы, то следует пользоваться командой <strong>Сохранить как</strong> для каждого отдельного файла. Файл сохраняется в формате XML который является главным образом Scalable Vector Graphics (SVG). Примечание: поскольку мы отказались от сжатия файлов в настройках программы, то можем посмотреть этот файл в текстовом редакторе. Посмотрите.</p>
<p>Для экспорта изображения нужно выбрать команду  <strong>Файл ? Экспорт...</strong> и  выбрать расширение или просто ввести его, например, org.png. Обратите внимание на список возможных расширений. Если у вас нет предпочтений, мы предлагаем png (Portable Network Graphics).</p>
<p>Простой экспорт может создать довольно большое изображение. Схема может простирается на несколько печатных страниц. Это не такая уж проблема для HTML, где в браузере можно перемещаться вперед и назад по большому изображению. Однако даже для HTML большое изображение может быть неудобно.</p>
<p>Итак, вот рекомендации:</p>
<ul>
<li>Создайте диаграмму любого удобного размера.</li>
<li>Сохранить ее как есть.</li>
<li>Экспортируйте как есть (полный размер), для использования (открытия) по ссылке HTML. </li>
<li>Экспортируйте другую (уменьшенную) копию для непосредственного встраивания в HTML-страницу.</li>
</ul>
<p>Уменьшить изображение можно с помощью команды <strong>Файл ? Настройка страницы ? Масштабирование ? Заполнять по ? 1 к 1</strong>. Этим будет указана необходимость масштабирования в соответствии с тем, чтобы расположить диаграмму на одной странице. Но даже так изображение может быть слишком большим, так что вы можете вернуть переключатель обратно на <strong>Масштабирование ? Масштаб</strong> и настроить значение до удобного размера, соответствующего вашему контексту  HTML.</p>
  </div>
    </div>
  </body>
</html>
