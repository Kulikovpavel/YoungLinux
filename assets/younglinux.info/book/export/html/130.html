<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Введение в  компьютерную анимацию (Synfig)</title>
    <base href="" />
    <link type="text/css" rel="stylesheet" href="http://younglinux.info/misc/print.css" />
      </head>
  <body>
        
    <div id="node-130" class="section-1">
  <h1 class="book-heading">Введение в  компьютерную анимацию (Synfig)</h1>
  <p>С каждым годом роль медиатехнологий в передаче информации увеличивается. Как бы кому не хотелось, но постепенно текстовая информация уступает часть позиций графической и мультимедийной. Например, компьютерные презентации в учебном процессе стали нормой, а с увеличением скорости Интернета в содержании сайтов увеличивается доля графики. Причина этого в легкости восприятия такой информации. Кроме того, растут объемы информации, а, следовательно, должны появляться и способы ее более быстрого и легкого усвоения.</p>
<p>Современный человек должен не только уметь воспринимать информацию в «графическом виде», но и производить ее. Другими словами, в связи с развитием в обществе различных медиатехнологий важным становится вопрос их изучения уже на школьном этапе обучения. Поскольку компьютерная анимация является неотъемлемой частью медиатехнологий, изучение данных тем должно быть актуально для большинства общих курсов по информационными технологиям.</p>
<p>Разнообразие ПО для создания анимации весьма велико. Различен и его «уровень»: от простейших gif-аниматоров до профессиональных программ 2D и 3D-графики, где создание мультипликации является не единственной функцией.</p>
<p>При всем многообразии ПО, выделяется так называемая Flash-технология, которая в настоящее время является самой популярной, особенно в сети Интернет. Программа Flash является продуктом компании Adobe. На сайте компании существует возможность загрузить пробную (trial) версию программы или приобрести лицензию. Однако достаточно высокая цена лицензии и ограниченный 30 днями пробный период могут сделать затруднительным использование Flash в целях обучения.</p>
<p>Программа Synfig (<noindex><a href="http://synfig.org" title="Программа для создания 2D анимации">http://synfig.org</a><noindex>) является свободной и распространяется под лицензией GNU GPL. По своим возможностям в части создания мультипликации недалеко отстоит от Flash, однако имеет ряд специфических особенностей.</noindex></noindex></p>
<p>В уроках данного цикла в качестве средства обучения используется программа Synfig Studio (версия 0.61.09).</p>
<p>Цель цикла уроков «Введение в компьютерную анимацию» состоит не столько в изучении конкретного программного обеспечения, сколько в знакомстве обучаемых с принципами компьютерной анимации.</p>
<p>Демонстрационные материалы (презентации в формате .pdf) к трем урокам:</p>
<ol>
<li>http://younglinux.info/presentations/anim_less1.pdf</li>
<li>http://younglinux.info/presentations/anim_less2.pdf</li>
<li>http://younglinux.info/presentations/anim_less3.pdf</li>
</ol>
  <div id="node-132" class="section-2">
  <h1 class="book-heading">Введение в анимацию. Знакомство с программой Synfig Studio</h1>
  <h2>1. Понятие анимации</h2>
<p>Представление об анимации имеет подавляющее большинство людей. Наверное, многие сразу представят какой-нибудь мультипликационных фильм (что-нибудь вроде «Шрека» или «Винни-Пуха»). Если попытаться навскидку дать определение, то можно сказать, что анимация — это движение рисованных изображений. Однако, как создаются эти движения? </p>
<p>Слова «анимация» и «мультипликация» означают одно и то же. На «западный манер» будем использовать первый вариант. Слово <strong>animation</strong> с английского языка можно перевести как оживление или воодушевление. Когда мы видим обычное рисованное изображение, которое, вдруг начинает двигаться и изменяться, то может действительно показаться, что произошло что-то невероятное, и картинка ожила. Но научное мировоззрение не позволяет нам поверить в это; поэтому обратимся к другому, логичному объяснению.</p>
<p>Если множество похожих изображений (рис. 1) быстро сменять друг за другом, то при определенной скорости смены человек будет воспринимать происходящее как плавное движение (или изменение) объекта на рисунке. </p>
<div style="text-align:center;"><img src="../../../sites/default/files/images/smales.preview.png" width="640" height="160" alt="Как создается эффект анимации" /><br />
Рис. 1. Ряд изображений, при быстрой смене которых может возникнуть эффект анимации</div>
<p>Оптимальная скорость смены для человека равна 24 изображения (или кадра) в секунду. На самом деле в одном кадре может присутствовать несколько изображений (слоев). Кроме того, может быть всего одно изображение, которое в каждом последующем интервале времени (кадре) будет смещаться на небольшую величину (такую простейшую анимацию можно наблюдать, когда создаются спецэффекты в компьютерной презентации).</p>
<p>Вопрос. <em>Сколько рисунков потребуется сделать художнику для анимации падения стула за 3 секунды?</em></p>
<h2>2. Компьютерная анимация</h2>
<p>Из вышесказанного можно заключить, что создание анимации весьма трудоемкое занятие. Ведь зачастую каждый кадр требуется прорисовывать заново. Естественно, что с появлением современных компьютеров, начали появляться и программы, облегчающие и автоматизирующие труд аниматора. Кроме того, анимация созданная с помощью компьютеров нашла свое применение не только в создании мультфильмов. Она широко используется в Интернет, презентациях, электронных обучающих курсах и т.д. Обычно служит для целей облегчения восприятия информации, т.к. большинство людей основную долю информации воспринимает с помощью зрения. Однако перебор анимации, ее низкое качество могут ухудшить восприятие, отвлекать и раздражать человека.</p>
<p>Компьютерная анимация создается с помощью специальных программ. Их достаточно много. Условно можно выделить два или три вида ПО для создания анимации:</p>
<ol>
<li>Программы, позволяющие создавать анимацию из готовых изображений (различные gif-аниматоры, например, Microsoft GIF Animator).</li>
<li>Программные среды, позволяющие создавать 2D анимацию (например, Adobe Flash CS4, Synfig).</li>
<li>Программные среды, позволяющие создавать 3D анимацию (например, Autodesk 3ds Max, Blender).</li>
</ol>
<p>Существенное облегчение труда аниматора гарантируют лишь среды из пунктов 2. и 3, т.к. в случае gif-аниматоров используется уже готовое множество изображений. В профессиональных же средах компьютерной анимации художнику не обязательно прорисовывать каждый кадр или аниматору его фиксировать, программа сама «вычислит» переход изображения из одного положения в другое. Это называется твинингом (tweening) - процесс генерации промежуточных кадров между двумя рисунками, создающий впечатление, что первый рисунок постепенно превращается во второй. Рассмотрим, как это делается.</p>
<p>Представим временную шкалу (киноленту) как дорожку, состоящую из отдельных кадров. Допустим, что в кадре №1 объект должен находиться слева, а в кадре №100 — справа. Эти два кадра отмечаются как ключевые для данного объекта. В них он располагается в начале и конце движения (рис. 2). Все остальные кадры — промежуточные — не требуют фиксации объекта — изображение в них создаст компьютерная программа. Она сама вычислит, где и в какой момент должен находиться объект. Понятно, что если мы ходим сделать передвижение объекта по кривой, то и ключевых кадров придется сделать больше (или использовать специальные средства, предоставляемые программой, для создания траектории).</p>
<div style="text-align:center;"><img src="../../../sites/default/files/images/kinolenta.preview.png" width="640" height="224" alt="Что такое твининг в компьютерной анимации" /><br />
Рис. 2. Положение объекта в 1-ом кадре киноленты (слева) и в 100-ом (справа).</div>
<p>Вопросы.<em> Подумайте, можно ли анимировать с помощью твининга поворот объекта? изменение его размеров? перемещение части относительно всего объекта (например, руки относительно тела)?</em></p>
<h2>3. Интерфейс Synfig Studio</h2>
<p>В качестве программы для создания анимации рассмотрим Synfig Studio — графическую «оболочку» к программе Synfig, позволяющей создавать векторную 2D-анимацию (рис. 3). После запуска открываются четыре плавающих окна (если установки были «по-умолчанию»).</p>
<div style="text-align:center;"><img src="../../../sites/default/files/images/synfig.preview.png" width="640" height="516" alt="Интерфейс программы для анимации Synfig Studio" /><br />
Рис. 3. Интерфейс Synfig Studio «по-умолчанию», состоящий из четырех «плавающих» окон<br />
(1 — панель инструментов, 2 — рабочее окно, 3 — панели свойств, временной шкалы и др., 4 — панели навигации, слоев и др.)
</div>
<p>В первом окне расположены стандартная панель, инструменты для рисования, настройки цвета и толщины контура.</p>
<p>Во втором окне располагается холст. В этом окне меню не видно, однако его можно вызвать, щелкнув правой кнопкой внутри рабочей области (только не по нарисованному объекту) или на маленьком треугольнике в верхнем левом углу.</p>
<p>Нижнее и правое окна объединяют в себе целый ряд панелей. Панели можно вытаскивать за пределы плавающего окна, закрывать. Если потребуется вернуть все в первоначальный вид, то следует выбрать в меню первого окна File ? Panels ? Reset Windows to Original Layout (перезагрузить окна в первоначальное расположение).</p>
<p>Задание. <em>Запустите программу Synfig Studio. Попробуйте вытаскивать из окон панели, закрывать и открывать их. Верните положение панелей в исходное состояние.</em></p>
<h2>4. Рисование, изменение и перемещение геометрических примитивов</h2>
<p>Для того, чтобы приступить к созданию анимации неплохо бы научиться создавать какое-нибудь изображение в Synfig. Мы не будем изучать все инструменты, т.к. это не цель нашего урока; ограничимся лишь прямоугольником (Rectangle), кругом (Circle) и многоугольником (Polygon). Создание таких фигур не сильно отличается от рисования их в большинстве графических редакторов, а вот перемещение и изменение объектов в Synfig происходит иначе.</p>
<p>После того, как фигуры изображены на холсте и выделены (с помощью инструмента Normal Tools), у них появляются метки, позволяющие изменять их размер и перемещать (рис. 4).</p>
<div style="text-align:center;"><img src="../../../img/synfig/figurs.png" width="423" height="98" alt="Выделенные изображения прямоугольника, круга и многоугольника в Synfig" /><br />
Рис. 4. Выделенные изображения прямоугольника, круга и многоугольника</div>
<p>Так, прямоугольник имеет две зеленые метки: в верхнем левом углу и нижнем правом. За эти метки можно менять размер прямоугольника. Для перемещения следует выделить обе метки. После этого можно перемещать объект, потянув за любую из меток. Для выделения двух и более меток существует два способа. Первый заключается в поочередном их выделении при зажатой клавиши Ctrl. Второй способ — это выделение области, включающей необходимые метки, с помощью Normal Tool, т.е сначала выделяется прямоугольник (щелчком левой кнопкой мыши), а затем метки (с помощью рамки выделения).</p>
<p>Работать с эллипсом намного проще, чем с прямоугольником. Центральная метка служит для перемещения, а расположенная на окружности — для изменения размера.</p>
<p>Рисование многоугольника заключается в щелканье левой кнопкой мыши в предполагаемых его вершинах. В конце необходимо щелкнуть по первой метке (для того, чтобы контур замкнулся). После того, как прямоугольник нарисован и выделен, его метки можно перемещать, меняя тем самым контур фигуры. Если требуется переместить всю фигуру, то сделать это можно с помощью зеленой метки. Однако, она часто оказывается далеко от фигуры. Чтобы, скажем, поставить ее в центр необходимо выделить все метки многоугольника (также как в случае прямоугольника) и перетащить на зеленую метку. </p>
<h2>5. Установка цвета фигур</h2>
<p>Чтобы задать цвет будущей фигуры необходимо щелкнуть по верхнему прямоугольнику цвета на панели инструментов (рис. 5а). После этого откроется диалоговое окно Colors, где можно настроить цвет заливки. Доступны цветовые модели RGB и YUV. Здесь же можно настроить прозрачность объекта (Alpha).</p>
<div style="text-align:center;"><img src="../../../img/synfig/params.png" width="377" height="286" alt="Установка цвета заливки " /><br />
Рис. 5. Установка цвета заливки<br />
(1 — установки цвета на панели инструментов, 2 — диалоговое окно Colors;<br />
а — цвет заливки, б — установка прозрачности объекта)
</div>
<p>Изменить цвет уже нарисованной фигуры можно двумя способами. Первый способ: выделить объект и на панели Params (параметры), расположенной в нижнем окне, изменить свойство Color (рис. 6). Второй способ: изменить цвет на панели инструментов (рис. 5а), а затем, выбрав заливку (Fill Tool), щелкнуть по объекту.</p>
<div style="text-align:center;"><img src="../../../img/synfig/color.png" width="613" height="346" alt="Изменение цвета объекта" /><br />
Рис. 6. Изменение цвета объекта (а — панель Params, б — значение свойства Color)</div>
<p>Задание. <em>Создайте на холсте изображения красного круга, желтого прямоугольника и синего многоугольника. Попробуйте перемещать объекты и менять их размер или форму.</em></p>
<p><em>У объекта, нарисованного последним, немного уменьшите значение Alpha, а затем переместите на любой другой объект (другими словами, добейтесь пересечения объектов). Объясните увиденное.</em></p>
<h2>6. Выводы</h2>
<ul>
<li>Эффект анимации достигается с помощью быстрой смены похожих изображений.</li>
<li>В настоящее время широкое распространение получила компьютерная анимация. Она убыстряет и удешевляет создание анимационных фильмов; кроме того, используется в web-дизайне.</li>
<li>Одним из преимуществ использования специализированного программного обеспечения для создания анимации является возможность создавать только ключевые изображения, минуя промежуточные.</li>
<li>Существует большое количество программ для создания компьютерной анимации. Они могут существенно различаться между собой по функциональным возможностям.</li>
<li>Созданию анимации предшествует подготовка изображений. Создание рисунков в профессиональных средах анимации может иметь свои специфические особенности.</li>
</ul>
  </div>
<div id="node-144" class="section-2">
  <h1 class="book-heading">Создание простейшей анимации в Synfig Studio</h1>
  <h2>1. Режим анимации</h2>
<p>На прошлом уроке мы лишь говорили об анимации, пробовали рисовать в программе Synfig Studio; сегодня приступим непосредственно к созданию анимации.</p>
<p>В Synfig Studio изначально включен «режим рисования», в котором создаются и изменяются изображения. Однако эти изменения не будут «превращены» в анимацию. Можно сказать, что в данном режиме объекты подготавливаются. Для того, чтобы любые изменения объектов были обработаны как анимация, необходимо переключиться в соответствующий режим. Для этого в программе Synfig Studio предназначена зеленая кнопка в нижнем правом углу Рабочего окна (рис. 1). После этого вокруг холста появляется красная рамка, а на кнопке переключения будет изображен уже не зеленый шар, а красный. Для выхода из режима анимации достаточно еще раз нажать на эту же кнопку.</p>
<div style="text-align:center;"><img src="../../../sites/default/files/images/regime.preview.png" width="640" height="519" alt="Режимы рисования и анимации в Synfig" /><br />
Рис. 1. Режимы рисования и анимации<br />
(1 — Рабочее окно в режиме рисования, 2 — Рабочее окно в режиме анимации;<br />
а – кнопка переключения режимов, б – красная рамка, сигнализирующая о том, что включен режим анимации)
</div>
<p>Задание. <em>Нарисуйте изображение прямоугольника и переключитесь в режим анимации.</em></p>
<h2>2. Шкала времени</h2>
<p>Итак, на первом уроке мы уже выяснили, что эффект анимации является результатом быстрой смены похожих изображений. Любые изменения протекают во времени, поэтому в Synfig предусмотрена панель Timetrack (назовем ее «шкалой времени»). Похожая панель есть в большинстве программ для анимации, однако может называться по-разному. Данная шкала в Synfig есть не только на панели Timetrack, но и в нижней части Рабочего окна. (рис. 2). Шкалу времени можно сравнить с кинолентой или фотопленкой, где в каждом кадре может быть запечатлено какое-нибудь изображение.</p>
<div style="text-align:center;"><img src="../../../sites/default/files/images/timetrack.preview.png" width="640" height="406" alt="Шкала времени в анимационной программе Synfig Studio" /><br />
Рис. 2. Шкала времени<br />
(1 — Рабочее окно, 2 — панель Timetrack;<br />
а – текущий кадр, б – шкала с делениями на секунды и кадры)
</div>
<p>На шкале присутствуют деления, более крупные из которых помечены как 0f, 2s, 4s. F – это сокращение от frame (кадр), а s – от second (секунда). В каждой секунде 24 кадра (задано «по-умолчанию», но может быть иное значение кадров в секунду). Если щелкнуть в любом месте шкалы, то вы увидите линию, указывающую текущий кадр, также он будет указан в нижнем левом углу Рабочего окна (рис. 2а). Например, надпись 2s 13f в этом поле означает, что выделен 61 кадр (24+24+13). Следует отметить, что менять текущий кадр можно как в Рабочем окне, так и на панели Timetrack, а также вписать значение кадра в поле текущего кадра.</p>
<p>Задание.<em> Попробуйте менять текущий кадр с помощью шкалы времени и поля в нижнем левом углу Рабочего окна. Сделайте текущим первый кадр третьей секунды, затем восьмой кадр второй секунды.</em></p>
<h2>3. Ключевые кадры</h2>
<p>Как уже не раз было сказано, нам не обязательно прорисовывать каждый кадр. Достаточно лишь указать программе начальное «состояние» объекта и конечное. Все остальное программа попытается вычислить сама. Это начальное и конечное положение фиксируется в так называемых ключевых кадрах. На самом деле, их бывает намного больше двух, т. к. при достаточно сложном изменении объекта, программа не может корректно вычислить траекторию и характер изменения. </p>
<p>Для создания ключевых кадров в Synfig Studio предусмотрена панель Keyframes (рис. 3). На ней с помощью кнопки со знаком «+» можно добавлять ключевые кадры. В этих кадрах и будет зафиксировано изменение фигуры. В остальных кадрах оно будет вычислено.  </p>
<div style="text-align:center;"><img src="../../../img/synfig/keyframes.png" width="538" height="396" alt="Панель Keyframes" /><br />
Рис. 3. Панель Keyframes<br />
(а – кнопка, добавляющая ключевой кадр, б — список созданных ключевых кадров, в — момент времени, в котором создан ключевой кадр, г — промежуток времени до следующего ключевого кадра, д — переход в кадр, е — описание)
</div>
<h2>4. Создание анимации</h2>
<p>Прежде чем приступить к анимации нашего «героя»-прямоугольника следует определиться со сценарием будущего мультфильма. Допустим с фигурой будут происходить следующие изменения, на каждое из которых будет уходить по 1 секунде (рис. 4):</p>
<div style="text-align:center;"><img src="../../../img/synfig/animation.png" width="410" height="503" alt="Изменения прямоугольника в ключевых кадрах" /><br />
Рис. 4. Изменения прямоугольника в ключевых кадрах
</div>
<ol>
<li>Фигура двигается от левой границы холста в центр.</li>
<li>Изменяет свой размер.</li>
<li>Изменяет цвет.</li>
<li>Перемещается к правой границе холста.</li>
</ol>
<p>Эти изменения и будут определять ключевые кадры.</p>
<p>Вспомним, что для перемещения прямоугольника без изменения его размеров необходимо выделить обе его метки (например, с помощью рамки выделения) и только потом перемещать за любую из них.</p>
<p><strong>Задание.</strong> </p>
<ol>
<li>Создайте ключевой кадр в начале временной шкалы (0f).</li>
<li>Затем перейдите в 24 кадр (1s) и создайте еще один ключевой кадр. Переместите прямоугольник на центр холста.</li>
<li>Перейдите в 48 кадр (2s), добавьте ключевой кадр и измените размер прямоугольника.</li>
<li>Далее создайте ключевой кадр на 3-й секунде и измените цвет фигуры.</li>
<li>На 4-й секунде создайте ключевой кадр и переместите объект к правой границе холста.</li>
</ol>
<h2>5. Просмотр анимации</h2>
<p>Создав анимацию, хорошо бы ее посмотреть. Если зажать левую кнопку мыши и двигать ею по шкале времени, то можно наблюдать как изменяется фигура.</p>
<p>Задание. <em>Попробуйте просмотреть анимацию таким способом.</em></p>
<p>Однако, так трудно увидеть все нюансы. Поэтому предварительный просмотр лучше выполнить другим способом: в Рабочем окне вызвать меню (треугольник в верхнем левом углу) и выбрать File ? Preview (рис. 5). Откроется диалоговое окно с настройками, их можно оставить «по-умолчанию». Далее нажать Preview. Откроется окно предварительного просмотра. Управляющие кнопки находятся внизу. Нажать Play.</p>
<div style="text-align:center;"><img src="../../../sites/default/files/images/preview.preview.png" width="640" height="491" alt="Предварительный просмотр анимации в программе Synfig" /><br />
Рис. 5. Предварительный просмотр анимации<br />
(1 — вызов окна: File ? Preview, 2 – окно настроек, 3 — окно предварительного просмотра)</div>
<p>Задание. <em>Посмотрите анимацию прямоугольника в окне просмотра.</em></p>
<h2>6. Рендеринг</h2>
<p>Все, что было сделано до этого, не сохранено на диске компьютера. Для того, чтобы сохранить файл достаточно выполнить стандартную операцию сохранения. При этом будет сохранен файл в формате программы Synfig; другими словами, будут сохранены данные, описывающие определенным способом объекты и их изменения. Чтобы получить изображение необходима специальная программа (ее включают многие графические процессоры, в том числе и Synfig Studio), осуществляющая преобразование, в данном случае векторного изображения (т.к. Synfig – векторная программа) в растровое. Этот процесс получения изображения называется рендерингом (от англ. rendering). «По-русски» можно сказать, что происходит визуализация изображения.</p>
<p>Но нам требуется сохранить не простой рисунок, а анимацию (множество изображений). Она может храниться во многих форматах (чаще, видеоформатах и формате flash-анимации), в том числе и одном графическом — GIF. В нем мы и сохраним нашу анимацию.</p>
<p>Для того, чтобы вызвать окно рендеринга в Synfig Studio необходимо в меню Рабочего окна (треугольник в верхнем левом углу) выбрать команду File ? Render. Откроется соответствующее диалоговое окно (рис. 6). </p>
<div style="text-align:center;"><img src="../../../sites/default/files/images/render.preview.png" width="640" height="424" alt="Окно настроек рендеринга в Synfig Studio" /><br />
Рис. 6. Окно настроек рендеринга<br />
(а — адрес и имя файла, б – формат файла, в — вкладка «Time», г — количество кадров в секунде, д — время начала анимации, е — время окончания анимации)</div>
<p>Поле Filename указывается адрес и имя файла (с расширением), кнопка Choose... вызывает диалоговое окно выбора папки. Осторожно: в Windows в адресе файла не должно быть русских букв, иначе сохранить не удастся (по-крайней мере, это справедливо для версии 0.61.09.).</p>
<p>Выпадающий список Target позволяет выбрать формат публикации.<br />
Вкладка Image управляет размерами и некоторыми другими параметрами изображения.</p>
<p>На вкладке Time можно настроить количество кадров в секунду, начало и окончание анимации. Например, если у нас анимация прямоугольника длится всего четыре секунды, то следует исправить значение «по-умолчанию» 5s на 4s.</p>
<p>Кнопка Render запускает процесс рендеринга, который может длиться от нескольких секунд до достаточно продолжительного времени (в зависимости от сложности анимации и мощности компьютера). Сообщение о процессе рендеринга или его окончании можно увидеть внизу Рабочего окна (рис. 7).</p>
<div style="text-align:center;"><img src="../../../sites/default/files/images/rendering.preview.png" width="640" height="146" alt="Процесс рендеринга в программе Synfig Studio" /><br />
Рис. 7. Сообщение в Рабочем окне<br />
(а — процесс рендеринга анимации, б — завершение рендеринга)</div>
<p>Задание. <em>Сохраните файл в формате программы Synfig и создайте анимированное изображение в формате GIF.</em></p>
<h2>7. Выводы</h2>
<ul>
<li>Во многих программах, предназначенных для создания компьютерной анимации, существует специальный режим, в котором возможно анимационное изменение объектов. </li>
<li>Любые изменения изображения фиксируются на временной шкале с помощью ключевых кадров.</li>
<li>«Единица измерения» анимации — кадр. Количество кадров в секунду может иметь различное значение. </li>
<li>Прежде чем создавать анимацию рекомендуется составить план (сценарий).</li>
<li>Сохранение файла с анимацией и ее публикация — не одно и то же. Изображение можно получить в результате рендеринга.</li>
</ul>
<h2>8. Самостоятельная работа</h2>
<ol>
<li>Создайте анимацию окружности по плану, приведенному на уроке для прямоугольника.</li>
<li>Создайте анимацию многоугольника, в которой он постепенно изменяет свою форму.</li>
<li>Создайте анимацию постепенного исчезновения объекта, используя параметр Alpha (прозрачность).</li>
</ol>
  </div>
<div id="node-145" class="section-2">
  <h1 class="book-heading">Роль слоев в компьютерной анимации</h1>
  <h2>1. Понятие слоя</h2>
<p>Слои в анимации можно представить как стопку просвечивающихся листов бумаги. На каждом таком листе может быть одно или несколько изображений (рис. 1). Такой механизм организации рисунка позволяет изменить одно изображение не затрагивая другое, а также упрощает математическую модель анимации. В результате размер готового файла становится меньше.</p>
<div style="text-align:center;"><img src="../../../sites/default/files/images/layer.preview.png" width="640" height="235" alt="Слои в компьютерной графике" /><br />
Рис. 1. Слои в графике</div>
<p>Еще одно неоспоримое преимущество слоев в компьютерной графике: их можно перемещать относительно друг друга, выдвигая на передний план то или иное изображение.</p>
<h2>2. Работа со слоями в Synfig</h2>
<p>Несмотря на то, что на одном слое можно разместить несколько изображений, в Synfig Studio поддерживается идея «каждому примитиву отдельный слой». Поэтому новый слой автоматически создается при рисовании любой фигуры. Это неудобно для сложных изображений, например, изображения человека, которое может состоять из множества примитивов, а анимировать его необходимо целиком. Однако в Synfig можно группировать слои, а затем перемещать группу уже как единое целое. </p>
<p>Панель слоев «по-умолчанию» располагается в нижней части правого «плавающего» окна. Если нарисовать на холсте несколько фигур, то на данной панели будет отображен список слоев (рис. 2).</p>
<div style="text-align:center;"><img src="../../../img/synfig/layers.png" width="460" height="341" alt="Панель Layers в Synfig" /><br />
Рис. 2. Панель Layers<br />
(а – обозначение панели, б — список слоев,<br />
в — кнопки управления слоями, г — имена слоев)</div>
<p>Имя слоя можно изменить. Для этого необходимо выделить слой, затем щелкнуть по названию, вписать новое имя и нажать Enter. Снятие флажка (слева) делает слой невидимым. Часто это бывает удобно при редактировании изображения. Кнопки в нижней части панели предназначены для управления слоями. Например, первые две (со стрелками) позволяют перемещать слои относительно друг друга.</p>
<p>Рассмотрим практическое применение слоев: допустим нам необходимо создать изображение, как на рисунке 3</p>
<p>.</p>
<div style="text-align:center;"><img src="../../../img/synfig/picture.png" width="485" height="275" alt="Рисунок, созданный в программе Synfig Studio" /><br />
Рис. 3. Изображение, созданное с помощью инструментов Circle, Rectangle и Polygon</div>
<p>Дом состоит из восьми прямоугольников, машина — из многоугольника и двух кругов, также на рисунке имеется изображение солнца в виде простого круга. После того, как данные изображения будут созданы, на панели Layers окажется двенадцать слоев (рис. 4.1). В таком виде понять, какой примитив, какому объекту принадлежит весьма затруднительно, а уж анимировать все это количество будет невероятно сложно. Поэтому объединим слои, формирующие дом в одну «капсулу», а машину — в другую. Для этого следует выделить слои всех «частей дома» (с помощью зажатой клавиши Shift или Ctrl) и выполнить команду Encapsulate (кнопка внизу панели Layers или через контекстное меню). Тоже самое необходимо сделать и по отношению к машине. Теперь картина слоев будет выглядеть немного лучше (рис. 4.2). Кроме того, неплохо бы переименовать слои (рис. 4.3). Следует иметь ввиду, что если щелкнуть по треугольнику слева от названия, то раскроется список слоев, входящих в объединение. Другими словами, фигуры все-равно сохраняют автономность, поэтому каждый элемент можно редактировать отдельно по-прежнему.</p>
<div style="text-align:center;"><img src="../../../sites/default/files/images/layers.preview.png" width="640" height="331" alt="Работа со слоями в Synfig Studio" /><br />
Рис. 4. Слои составного изображения<br />
(1 — множество слоев, 2 — объединенные слои, 3 — переименованные слои)</div>
<p>Задание. <em>Нарисуйте в Synfig Studio изображения солнца, дома и машины. Объедините и переименуйте слои.</em></p>
<p>Вопрос. <em>В чем будет заключаться разница в анимации, если слой «Дом» будет находиться над слоем «Машина»?</em> </p>
<h2>3. Перемещение объектов, состоящих из нескольких слоев</h2>
<p>В Synfig Studio существует одна особенность при перемещении составного изображения.</p>
<p>Когда мы выполняем инкапсуляцию несколько слоев, то у этого, нового слоя появляется «точка центра», за которую возможно переносить изображение (рис. 5). Эта точка всегда оказывается в центре холста. Однако само изображение может быть сбоку. В этом нет ничего страшного, но иногда бывает удобнее, чтобы центр был в центре самого изображения. Рассмотрим, как можно переместить «точку центра».</p>
<div style="text-align:center;"><img src="../../../img/synfig/pointcenter.png" width="338" height="165" alt="Метка для перемещения слоя в Synfig" /><br />
Рис. 5. Вид объекта на холсте при выделении составного слоя «Машина»<br />
(а — точка для перемещения слоя)</div>
<p>Сначала необходимо раскрыть список слоев составного изображения на панели Layers. Выделить все вложенные слои и составной слой (рис. 6.1). С помощью инструмента Normal выделить все метки (легче это сделать с помощью рамки выделения) (рис. 6.2). Взять изображение за любую метку и переместить на центральную точку (рис. 6.3). После этого, уже за центральную точку можно перемещать изображение в любую часть холста.</p>
<div style="text-align:center;"><img src="../../../sites/default/files/images/pointcenter.preview.png" width="640" height="189" alt="Этапы перемещения «точки центра» изображения" /><br />
Рис. 6. Этапы перемещения «точки центра» изображения</div>
<p>Задание. <em>Переместите центральные точки машины и дома в центр самих изображений.</em></p>
<h2>4. Анимация нескольких объектов</h2>
<p>Итак, все подготовительные мероприятия завершены и теперь следует приступить к самой анимации. Допустим, что по сценарию за 5 секунд машина должна переместиться от левой границы холста до правой, а солнце за это же время совершить путь от левой границе до центра. Причем машина пусть едет так, чтобы за 4 секунды доехать только до середины, а за последнюю одну секунду преодолеть весь оставшийся путь. Начальное положение объектов должно быть примерно таким, как на рисунке 3.</p>
<p>Этапы создания анимации:</p>
<ol>
<li>Включить режим анимации.</li>
<li>Создать ключевые кадры в начале 1-й и 5-й секунд. </li>
<li>Перейти в последний кадр.</li>
<li>Переместить изображение солнца в центр холста, а машины — на правую границу холста.</li>
<li>Создать ключевой кадр в начале 4-й секунды. </li>
<li>Переместить машину немного назад (в центр холста).</li>
</ol>
<p>Задание. <em>Создайте анимацию по плану описанному выше. Посмотрите ее с помощью команды File ? Preview.</em></p>
<h2>5. Выводы</h2>
<ul>
<li>Слои в компьютерной графике играют важную роль. Они позволяют менять одни объекты рисунка, не затрагивая другие. </li>
<li>Обычно для работы со слоями в графических и анимационных средах предусмотрена специальная панель.</li>
<li>Слои можно перемещать (поднимать и опускать). Верхний слой в списке образует передний план изображения. </li>
<li>Часто в программах компьютерной анимации допускается группировка слоев.</li>
<li>Каждый слой анимируется отдельно. Часть слоев может не содержать анимации.</li>
</ul>
<h2>6. Самостоятельная работа</h2>
<ol>
<li>Создайте мультфильм «Теннис» (рис. 7), в котором должны двигаться как ракетки, так и мяч.<br />
<div style="text-align:center;"><img src="../../../img/synfig/tennis.png" width="469" height="259" alt="Анимация в Synfig Studio" /><br />
Рис. 7. Изображение трех прямоугольников и круга</div>
</li>
<li>Создайте мультфильм «Светофор», где по сценарию должен сначала гореть красный свет 1,5 секунды, затем желтый — полсекунды и, наконец, зеленый — 1 секунду. </li>
<li>Самостоятельно придумайте сценарий какого-нибудь мультфильма и реализуйте его в Synfig Studio.</li>
</ol>
  </div>
</div>
    
  </body>
</html>
