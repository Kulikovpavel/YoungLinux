<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Создание простейшей анимации в Synfig Studio</title>
    <base href="" />
    <link type="text/css" rel="stylesheet" href="http://younglinux.info/misc/print.css" />
      </head>
  <body>
              <div class="section-1">
          
    <div id="node-144" class="section-2">
  <h1 class="book-heading">Создание простейшей анимации в Synfig Studio</h1>
  <h2>1. Режим анимации</h2>
<p>На прошлом уроке мы лишь говорили об анимации, пробовали рисовать в программе Synfig Studio; сегодня приступим непосредственно к созданию анимации.</p>
<p>В Synfig Studio изначально включен «режим рисования», в котором создаются и изменяются изображения. Однако эти изменения не будут «превращены» в анимацию. Можно сказать, что в данном режиме объекты подготавливаются. Для того, чтобы любые изменения объектов были обработаны как анимация, необходимо переключиться в соответствующий режим. Для этого в программе Synfig Studio предназначена зеленая кнопка в нижнем правом углу Рабочего окна (рис. 1). После этого вокруг холста появляется красная рамка, а на кнопке переключения будет изображен уже не зеленый шар, а красный. Для выхода из режима анимации достаточно еще раз нажать на эту же кнопку.</p>
<div style="text-align:center;"><img src="../../../sites/default/files/images/regime.preview.png" width="640" height="519" alt="Режимы рисования и анимации в Synfig" /><br />
Рис. 1. Режимы рисования и анимации<br />
(1 — Рабочее окно в режиме рисования, 2 — Рабочее окно в режиме анимации;<br />
а – кнопка переключения режимов, б – красная рамка, сигнализирующая о том, что включен режим анимации)
</div>
<p>Задание. <em>Нарисуйте изображение прямоугольника и переключитесь в режим анимации.</em></p>
<h2>2. Шкала времени</h2>
<p>Итак, на первом уроке мы уже выяснили, что эффект анимации является результатом быстрой смены похожих изображений. Любые изменения протекают во времени, поэтому в Synfig предусмотрена панель Timetrack (назовем ее «шкалой времени»). Похожая панель есть в большинстве программ для анимации, однако может называться по-разному. Данная шкала в Synfig есть не только на панели Timetrack, но и в нижней части Рабочего окна. (рис. 2). Шкалу времени можно сравнить с кинолентой или фотопленкой, где в каждом кадре может быть запечатлено какое-нибудь изображение.</p>
<div style="text-align:center;"><img src="../../../sites/default/files/images/timetrack.preview.png" width="640" height="406" alt="Шкала времени в анимационной программе Synfig Studio" /><br />
Рис. 2. Шкала времени<br />
(1 — Рабочее окно, 2 — панель Timetrack;<br />
а – текущий кадр, б – шкала с делениями на секунды и кадры)
</div>
<p>На шкале присутствуют деления, более крупные из которых помечены как 0f, 2s, 4s. F – это сокращение от frame (кадр), а s – от second (секунда). В каждой секунде 24 кадра (задано «по-умолчанию», но может быть иное значение кадров в секунду). Если щелкнуть в любом месте шкалы, то вы увидите линию, указывающую текущий кадр, также он будет указан в нижнем левом углу Рабочего окна (рис. 2а). Например, надпись 2s 13f в этом поле означает, что выделен 61 кадр (24+24+13). Следует отметить, что менять текущий кадр можно как в Рабочем окне, так и на панели Timetrack, а также вписать значение кадра в поле текущего кадра.</p>
<p>Задание.<em> Попробуйте менять текущий кадр с помощью шкалы времени и поля в нижнем левом углу Рабочего окна. Сделайте текущим первый кадр третьей секунды, затем восьмой кадр второй секунды.</em></p>
<h2>3. Ключевые кадры</h2>
<p>Как уже не раз было сказано, нам не обязательно прорисовывать каждый кадр. Достаточно лишь указать программе начальное «состояние» объекта и конечное. Все остальное программа попытается вычислить сама. Это начальное и конечное положение фиксируется в так называемых ключевых кадрах. На самом деле, их бывает намного больше двух, т. к. при достаточно сложном изменении объекта, программа не может корректно вычислить траекторию и характер изменения. </p>
<p>Для создания ключевых кадров в Synfig Studio предусмотрена панель Keyframes (рис. 3). На ней с помощью кнопки со знаком «+» можно добавлять ключевые кадры. В этих кадрах и будет зафиксировано изменение фигуры. В остальных кадрах оно будет вычислено.  </p>
<div style="text-align:center;"><img src="../../../img/synfig/keyframes.png" width="538" height="396" alt="Панель Keyframes" /><br />
Рис. 3. Панель Keyframes<br />
(а – кнопка, добавляющая ключевой кадр, б — список созданных ключевых кадров, в — момент времени, в котором создан ключевой кадр, г — промежуток времени до следующего ключевого кадра, д — переход в кадр, е — описание)
</div>
<h2>4. Создание анимации</h2>
<p>Прежде чем приступить к анимации нашего «героя»-прямоугольника следует определиться со сценарием будущего мультфильма. Допустим с фигурой будут происходить следующие изменения, на каждое из которых будет уходить по 1 секунде (рис. 4):</p>
<div style="text-align:center;"><img src="../../../img/synfig/animation.png" width="410" height="503" alt="Изменения прямоугольника в ключевых кадрах" /><br />
Рис. 4. Изменения прямоугольника в ключевых кадрах
</div>
<ol>
<li>Фигура двигается от левой границы холста в центр.</li>
<li>Изменяет свой размер.</li>
<li>Изменяет цвет.</li>
<li>Перемещается к правой границе холста.</li>
</ol>
<p>Эти изменения и будут определять ключевые кадры.</p>
<p>Вспомним, что для перемещения прямоугольника без изменения его размеров необходимо выделить обе его метки (например, с помощью рамки выделения) и только потом перемещать за любую из них.</p>
<p><strong>Задание.</strong> </p>
<ol>
<li>Создайте ключевой кадр в начале временной шкалы (0f).</li>
<li>Затем перейдите в 24 кадр (1s) и создайте еще один ключевой кадр. Переместите прямоугольник на центр холста.</li>
<li>Перейдите в 48 кадр (2s), добавьте ключевой кадр и измените размер прямоугольника.</li>
<li>Далее создайте ключевой кадр на 3-й секунде и измените цвет фигуры.</li>
<li>На 4-й секунде создайте ключевой кадр и переместите объект к правой границе холста.</li>
</ol>
<h2>5. Просмотр анимации</h2>
<p>Создав анимацию, хорошо бы ее посмотреть. Если зажать левую кнопку мыши и двигать ею по шкале времени, то можно наблюдать как изменяется фигура.</p>
<p>Задание. <em>Попробуйте просмотреть анимацию таким способом.</em></p>
<p>Однако, так трудно увидеть все нюансы. Поэтому предварительный просмотр лучше выполнить другим способом: в Рабочем окне вызвать меню (треугольник в верхнем левом углу) и выбрать File ? Preview (рис. 5). Откроется диалоговое окно с настройками, их можно оставить «по-умолчанию». Далее нажать Preview. Откроется окно предварительного просмотра. Управляющие кнопки находятся внизу. Нажать Play.</p>
<div style="text-align:center;"><img src="../../../sites/default/files/images/preview.preview.png" width="640" height="491" alt="Предварительный просмотр анимации в программе Synfig" /><br />
Рис. 5. Предварительный просмотр анимации<br />
(1 — вызов окна: File ? Preview, 2 – окно настроек, 3 — окно предварительного просмотра)</div>
<p>Задание. <em>Посмотрите анимацию прямоугольника в окне просмотра.</em></p>
<h2>6. Рендеринг</h2>
<p>Все, что было сделано до этого, не сохранено на диске компьютера. Для того, чтобы сохранить файл достаточно выполнить стандартную операцию сохранения. При этом будет сохранен файл в формате программы Synfig; другими словами, будут сохранены данные, описывающие определенным способом объекты и их изменения. Чтобы получить изображение необходима специальная программа (ее включают многие графические процессоры, в том числе и Synfig Studio), осуществляющая преобразование, в данном случае векторного изображения (т.к. Synfig – векторная программа) в растровое. Этот процесс получения изображения называется рендерингом (от англ. rendering). «По-русски» можно сказать, что происходит визуализация изображения.</p>
<p>Но нам требуется сохранить не простой рисунок, а анимацию (множество изображений). Она может храниться во многих форматах (чаще, видеоформатах и формате flash-анимации), в том числе и одном графическом — GIF. В нем мы и сохраним нашу анимацию.</p>
<p>Для того, чтобы вызвать окно рендеринга в Synfig Studio необходимо в меню Рабочего окна (треугольник в верхнем левом углу) выбрать команду File ? Render. Откроется соответствующее диалоговое окно (рис. 6). </p>
<div style="text-align:center;"><img src="../../../sites/default/files/images/render.preview.png" width="640" height="424" alt="Окно настроек рендеринга в Synfig Studio" /><br />
Рис. 6. Окно настроек рендеринга<br />
(а — адрес и имя файла, б – формат файла, в — вкладка «Time», г — количество кадров в секунде, д — время начала анимации, е — время окончания анимации)</div>
<p>Поле Filename указывается адрес и имя файла (с расширением), кнопка Choose... вызывает диалоговое окно выбора папки. Осторожно: в Windows в адресе файла не должно быть русских букв, иначе сохранить не удастся (по-крайней мере, это справедливо для версии 0.61.09.).</p>
<p>Выпадающий список Target позволяет выбрать формат публикации.<br />
Вкладка Image управляет размерами и некоторыми другими параметрами изображения.</p>
<p>На вкладке Time можно настроить количество кадров в секунду, начало и окончание анимации. Например, если у нас анимация прямоугольника длится всего четыре секунды, то следует исправить значение «по-умолчанию» 5s на 4s.</p>
<p>Кнопка Render запускает процесс рендеринга, который может длиться от нескольких секунд до достаточно продолжительного времени (в зависимости от сложности анимации и мощности компьютера). Сообщение о процессе рендеринга или его окончании можно увидеть внизу Рабочего окна (рис. 7).</p>
<div style="text-align:center;"><img src="../../../sites/default/files/images/rendering.preview.png" width="640" height="146" alt="Процесс рендеринга в программе Synfig Studio" /><br />
Рис. 7. Сообщение в Рабочем окне<br />
(а — процесс рендеринга анимации, б — завершение рендеринга)</div>
<p>Задание. <em>Сохраните файл в формате программы Synfig и создайте анимированное изображение в формате GIF.</em></p>
<h2>7. Выводы</h2>
<ul>
<li>Во многих программах, предназначенных для создания компьютерной анимации, существует специальный режим, в котором возможно анимационное изменение объектов. </li>
<li>Любые изменения изображения фиксируются на временной шкале с помощью ключевых кадров.</li>
<li>«Единица измерения» анимации — кадр. Количество кадров в секунду может иметь различное значение. </li>
<li>Прежде чем создавать анимацию рекомендуется составить план (сценарий).</li>
<li>Сохранение файла с анимацией и ее публикация — не одно и то же. Изображение можно получить в результате рендеринга.</li>
</ul>
<h2>8. Самостоятельная работа</h2>
<ol>
<li>Создайте анимацию окружности по плану, приведенному на уроке для прямоугольника.</li>
<li>Создайте анимацию многоугольника, в которой он постепенно изменяет свою форму.</li>
<li>Создайте анимацию постепенного исчезновения объекта, используя параметр Alpha (прозрачность).</li>
</ol>
  </div>
    </div>
  </body>
</html>
