<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Урок 12. Подпрограммы — программы в программе</title>
    <base href="" />
    <link type="text/css" rel="stylesheet" href="http://younglinux.info/misc/print.css" />
      </head>
  <body>
              <div class="section-1">
          
    <div id="node-233" class="section-2">
  <h1 class="book-heading">Урок 12. Подпрограммы — программы в программе</h1>
  <p class="right">Тема: Язык программирования Logo </p>
<p>	Подпрограммы очень часто используются в программировании. По-другому их называют <strong>процедурами</strong> или <strong>функциями</strong>. Пока мы не будем усложнять себе жизнь и ограничимся использованием слова «подпрограмма». Что же это такое?</p>
<p>	Судя по названию, <strong>подпрограмма</strong> — это то, что входит в обычную программу (в программный код, который мы пишем). Что такое обычная программа? Это последовательность команд, в результате выполнения которой исполнителем (в нашем случае, черепахой) что-то происходит. Когда программа готова, нам достаточно нажать одну кнопку, чтобы ее запустить. А теперь представьте, что у нас в программе есть маленькие программки (подпрограммы), которые мы также запускаем нажатием всего лишь одной кнопки, после чего что-то происходит. Хотя на самом деле, никакой кнопки нет. Подпрограмма внутри программы запускается оттого, что ее <strong>вызывают по имени</strong>. Все это можно изобразить так:</p>
<div class="image">
<img src="../../../img/kturtle/subprogram.png" width="345" height="441" alt="Схема использования подпрограмм" />
</div>
<p>	Здесь пунктирными линиями обозначены строки программного кода. Подпрограмм и их вызовов может быть много. Вызывается подпрограмма по ее имени.</p>
<p>	Давайте рассмотрим какой-нибудь практический пример, чтобы стало все более понятно. Пусть, например, код, заставляющий черепаху рисовать синюю толстую линию, будет оформлен в виде подпрограммы с названием <span class="monoi">с_линия</span>. В языке программирования Лого ключевым словом, обозначающим начало подпрограммы, является  <span class="mono">выучи</span>. Можно представить, что тем самым мы учим черепаху новым командам.<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">сброс
&nbsp;
выучи с_линия <span style="color: black;">&#123;</span>
	цвет_пера <span style="color: #ff4500;">0</span>, <span style="color: #ff4500;">0</span>, <span style="color: #ff4500;">220</span>
	толщина_пера <span style="color: #ff4500;">5</span>
	вперёд <span style="color: #ff4500;">75</span>
<span style="color: black;">&#125;</span>
&nbsp;
иди <span style="color: #ff4500;">10</span>, <span style="color: #ff4500;">200</span>
с_линия
иди <span style="color: #ff4500;">100</span>, <span style="color: #ff4500;">250</span>
направление <span style="color: #ff4500;">45</span>
с_линия</pre></div></p>
<p>	Итак, здесь главная программа - это команда <span class="mono">сброс</span> и все что идет после закрывающей фигурной скобки. От команды <span class="mono">выучи</span> и до закрывающей скобки включительно — это подпрограмма. </p>
<p>	Какое преимущество дает использование подпрограмм? Ведь можно было вставить код, рисующий синюю линию, непосредственно в программу и не делать так, как показано выше. Однако тогда этот код пришлось бы вставлять два раза, и программа бы получилась длиннее. Использовать здесь цикл также не получится, т. к. между рисованием первой и второй линий есть еще команды. Вывод: использование подпрограмм позволяет сократить программный код.</p>
<p>	Другое преимущество подпрограмм — это то, что они могут принимать различные данные и результат их работы может выглядеть по-разному. Принимаемые данные передаются в подпрограмму с помощью переменных, которые указываются после ее имени. Пример:<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">сброс
&nbsp;
выучи надпись $x, $y, $текст <span style="color: black;">&#123;</span>
	иди $x, $y
	напиши $текст
<span style="color: black;">&#125;</span>
&nbsp;
надпись <span style="color: #ff4500;">10</span>, <span style="color: #ff4500;">20</span>, <span style="color: #483d8b;">&quot;программирование&quot;</span>
надпись <span style="color: #ff4500;">100</span>, <span style="color: #ff4500;">140</span>, <span style="color: #483d8b;">&quot;другая надпись&quot;</span></pre></div></p>
<p>	Здесь создается подпрограмма <span class="monoi">надпись</span>, которая принимает два числа и одну строку через переменные <span class="monoi">$x, $y</span> и <span class="monoi">$текст</span>. Когда <span class="monoi">надпись</span> вызывается в главной программе, то указываются конкретные значения (числа и строки), они и подставляются в подпрограмме вместо переменных, а затем используются внутри скобок. В результате мы можем изменять результат работы подпрограммы за счет того, какие данные в нее передаем. Конечно, это достаточно относительно. В примере выше черепаха только перемещается и пишет, но зато где угодно и что угодно.</p>
<p>	Подпрограмма может принимать данные в любом количестве. Главное, чтобы количество переменных после ее имени и количество конкретных значений при вызове совпадало.</p>
<p>	Рассмотрим еще один пример подпрограммы:<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">выучи цвета $r, $g, $b <span style="color: black;">&#123;</span>
	цвет_холста $r, $g, $b
	если $r <span style="color: #66cc66;">&gt;</span>= <span style="color: #ff4500;">128</span> <span style="color: black;">&#123;</span>
		$r = $r - <span style="color: #ff4500;">128</span>
	<span style="color: black;">&#125;</span>
	иначе <span style="color: black;">&#123;</span>
		$r = $r + <span style="color: #ff4500;">128</span>
	<span style="color: black;">&#125;</span>
	если $g <span style="color: #66cc66;">&gt;</span>= <span style="color: #ff4500;">128</span> <span style="color: black;">&#123;</span>
		$g = $g - <span style="color: #ff4500;">128</span>
	<span style="color: black;">&#125;</span>
	иначе <span style="color: black;">&#123;</span>
		$g = $g + <span style="color: #ff4500;">128</span>
	<span style="color: black;">&#125;</span>
	если $b <span style="color: #66cc66;">&gt;</span>= <span style="color: #ff4500;">128</span> <span style="color: black;">&#123;</span>
		$b = $b - <span style="color: #ff4500;">128</span>
	<span style="color: black;">&#125;</span>
	иначе <span style="color: black;">&#123;</span>
		$b = $b + <span style="color: #ff4500;">128</span>
	<span style="color: black;">&#125;</span>
	цвет_пера $r, $g, $b
<span style="color: black;">&#125;</span></pre></div><br />
	В данном случае подпрограмма устанавливает цвет холста по переданным ей данным, меняет значения переменных <span class="monoi">$r, $g</span> и <span class="mono">$b</span>, затем устанавливает цвет пера.</p>
<h2>Задание </h2>
<ol>
<li>Напишите программу, в которой бы использовался код, приведенный выше (про цвета). Пусть сначала подпрограмма вызывается со случайными значениями, а затем с тем, которые ввел пользователь. Также после каждого вызова подпрограммы черепаха должна что-нибудь рисовать на холсте.</li>
<li>Напишите подпрограмму под названием <span class="monoi">фигура</span>, принимающую два численных значения: количество сторон фигуры и размер стороны. Код тела подпрограммы должен содержать команды, которые заставляют черепаху рисовать правильный многоугольник по переданным данным. Несколько раз вызовите подпрограмму, передав ей разные значения.</li>
</ol>
<p class="right"><a href="http://younglinux.info/logo/imgfunction" title="Ответ к заданию по языку программирования Logo">Ответ (код на Лого)</a></p>
  </div>
    </div>
  </body>
</html>
