<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Важные вещи в домашнем хозяйстве</title>
    <base href="" />
    <link type="text/css" rel="stylesheet" href="http://younglinux.info/misc/print.css" />
      </head>
  <body>
              <div class="section-1">
                <div class="section-2">
          
    <div id="node-259" class="section-3">
  <h1 class="book-heading">Важные вещи в домашнем хозяйстве</h1>
  <p class="right">Introduction to Linux. A Hands on Guide —<br />
Введение в Linux. Руководство по работе</p>
<h3>Введение</h3>
<p>Как мы уже упоминали, навести беспорядок в системе достаточно легко. Поэтому не следует пренебрегать тем, что позволяет сохранять рабочее место опрятным. Если вы научитесь этому с самого начала, то приобретете хорошую привычку, которая поможет вам сэкономить время при программировании в системе Linux (UNIX) или при решении задач управления системой. Здесь приведены несколько способов сделать себе жизнь легче:</p>
<ul>
<li>Создайте каталог bin для ваших файлов программ и скриптов.</li>
<li>Организуйте неисполняемые файлы в подходящие каталоги и создайте так много каталогов, как вам требуется. Например, могут быть отдельные каталоги для изображений, документов, проектов, загруженных файлов, электронных таблиц, личных файлов, и так далее.</li>
<li>Делайте каталоги личными с помощью команды <strong>chmod</strong> <span class="mono">700 dirname</span>.</li>
<li>Давайте вашим файлам осмысленные имена, такие как <span class="mono">Жалоба премьер-министру 050302</span>, а не <span class="mono">письмо1</span>.</li>
</ul>
<h3>Создайте пространство</h3>
<p>На некоторых системах установленная квота может заставлять вас время от времени выполнять очистку, также физические ограничения жесткого диска могут заставить вас оставлять больше места без запуска каких-либо программ мониторинга. В этом разделе рассматриваются несколько способов освобождения места на диске, помимо использования команды <strong>rm</strong>.</p>
<p>Выполните команду <strong>quota</strong> <span class="mono">-v</span>, чтобы увидеть, сколько места осталось.</p>
<h4>Опустошение файлов</h4>
<p>Иногда содержание файла может вас не интересовать, но вам нужно имя файла в качестве маркера (например, вам просто необходим файл-метка, напоминание о том, что файл был там или должен быть через некоторое время в будущем). Перенаправление вывода "нулевой" команды в оболочках Bourne и Bash как раз это сделает:</p>
<pre>
andy:~> <strong>cat wishlist > placeholder</strong>

andy:~> <strong>ls -la placeholder</strong>
-rw-rw-r--    1 andy   andy       200 Jun 12 13:34 placeholder

andy:~>  <strong>> placeholder</strong>

andy:~> <strong>ls -la placeholder</strong>

-rw-rw-r--    1 andy   andy         0 Jun 12 13:35 placeholder
</pre><p>
Процесс уменьшения существующего файла в файл с тем же именем, но размер которого равен нулю байтов, называется усечением.</p>
<p>Также создать новый пустой файл можно с помощью команды <strong>touch</strong>. Использование <strong>touch</strong> на существующий файл обновит только его метку. Для выяснения деталей посмотрите info-страницу для <strong>touch</strong>.</p>
<p>Для получения "почти" пустого файла используйте команду <strong>tail</strong>. Допустим, список пожеланий пользователя <em>andy</em> становится довольно длинным, т.к. он всегда добавляет материал в конец, но никогда не удаляет то, что он уже получил. Теперь он хочет только сохранить последние пять пунктов:</p>
<pre>
andy:~> <strong>tail -5 wishlist > newlist</strong>

andy:~> <strong>cat newlist > wishlist</strong>

andy:~> <strong>rm newlist</strong>
</pre><h4>Подробнее о log-файлах</h4>
<p>Некоторые программы Linux настойчиво требуют записи различных выходных данных в файл журнала (log-файл). Обычно существуют установки только для журналов ошибок, или журналировать минимальное количество информации, например, установка уровня отладки программы. Но даже в этом случае, вы можете не волноваться о файле журнала. Здесь несколько способов, чтобы избавиться от них или, по крайней мере, несколько ограничить их размер:</p>
<ul>
<li>Если вы уверены, что log-файл вам больше не потребуется, попробуйте удалить его, когда программа не запущена. Некоторые программы могут даже обнаружить после перезагрузки, что файла журнала нет и не будут создавать его снова.</li>
<li>Если после удаления log-файла программа создает его снова, прочитайте документацию к этой программе в поисках варианта команды, которая исключит создание лог-файла.</li>
<li>Попробуйте сделать log-файлы меньше за счет того, что будет вводится только информация, имеющая отношение к вам, или только имеющая значение.</li>
<li>Попробуйте заменить файл журнала символической ссылкой <span class="mono">/dev/null</span>; если вам повезет, программа не будет жаловаться. Не делайте такого с лог-файлами программ, которые запускаются при загрузке системы, или программами, которые работают от хрона (см. <a href="http://younglinux.info/#">Главу 4, Процессы</a>). Эти программы могут заменить символическую ссылку небольшим файлом, который начнет расти снова.</li>
</ul>
<h4>Почта</h4>
<p>Регулярно очищайте ваш почтовый ящик, создавайте подкаталоги и автоматически перенаправляйте используемый <strong>procmail</strong> (см. info-страницы) или фильтры от предпочитаемого вами приложения для чтения почты. Если у вас есть  папка-корзина, то регулярно очищайте ее.</p>
<p>Для перенаправления почты используйте файл <span class="mono">.forward</span> в вашем домашнем каталоге. Почтовый сервис Linux ищет именно этот файл для локальной доставки. Содержание файла определяет то, что почтовая система должна делать с вашей почтой. Он может содержать одну строку, содержащую полный адрес электронной почты. В таком случае система будет отправлять все письма на этот адрес. Например, при аренде места для сайта, вы можете направлять почту, предназначенную для веб-мастера на свой аккаунт, чтобы не использовать место на диске. Файл <span class="mono">.forward</span> вебмастера может выглядеть следующим образом:</p>
<pre>
webmaster@www ~/> <strong>cat .forward</strong>
mike@pandora.be
</pre><p>
Использование пересылки почты также полезно, т.к. освобождает вас от необходимости проверять несколько почтовых ящиков. Вы можете сделать так, чтобы каждый адрес указывал на основную почту, которую вам удобней использовать.</p>
<p>Вы можете обратиться к системному администратору, чтобы он определил направления для вас в локальный файл почтовых псевдонимов, например, когда аккаунт закрывается, но электронная почта пока остается активной.</p>
<h4>Экономия пространства ссылкой</h4>
<p>Когда нескольким пользователям необходимо иметь доступ к одному и тому же файлу или программе, когда исходное имя файла слишком длинное или его слишком трудно запомнить, используйте символическую ссылку вместо создания отдельной копии для каждого пользователя или назначения.</p>
<p>Множественные символические ссылки могут иметь различные названия, например, ссылку можно назвать <span class="mono">monfichier</span> в одной пользовательской директории и <span class="mono">mylink</span> в другой. Несколько ссылок (с разными именами) на один и тот же файл может быть в одном и том же каталоге. Часто это можно наблюдать в каталоге <span class="mono">/lib</span> с помощью команды</p>
<p><span class="mono">ls -l /lib</span></p>
<p>Вы увидите, что в этом каталоге очень много ссылок, указывающих на одинаковые файлы. Они создаются для программ, ищущих какое-нибудь определенное название, в результате ссылки указывают на правильные/текущие название библиотек, которые требуются под другими именами.</p>
<h4>Ограничение размера файлов</h4>
<p>Оболочка содержит встроенную команду для ограничения размера файлов, <strong>ulimit</strong>, которая также может быть использована для отображения ограничений на системные ресурсы:</p>
<pre>
cindy:~> ulimit -a
core file size (blocks)     0
data seg size (kbytes)      unlimited
file size (blocks)          unlimited
max locked memory (kbytes)  unlimited
max memory size (kbytes)    unlimited
open files                  1024
pipe size (512 bytes)       8
stack size (kbytes)         8192
cpu time (seconds)          unlimited
max user processes          512
virtual memory (kbytes)     unlimited
</pre><p>
Cindy не разработчик и не заботится об основных дампах, которые содержат информацию об отладке программы. Если вам нужны основные дампы, вы можете установить их размер с помощью команды <strong>ulimit</strong>. В info-страницах bash дается более подробное объяснение.</p>
<p class="note"><img src="../../../img/linuxintro/note.gif" alt="" /><strong> Core файл?</strong><br />
Файл core или основной дамп иногда создается, когда не все так хорошо с программой во время ее выполнения. Файл core содержит копию памяти системы во время того, когда произошла ошибка.
</p>
<h4>Сжатые файлы</h4>
<p>Сжатые файлы весьма полезны, поскольку они занимают меньше места на жестком диске. Еще одним преимуществом является то, что они занимают меньше пропускной способности при отправке их по сети. Многие файлы, такие как man-страницы, в системе хранятся в сжатом виде. Тем не менее, чтобы получить информацию их надо распаковать; как и сжатие это занимает довольно много времени. Вряд ли вам захочется распаковывать страницу, например, описывающую опции команды, а затем сжимать ее снова. Большинство людей, кроме того, забывают удалить лишнее после того, как они нашли необходимую им информацию.</p>
<p>Поэтому есть инструменты, которые создают сжатые файлы, но распаковывают их только в память. Фактически сжатый файл остается на диске как есть. Большинство систем поддержки <strong>zgrep</strong>, <strong>zcat</strong>, <strong>bzless</strong> и других членов z-семейства предотвращают ненужные действия по распаковке/сжатию. Посмотрите в ваш каталог исполняемых файлов системы, а также info-страницы.</p>
<p>См. <a href="http://younglinux.info/#">Главу 9, Основные методы резервного копирования</a> для дополнительной информации по существующему сжатию файлов и примеры создания архивов.</p>
  </div>
    </div></div>
  </body>
</html>
