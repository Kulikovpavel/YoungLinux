<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Печать файлов</title>
    <base href="" />
    <link type="text/css" rel="stylesheet" href="http://younglinux.info/misc/print.css" />
      </head>
  <body>
              <div class="section-1">
                <div class="section-2">
          
    <div id="node-293" class="section-3">
  <h1 class="book-heading">Печать файлов</h1>
  <p class="right">Introduction to Linux. A Hands on Guide —<br />
Введение в Linux. Руководство по работе</p>
<h3>Команда для печати</h3>
<h4>Получение файла для принтера</h4>
<p>Очень легко распечатать документ из приложения, выбрав в меню пункт <strong>Печать</strong>.</p>
<p>Для печати из командной строки используйте команду <strong>lp</strong> или <strong>lpr</strong>.<br />
<span class="mono">lp file(s)<br />
lpr file(s)<br />
</span></p>
<p>Эти команды могут читать из канала, так что вы можете распечатать вывод какой-либо команды вот так<br />
<span class="mono">command | lp</span></p>
<p>Существует множество опций, осуществляющих настройку макета страницы, установку количества копий, выбор принтер, на который вы хотите отправить печать, если у вас их больше, чем один, размер бумаги, одностороннюю или двустороннюю печать, если принтер поддерживает эту функцию, поля и т.д. Читайте man-страницы для полного обзора.</p>
<h4>Статус вашего задания на печать</h4>
<p>После того как файл принят в очередь печати, данному заданию на печать присваивается идентификационный номер:</p>
<pre>
davy:~> <strong>lp /etc/profile</strong>
request id is blob-253 (1 file(s))
</pre><p>
Для просмотра очереди печати используются команды <strong>lpq</strong> или <strong>lpstat</strong>. Когда они вводятся без аргументов, то отображается по умолчанию содержимое очереди печати.</p>
<pre>
davy:~> <strong>lpq</strong>
blob is ready and printing
Rank	Owner	Job	File(s)		Total Size
active	davy	253	profile		1024 bytes
davy:~> <strong>lpstat</strong>
blob-253	davy	1024	Tue 25 Jul 2006 10:20_01 AM CEST
</pre><h4>Статус принтера</h4>
<p>Какой принтер установлен по умолчанию в системе, которая имеет доступ к нескольким принтерам?</p>
<pre>
davy:~> <strong>lpstat -d</strong>
system default destination: blob
</pre><p>
Какой статус у моего принтера(ов)?</p>
<pre>
davy:~> <strong>lpstat -p</strong>
printer blob now printing blob-253. enabled since Jan 01 18:01
</pre><h4>Удаление заданий из очереди печати</h4>
<p>Если вам не нравится, что вы видите из состояния команд, используйте <strong>lprm</strong> или <strong>cancel</strong> для удаления заданий.</p>
<pre>
davy:~> <strong>lprm 253</strong>
</pre><p>
В графической среде вы можете увидеть всплывающее окно, сообщающее вам, что задание было отменено.</p>
<p>В больших системах <strong>lpc</strong> может быть использована для управления несколькими принтерами. Смотрите info- или man-страницы для каждой команды.</p>
<p>Существует множество GUI инструментов для печати, которые используются как интерфейс для <strong>lp</strong>, и у большинства графических приложений есть функции печати, которые используют <strong>lp</strong>. См. встроенную справку по функциям и специальную документацию к программам для получения дополнительной информации.</p>
<p class="note"><img src="../../../img/linuxintro/note.gif" alt="" /><strong> Почему существует две команды для каждой задачи, связанной с печатью?</strong><br />
Печать на UNIX и подобных системах имеет длинную историю. Когда-то использовались два весьма различных подхода: BSD-стиль печати и SystemV-стиль печати. Для совместимости Linux CUPS поддерживает команды обоих способов. Также следует отметить, что <strong>lp</strong> не ведет себя так же, как <strong>lpr</strong>, у <strong>lpq</strong> есть несколько различных опций, почти <strong>lpstat</strong> и <strong>lprm</strong>, но не совсем, как <strong>cancel</strong>. Не важно какую вы используете, просто используйте команды, которые наиболее удобный для вас, или с которыми у вас есть опыт работы в других UNIX-подобных системах.</p>
<h3>Форматирование</h3>
<h4>Инструменты и языки</h4>
<p>Если мы хотим получить что-то разумное от принтера, в первую очередь файл должен быть отформатирован. Помимо того, что существует обилие программного обеспечения для оформления, Linux поставляется с базовыми UNIX-инструментами и языками для форматирования.</p>
<p>Современные системы Linux поддерживают прямую печать, без форматирования пользователем целого ряда типов файлов: текст, PDF, PostScript и несколько графических форматов, таких как PNG, JPEG, BMP и GIF.</p>
<p>Для тех форматов файлов, которым необходимо форматирование, Linux поставляется с большим количеством соответствующих инструментов, таких как команды <strong>pdf2ps</strong>, <strong>fax2ps</strong> и <strong>a2ps</strong>, которые преобразуют другие форматов в PostScript. Эти команды могут создавать файлы, которые затем могут использоваться в других системах, в которых не установлены все инструменты для преобразования формата.</p>
<p>Помимо этих инструментов командной строки существует много графических программ для обработки текста. Доступно несколько офисных комплектов, многие из которых свободны. Они выполняют оформление автоматически после подачи задания на печать. Вот некоторые: OpenOffice.org, KOffice, AbiWord, WordPerfect и т.д.</p>
<p>Ниже приведены распространенные языки по отношению к печати:</p>
<ul>
<li><strong>groff</strong>: GNU версия команды <strong>roff</strong> UNIX. Является интерфейсом к groff-системе форматирования документов. Обычно она запускает команду <strong>troff</strong>, а для выбранного устройства назначается пост-процессор. Это позволяет создавать файлы PostScript.</li>
<li>TeX и макропакет LaTeX: один из наиболее широко используемых языков разметки в системах UNIX. Обычно вызывается как <strong>tex</strong>, который форматирует файлы и выводит соответствующее аппаратно-независимое представление набранного документа.<br />
Технические работы по-прежнему часто создаются в LaTeX из-за его поддержки математических формул, хотя усилия, чтобы включить эту функцию в другие приложениях, предпринимаются W3C (World Wide Web Consortium).</li>
<li>SGML и XML: Свободные парсеры, доступные для UNIX и Linux. XML является следующим поколением SGML, он образует основу для DocBook XML —  системы документов (эта книга написана на XML, например).</li>
</ul>
<p class="note"><img src="../../../img/linuxintro/tip.gif" alt="" /><strong> Печать документации</strong><br />
Man-страницы содержат предварительно отформатированные <strong>troff</strong> данные, которые должны быть приведены к соответствующему виду, прежде чем они могут быть распечатаны на принтере. Печать выполняется с использованием опции <span class="mono">-t</span> команды <strong>man</strong>:<br />
<span class="mono">man -t <em>command</em> > man-command.ps</span><br />
После чего распечатывается файл PostScript. Если место назначения печати настроено для вашей системы/аккаунта по умолчанию, вы можете просто выполнить команду <strong>man</strong> <span class="mono">-t <em>command</em></span> для отправки напрямую отформатированных страниц на принтер.</p>
<h4>Предварительный просмотр отформатированных файлов</h4>
<p>Все, что вы можете отправить на принтер, может с таким же успехом быть отображено на экране. В зависимости от формата файла, можно использовать одну из следующих команд:</p>
<ul>
<li>Файлы PostScript: с помощью команды <strong>gv</strong> (GhostView).</li>
<li>TeX dvi файлов: <strong>xdvi</strong>, или с помощью варианта для KDE - <strong>kdvi</strong>.</li>
<li>PDF файлы: <strong>xpdf, kpdf, gpdf</strong> или программа для просмотра Adobe, <strong>acroread</strong>, которая также доступна для бесплатного использования, но не является свободным программным обеспечением. </li>
<li>В таких приложениях как Firefox или OpenOffice обычно можно выбрать предварительный просмотр печати из меню.</li>
</ul>
  </div>
    </div></div>
  </body>
</html>
