<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Взаимодействие объектов в Blender Game Engine. Урок 4  </title>
    <base href="" />
    <link type="text/css" rel="stylesheet" href="http://younglinux.info/misc/print.css" />
      </head>
  <body>
              <div class="section-1">
          
    <div id="node-104" class="section-2">
  <h1 class="book-heading">Взаимодействие объектов в Blender Game Engine. Урок 4  </h1>
  <div style="text-align:center;"><img src="../../../img/bge/wall.gif" width="400" height="452" alt="модель в Blender Game Engine" /></div>
<p>Игровой движок Blender’а позволяет виртуальным объектам вести себя подобно объектам реального мира. Следовательно, результат взаимодействия объектов Dynamic, Rigid и Soft body в Blender Game Engine должен зависеть от настроек их массы, а также сил, влияющих на них. Рассмотрим это на примере.<br />
	У нас будет стена из кирпичей и шар, разбивающий ее. По отношению к шару можно будет прикладывать разную силу. В зависимости от приложенной силы шар может разрушать стену или нет.</p>
<p>Стена состоит из кирпичей, каждый из которых представляет собой измененный куб типа Rigid body. При взаимодействии объектов важно настроить свойство <strong>Bounds</strong> (границы). В данном случае лучше использовать тип <strong>Convex hull</strong> (выпуклая оболочка).</p>
<div style="text-align:center;"><img src="../../../img/bge/bounds3.gif" width="305" height="178" alt="Настройка границ объектов для игрового режима Blender" /></div>
<p>С помощью дублирования (Shift + D) создаем стену из кирпичей. Здесь важно плотно подогнать один к другому. В режиме игры стена должна оставаться целой, а не разваливаться. Последнее может случиться, если неправильно настроены границы объектов или кирпичи неправильно расположены  относительно друг друга.</p>
<div style="text-align:center;"><img src="../../../img/bge/cub.gif" width="400" height="242" alt="Стена из блоков в Blender" /></div>
<p>Добавляем на сцену сферу, устанавливаем для нее также тип Rigid body и располагаем на некотором расстоянии от стены. При нажатии на клавишу с цифрой 1 на клавиатуре шар должен двигаться в направлении стены в результате приложения к нему силы. Следует выключить кнопку <strong>L</strong>.</p>
<div style="text-align:center;"><img src="../../../img/bge/force4_1.gif" width="600" height="162" alt="Настройка сенсора, контроллера и активатора" /></div>
<p>Сила при нажатии на клавишу с единицей постоянно воздействует на шар. Чем дольше мы жмем, тем больше сила воздействия. На самом деле трудно определить, сколько силы было передано шару. Так может оказаться, что при воздействии меньшей силы, но на протяжении большего времени, шару суммарно было сообщено больше воздействия, чем при моментальном воздействии большей силы. Чтобы избежать недоразумений, в Blender Game Engine можно сделать так, что шару будет сообщаться сила только тогда, когда он находится в определенном месте или в течение строго определенного временного интервала.<br />
Наша сфера будет испытывать воздействие силы лишь тогда, когда касается красной маленькой плоскости. Для этого нужно добавить к сфере сенсор <strong>Touch</strong> (касание) и связать его с уже существующим контроллером. В поле <strong>MA</strong> следует прописать материал, при касании которого будет срабатывать сенсор <strong>Touch</strong>. Имя материала можно найти на панели кнопок <strong>Shading</strong> (F5).</p>
<div style="text-align:center;"><img src="../../../img/bge/touch.gif" width="670" height="390" alt="Настройка сенсора touch" /></div>
<p>	Два сенсора связаны с одним контроллером типа <strong>AND</strong>. Это означает, что активатор сработает лишь в том случае, если сигнал будет поступать от обоих сенсоров. В данном случае, должна быть зажата клавиша с единицей и объект должен касаться материала start. Если зажата единица, но нет касания start (или, наоборот, есть касание, но нет сигнала с клавиатуры), то активатор не будет запускаться.<br />
	Шар должен находиться над красной плоскостью. В режиме игры к шару будет прикладываться сила лишь в момент его нахождения на плоскости, а не на протяжении всего пути (при зажатой клавише 1). В дальнейшем это позволит трезво оценить, как влияет размер приложенной к шару силы на его способность разрушать стену.<br />
	Добавим также еще два комплекта сенсоров, контроллеров и активаторов. Настроим их также как и первый, за исключением величины прикладываемой силы и клавиш-сенсоров. Может быть один сенсор Touch, связанный с несколькими контроллерами. Также неплохо было бы добавить возможность перезагрузки без выхода из режима игры: активатор <strong>Scene –> Restart</strong>.</p>
<div style="text-align:center;"><img src="../../../img/bge/break_wall.gif" width="779" height="571" alt="Настройка сенсора touch" /></div>
<p>	Требуется установить такие величины силы, чтобы в первом случае стена почти не разрушалась, а во втором – разрушалась меньше, чем в третьем.<br />
	На примере этой модели видно, что скорость шара (и как следствие его разрушающая способность) зависит от величин приложенной к нему силы. Эта зависимость есть в реальном мире, к которому мы привыкли, она эмулируется и в Blender Game Engine.</p>
<h2>Практическая работа</h2>
<ol>
<li>Создайте модель, описанную в уроке. </li>
<li>Определите с помощью BGE, как влияет расстояние между шаром и стеной на разрушение последней. С чем это связано?</li>
<li>Создайте модель известной физической закономерности: рычаг уравновешен, когда произведение массы на длину одного плеча равно произведению массы на длину другого плеча. В модели должна быть возможность передвигать виртуальные массы (например, кубики) по бревну, добиваясь равновесия.</li>
</ol>
  </div>
    </div>
  </body>
</html>
