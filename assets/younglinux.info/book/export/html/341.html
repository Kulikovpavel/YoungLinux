<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Урок 8. Установка и настройка тем оформления сайта</title>
    <base href="" />
    <link type="text/css" rel="stylesheet" href="http://younglinux.info/misc/print.css" />
      </head>
  <body>
              <div class="section-1">
          
    <div id="node-341" class="section-2">
  <h1 class="book-heading">Урок 8. Установка и настройка тем оформления сайта</h1>
  <p class="right">Создание сайта на Drupal 6. Практический вводный курс</p>
<p>До сих пор мы использовали  поставляемую с системой Drupal тему с установленными по умолчанию настройками. Однако любой владелец web-ресурса желает, чтобы его сайт был оригинален и неповторим. Отчасти это достигается за счет web-дизайна. На этом уроке мы рассмотрим, как устанавливать и настраивать темы в CMS Drupal.</p>
<p>Темы, поставляемые с системой Drupal, хранятся в каталоге <span class="blue">themes</span> верхнего уровня его файловой структуры. Сторонние темы, которые администратор сайта загружает самостоятельно, настоятельно рекомендуют распаковывать в каталог <span class="blue">sites/all/themes</span>. В Drupal 6 каталога <span class="blue">themes</span> в папке <span class="blue">all</span> нет, поэтому необходимо его создать.</p>
<p>В большинстве тем предусмотрена возможность изменения некоторых стандартных настроек через интерфейс CMS Drupal. Когда администратор сайта меняет их, то в каталоге <span class="blue">sites/default/files</span> появляется папка, в которой сохраняются эти новые настройки. Обычно там среди прочего обязательно присутствует файл style.css. Проблема в том, что если вы будете вручную править этот файл, то потом в случае любого изменения настоек через интерфейс Drupal, он будет удален. Изменения, которые вы вручную вносите в файлы, содержащиеся в каталоге, где установлена сама тема, не изменяются при изменении настроек через интерфейс. Но тут появляется другая  проблема — при обновлении темы (когда выходит ее новая версия), вы теряете все ваши изменения. Поэтому, запомните два правила:</p>
<ol>
<li>Перед тем как вручную править тему, установите все необходимые вам настройки через страницу настроек темы в CMS Drupal.</li>
<li>В какой файл темы вы бы не вносили изменения, сохраняйте его, скопировав на локальный компьютер.</li>
</ol>
<p>Обо всем этом можно не заботиться, если не менять вручную никакие файлы темы, но в реальности такие ситуации бывают редко.</p>
<p>Откройте каталог <span class="blue">sites/default/files</span>. Если вы не меняли настройки темы Minnelli (которую мы используем), то каталог не должен содержать связанного с ней подкаталога. Теперь в браузере перейдите на страницу настроек темы Minnelli (на самом деле она является разновидностью темы Garland) и измените цветовую схему. Отметьте, что в каталоге <span class="blue">files</span> появилась папка <span class="blue">color</span>, а в ней каталог с измененными файлами темы. Еще раз измените цветовую схему, в <span class="blue">color</span> появится еще один каталог (первый можно удалить).</p>
<p>На нашем сайте используются логотип (картинка в верхнем левом углу сайта) и фавикон (иконка в адресной строке) самой системы Drupal. Очевидно, каждому приличному сайту требуется иметь свои личные логотип и фавикон, которые будут в сети Интернет отличать его от других. </p>
<p>Щелкните правой кнопкой мыши по логотипу сайта и выберите в контекстном меню пункт <span class="monoi">Свойства изображения</span>. Обратите внимание на его размеры: 64 х 73 пикселей. Примерно такое по размеру оригинальное изображение вам нужно будет создать самостоятельно в любом графическом процессоре. Вообще размер логотипа зависит от темы; часто бывает, что его размер не столь принципиален, т.к. тема способна "адаптироваться" под размеры изображения. Однако бывает, что изображение должно быть строго определенного размера. В данном случае вы можете строго не придерживаться оригинальной ширины картинки. Изображение лучше всего сохранить в формате PNG.</p>
<p>Для создания фавикона можно воспользоваться сайтом <span class="blue">favicon.ru</span>.</p>
<p>На странице настроек темы окончательно определитесь с цветовой схемой, снимите флажки <span class="monoi">Использовать логотип по умолчанию</span> и <span class="monoi">Использовать иконку по умолчанию</span>, укажите свои изображения и сохраните изменения.</p>
<p>Теперь в каталоге <span class="blue">colors</span> зайдите в только что сгенерированную папку. Откройте файл style.css на редактирование. Допустим, мы хотим изменить размер шрифта статей и немного подправить внешний вид заголовка третьего уровня. Найдите и исправьте следующие строки:</p>
<table>
<tr>
<th>Исходное описание стиля</th>
<th>Исправленное описание стиля</th>
</tr>
<tr>
<td>
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">h3 <span style="color: black;">&#123;</span>
  font-size: 140<span style="color: #66cc66;">%;</span>
<span style="color: black;">&#125;</span></pre></div>
</td>
<td>
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">h3 <span style="color: black;">&#123;</span>
  font-size: 140<span style="color: #66cc66;">%;</span>
  font-weight: bolder<span style="color: #66cc66;">;</span>
<span style="color: black;">&#125;</span></pre></div>
</td>
</tr>
<tr>
<td>
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">p <span style="color: black;">&#123;</span>
  margin: 0.6em 0 1.2em<span style="color: #66cc66;">;</span>
  padding: <span style="color: #ff4500;">0</span><span style="color: #66cc66;">;</span>
<span style="color: black;">&#125;</span></pre></div>
</td>
<td>
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">p <span style="color: black;">&#123;</span>
  margin: 0.6em 0 1.2em<span style="color: #66cc66;">;</span>
  padding: <span style="color: #ff4500;">0</span><span style="color: #66cc66;">;</span>
  font-size: 1.2em<span style="color: #66cc66;">;</span>
<span style="color: black;">&#125;</span></pre></div>
</td>
</tr>
</table>
<p>Если был увеличен размер шрифта абзацев, то, следовательно, должен быть увеличен размер шрифта маркированных и нумерованных списков, встречающихся в статьях. Однако изменение свойства font-size для всех списков приведет к искажению списков в меню. Чтобы изменить только списки в ноде, надо добавить в файл style.css, например, следующее определение стиля:<br />
<div class="geshifilter"><pre class="python geshifilter-python" style="font-family:monospace;">.<span style="color: black;">node</span> ol, .<span style="color: black;">node</span> ul <span style="color: black;">&#123;</span>
	font-size: 1.2em<span style="color: #66cc66;">;</span>
<span style="color: black;">&#125;</span></pre></div></p>
<p>Файл style.css очень большой (более 1000 строк), кроме того, не всегда описание всех стилей сайта находится в одном файле. Чтобы найти описание внешнего вида того или иного элемента, пользуются специальными инструментами, например, дополнением Firebug для браузера Mozilla Firefox. Чтобы его установить, в браузере надо выбрать пункт меню <span class="monoi">Инструменты ? Дополнения</span>, найти firebug и установить его. Далее, открыв в браузере сайт, кликнуть по странице правой кнопкой мыши и в контекстном меню выберите пункт <span class="monoi">Анализировать элемент</span>. Внизу справа вы будете видеть стили и файлы, в которых они описаны.</p>
<p>Допустим, нас не устраивает ширина центральной части сайта (места, где располагается статься на странице). В Firefox щелкните правой кнопкой мыши по области сайта и в контекстном меню выберите <span class="monoi">Анализировать элемент</span>. (Обратите внимание, у сайта должно быть меню справа и слева.) Найдите тег <span class="geshifilter"><code class="python geshifilter-python"><span style="color: #66cc66;">&lt;</span>div <span style="color: #008000;">id</span>=<span style="color: #483d8b;">&quot;container&quot;</span> <span style="color: #ff7700;font-weight:bold;">class</span>=<span style="color: #483d8b;">&quot;clear-block&quot;</span><span style="color: #66cc66;">&gt;</span></code></span>. Справа вы увидите его ширину в 980px, файл и место в нем, где находится это описание. В данном случае оказывается, что ширина сайта определена в файле minnelli.css, расположенном в каталоге <span class="blue">themes/garland/minnelli</span>. Найдите этот файл, увеличьте все три свойства ширины (width) в нем, например, на 200px. </p>
<p>Теперь с сайта <span class="blue">drupal.org</span> (ссылка <span class="monoi">Themes</span>) скачайте несколько понравившихся вам тем. Обращайте внимание на версию темы, которую вы скачиваете. Если у вас Drupal 6, то тема для Drupal 7 на нем работать не будет. Далее создайте каталог <span class="blue">themes</span> в папке <span class="blue">sites/all</span> и распакуйте темы туда. Протестируйте их по очереди (страница <span class="monoi">Темы оформления</span>). Обратите внимание на то, какие области сайта присутствуют в каждой теме, является ли тема бестабличной и т.д.</p>
<p>После опытов снова примените для сайта тему Minnelli.</p>
  </div>
    </div>
  </body>
</html>
